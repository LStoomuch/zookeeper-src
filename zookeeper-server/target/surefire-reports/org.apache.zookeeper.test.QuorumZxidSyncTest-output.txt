2020-03-18 17:36:50,333 [myid:] - INFO  [main:JUnit4ZKTestRunner@51] - No test.method specified. using default methods.
2020-03-18 17:36:50,337 [myid:] - INFO  [main:JUnit4ZKTestRunner@51] - No test.method specified. using default methods.
2020-03-18 17:36:50,374 [myid:] - INFO  [main:PortAssignment@154] - Test process 5/8 using ports from 21993 - 24685.
2020-03-18 17:36:50,505 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21994 from range 21993 - 24685.
2020-03-18 17:36:50,510 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testBehindLeader
2020-03-18 17:36:50,541 [myid:] - INFO  [main:QuorumBase@84] - QuorumBase.setup null
2020-03-18 17:36:51,021 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc3AAtVbmljYXN0UmVmMgAADDE3Mi4xOC4xNC4zNAAA2S/hEQE+U9XV7dK/e3oAAAFw7QCyzIABAHg=
2020-03-18 17:36:51,084 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21995 from range 21993 - 24685.
2020-03-18 17:36:51,085 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21996 from range 21993 - 24685.
2020-03-18 17:36:51,085 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21997 from range 21993 - 24685.
2020-03-18 17:36:51,086 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21998 from range 21993 - 24685.
2020-03-18 17:36:51,086 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21999 from range 21993 - 24685.
2020-03-18 17:36:51,088 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22000 from range 21993 - 24685.
2020-03-18 17:36:51,089 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22001 from range 21993 - 24685.
2020-03-18 17:36:51,091 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22002 from range 21993 - 24685.
2020-03-18 17:36:51,094 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22003 from range 21993 - 24685.
2020-03-18 17:36:51,096 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22004 from range 21993 - 24685.
2020-03-18 17:36:51,096 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22005 from range 21993 - 24685.
2020-03-18 17:36:51,097 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22006 from range 21993 - 24685.
2020-03-18 17:36:51,098 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22007 from range 21993 - 24685.
2020-03-18 17:36:51,098 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22008 from range 21993 - 24685.
2020-03-18 17:36:51,102 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22009 from range 21993 - 24685.
2020-03-18 17:36:51,103 [myid:] - INFO  [main:QuorumBase@119] - Ports are: 127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009
2020-03-18 17:36:51,146 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22005
2020-03-18 17:36:51,158 [myid:] - INFO  [main:QuorumPeer@752] - zookeeper.quorumCnxnTimeoutMs=-1
2020-03-18 17:36:51,371 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:51,373 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:51,375 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:51,471 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22005
2020-03-18 17:36:51,558 [myid:] - INFO  [main:X509Util@77] - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2020-03-18 17:36:51,769 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:51,908 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2020-03-18 17:36:51,909 [myid:] - INFO  [main:ZookeeperBanner@42] -   ______                  _                                          
2020-03-18 17:36:51,909 [myid:] - INFO  [main:ZookeeperBanner@42] -  |___  /                 | |                                         
2020-03-18 17:36:51,909 [myid:] - INFO  [main:ZookeeperBanner@42] -     / /    ___     ___   | | __   ___    ___   _ __     ___   _ __   
2020-03-18 17:36:51,909 [myid:] - INFO  [main:ZookeeperBanner@42] -    / /    / _ \   / _ \  | |/ /  / _ \  / _ \ | '_ \   / _ \ | '__|
2020-03-18 17:36:51,909 [myid:] - INFO  [main:ZookeeperBanner@42] -   / /__  | (_) | | (_) | |   <  |  __/ |  __/ | |_) | |  __/ | |    
2020-03-18 17:36:51,911 [myid:] - INFO  [main:ZookeeperBanner@42] -  /_____|  \___/   \___/  |_|\_\  \___|  \___| | .__/   \___| |_|
2020-03-18 17:36:51,911 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               | |                     
2020-03-18 17:36:51,911 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               |_|                     
2020-03-18 17:36:51,911 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2020-03-18 17:36:51,919 [myid:] - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 03/18/2020 09:36 GMT
2020-03-18 17:36:51,919 [myid:] - INFO  [main:Environment@98] - Server environment:host.name=172.18.14.34
2020-03-18 17:36:51,920 [myid:] - INFO  [main:Environment@98] - Server environment:java.version=1.8.0_191
2020-03-18 17:36:51,921 [myid:] - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2020-03-18 17:36:51,921 [myid:] - INFO  [main:Environment@98] - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre
2020-03-18 17:36:51,921 [myid:] - INFO  [main:Environment@98] - Server environment:java.class.path=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/test-classes:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/classes:/Users/liaosheng/.m2/repository/com/github/spotbugs/spotbugs-annotations/3.1.9/spotbugs-annotations-3.1.9.jar:/Users/liaosheng/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/Users/liaosheng/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/liaosheng/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-jute/target/zookeeper-jute-3.6.0.jar:/Users/liaosheng/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/liaosheng/.m2/repository/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/Users/liaosheng/.m2/repository/io/netty/netty-handler/4.1.45.Final/netty-handler-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-common/4.1.45.Final/netty-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-buffer/4.1.45.Final/netty-buffer-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport/4.1.45.Final/netty-transport-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-resolver/4.1.45.Final/netty-resolver-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-codec/4.1.45.Final/netty-codec-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-epoll/4.1.45.Final/netty-transport-native-epoll-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.45.Final/netty-transport-native-unix-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-server/9.4.24.v20191120/jetty-server-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-http/9.4.24.v20191120/jetty-http-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-util/9.4.24.v20191120/jetty-util-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-io/9.4.24.v20191120/jetty-io-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.24.v20191120/jetty-servlet-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-security/9.4.24.v20191120/jetty-security-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.10.3/jackson-databind-2.9.10.3.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.10/jackson-annotations-2.9.10.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.10/jackson-core-2.9.10.jar:/Users/liaosheng/.m2/repository/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/jline/jline/2.11/jline-2.11.jar:/Users/liaosheng/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.5/metrics-core-3.2.5.jar:/Users/liaosheng/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-core/2.0.0/kerb-core-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-pkix/2.0.0/kerby-pkix-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-asn1/2.0.0/kerby-asn1-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-util/2.0.0/kerby-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-simplekdc/2.0.0/kerb-simplekdc-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-client/2.0.0/kerb-client-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-common/2.0.0/kerb-common-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-crypto/2.0.0/kerb-crypto-2.0.0.jar:/Users/liaosheng/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-util/2.0.0/kerb-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/token-provider/2.0.0/token-provider-2.0.0.jar:/Users/liaosheng/.m2/repository/com/nimbusds/nimbus-jose-jwt/4.41.2/nimbus-jose-jwt-4.41.2.jar:/Users/liaosheng/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/Users/liaosheng/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/liaosheng/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/liaosheng/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-admin/2.0.0/kerb-admin-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-server/2.0.0/kerb-server-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-identity/2.0.0/kerb-identity-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-xdr/2.0.0/kerby-xdr-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-config/2.0.0/kerby-config-2.0.0.jar:/Users/liaosheng/.m2/repository/org/mockito/mockito-core/2.27.0/mockito-core-2.27.0.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy/1.9.10/byte-buddy-1.9.10.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy-agent/1.9.10/byte-buddy-agent-1.9.10.jar:/Users/liaosheng/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/liaosheng/.m2/repository/org/jmockit/jmockit/1.48/jmockit-1.48.jar:/Users/liaosheng/.m2/repository/junit/junit/4.12/junit-4.12.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/liaosheng/.m2/repository/org/xerial/snappy/snappy-java/1.1.7/snappy-java-1.1.7.jar:
2020-03-18 17:36:51,922 [myid:] - INFO  [main:Environment@98] - Server environment:java.library.path=/Users/liaosheng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2020-03-18 17:36:51,923 [myid:] - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=/var/folders/c9/j1lmbpys2t38k93k9_tlj4100000gp/T/
2020-03-18 17:36:51,923 [myid:] - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2020-03-18 17:36:51,924 [myid:] - INFO  [main:Environment@98] - Server environment:os.name=Mac OS X
2020-03-18 17:36:51,924 [myid:] - INFO  [main:Environment@98] - Server environment:os.arch=x86_64
2020-03-18 17:36:51,926 [myid:] - INFO  [main:Environment@98] - Server environment:os.version=10.14.5
2020-03-18 17:36:51,935 [myid:] - INFO  [main:Environment@98] - Server environment:user.name=liaosheng
2020-03-18 17:36:51,936 [myid:] - INFO  [main:Environment@98] - Server environment:user.home=/Users/liaosheng
2020-03-18 17:36:51,936 [myid:] - INFO  [main:Environment@98] - Server environment:user.dir=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server
2020-03-18 17:36:51,937 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=113MB
2020-03-18 17:36:51,937 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=455MB
2020-03-18 17:36:51,937 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=123MB
2020-03-18 17:36:51,938 [myid:] - INFO  [main:ZooKeeperServer@128] - zookeeper.enableEagerACLCheck = false
2020-03-18 17:36:51,940 [myid:] - INFO  [main:ZooKeeperServer@136] - zookeeper.digest.enabled = true
2020-03-18 17:36:51,941 [myid:] - INFO  [main:ZooKeeperServer@140] - zookeeper.closeSessionTxn.enabled = true
2020-03-18 17:36:51,941 [myid:] - INFO  [main:ZooKeeperServer@1433] - zookeeper.flushDelay=0
2020-03-18 17:36:51,942 [myid:] - INFO  [main:ZooKeeperServer@1442] - zookeeper.maxWriteQueuePollTime=0
2020-03-18 17:36:51,942 [myid:] - INFO  [main:ZooKeeperServer@1451] - zookeeper.maxBatchSize=1000
2020-03-18 17:36:51,942 [myid:] - INFO  [main:ZooKeeperServer@241] - zookeeper.intBufferStartingSizeBytes = 1024
2020-03-18 17:36:52,038 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,039 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,039 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:52,040 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:52,040 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:52,114 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22006
2020-03-18 17:36:52,114 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:52,115 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:52,115 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:52,115 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-03-18 17:36:52,116 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:52,117 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,117 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,117 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:52,118 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:52,118 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:52,118 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22007
2020-03-18 17:36:52,118 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:52,118 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:52,119 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:52,119 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22007
2020-03-18 17:36:52,120 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:52,121 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,121 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,122 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:52,122 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:52,122 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:52,122 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22008
2020-03-18 17:36:52,123 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:52,123 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:52,123 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:52,123 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22008
2020-03-18 17:36:52,124 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:52,128 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,131 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,134 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:52,144 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:52,144 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:52,145 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22009
2020-03-18 17:36:52,145 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:52,146 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:52,146 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:52,147 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-03-18 17:36:52,147 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:52,148 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,148 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:52,148 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:52,148 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:52,149 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:52,338 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:52,340 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:52,341 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:52,342 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:52,343 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:52,343 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:52,343 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:52,343 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:52,344 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:52,345 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:52,345 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:52,345 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:52,345 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:52,346 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:52,346 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:52,347 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:36:52,473 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:52,500 [myid:] - INFO  [main:SnapStream@61] - zookeeper.snapshot.compression.method = CHECKED
2020-03-18 17:36:52,501 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.0
2020-03-18 17:36:52,507 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 159 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:52,508 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,511 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,514 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:52,520 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:52,523 [myid:] - INFO  [main:FastLeaderElection@87] - zookeeper.fastleader.minNotificationInterval=200
2020-03-18 17:36:52,523 [myid:] - INFO  [main:FastLeaderElection@89] - zookeeper.fastleader.maxNotificationInterval=60000
2020-03-18 17:36:52,527 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22000
2020-03-18 17:36:52,542 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:52,543 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:36:52,553 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22001
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,554 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,555 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,556 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,557 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,553 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:36:52,561 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:52,562 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2/snapshot.0
2020-03-18 17:36:52,571 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 11 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:52,572 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,617 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,647 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:52,649 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:52,650 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22001
2020-03-18 17:36:52,650 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:36:52,652 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:52,652 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:36:52,653 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:52,654 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55737
2020-03-18 17:36:52,660 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,660 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,661 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,664 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,664 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,665 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,670 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,671 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,674 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,674 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,675 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,678 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2/snapshot.0
2020-03-18 17:36:52,691 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 40 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:52,691 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,693 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,714 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:52,715 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:52,715 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22002
2020-03-18 17:36:52,716 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:36:52,717 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:52,718 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x0
2020-03-18 17:36:52,718 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:52,718 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2/snapshot.0
2020-03-18 17:36:52,719 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:52,722 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,721 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,720 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55750
2020-03-18 17:36:52,719 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55749
2020-03-18 17:36:52,723 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,724 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,724 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,724 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,725 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,725 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,726 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,726 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,726 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,727 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,728 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,728 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,729 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,730 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,731 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,732 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,740 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,742 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:52,742 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:52,743 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22003
2020-03-18 17:36:52,744 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:36:52,744 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:52,745 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:52,745 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x0
2020-03-18 17:36:52,745 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.0
2020-03-18 17:36:52,746 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:52,746 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55761
2020-03-18 17:36:52,747 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55762
2020-03-18 17:36:52,748 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,748 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55763
2020-03-18 17:36:52,748 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,749 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,750 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,750 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,750 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,750 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,751 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,751 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,752 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,752 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,753 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,754 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,754 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,755 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,755 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,755 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,756 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,756 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,758 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,759 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,760 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,761 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:52,761 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,763 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:52,765 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:52,765 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:52,766 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22004
2020-03-18 17:36:52,767 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:52,768 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x0
2020-03-18 17:36:52,770 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55777
2020-03-18 17:36:52,771 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55778
2020-03-18 17:36:52,771 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,771 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,772 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,772 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55779
2020-03-18 17:36:52,774 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55780
2020-03-18 17:36:52,774 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,774 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,775 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,776 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,776 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,776 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,777 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,777 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,778 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,778 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,778 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,779 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,785 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:36:52,787 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,787 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,786 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,786 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,791 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,785 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,792 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,792 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,792 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,792 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,792 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,792 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,793 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,793 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:52,791 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009
2020-03-18 17:36:52,804 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:52,825 [myid:] - INFO  [NIOWorkerThread-1:FourLetterCommands@223] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, -720899=telnet close, 1751217000=hash, 2003003507=wchs, 2003003504=wchp, 1684632179=dirs, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2020-03-18 17:36:52,825 [myid:] - INFO  [NIOWorkerThread-1:FourLetterCommands@224] - The list of enabled four letter word commands is : [[wchs, stat, wchp, dirs, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, telnet close, crst, hash, cons]]
2020-03-18 17:36:52,825 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55798
2020-03-18 17:36:52,993 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:52,993 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:52,993 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:36:52,994 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:52,994 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:52,994 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:36:52,997 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:52,997 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:52,997 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:52,997 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:52,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):LearnerMaster@47] - zookeeper.leader.maxConcurrentSnapSyncs = 10
2020-03-18 17:36:52,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):LearnerMaster@50] - zookeeper.leader.maxConcurrentDiffSyncs = 100
2020-03-18 17:36:52,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@84] - TCP NoDelay set to: true
2020-03-18 17:36:52,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@105] - zookeeper.leader.ackLoggingFrequency = 1000
2020-03-18 17:36:52,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@1351] - zookeeper.leader.maxTimeToWaitForEpoch = -1ms
2020-03-18 17:36:52,999 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@117] - leaderConnectDelayDuringRetryMs: 100
2020-03-18 17:36:52,999 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@118] - TCP NoDelay set to: true
2020-03-18 17:36:53,001 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):BlueThrottle@141] - Weighed connection throttling is disabled
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:53,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,005 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,005 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,005 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,004 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:53,006 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:53,006 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:53,006 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:53,006 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:53,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:53,006 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:53,008 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:53,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:53,007 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:53,008 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:53,008 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:53,008 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:53,008 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:53,008 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:53,009 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:53,009 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:53,009 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:53,009 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:53,009 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:53,011 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:53,011 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2
2020-03-18 17:36:53,010 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2
2020-03-18 17:36:53,011 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:53,011 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2
2020-03-18 17:36:53,012 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 295 MS
2020-03-18 17:36:53,012 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 469 MS
2020-03-18 17:36:53,012 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 361 MS
2020-03-18 17:36:53,012 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 268 MS
2020-03-18 17:36:53,015 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:53,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:53,015 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:53,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 248 MS
2020-03-18 17:36:53,016 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:53,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:36:53,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.0
2020-03-18 17:36:53,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:36:53,019 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:53,020 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:53,020 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:53,021 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:53,030 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55825:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:21996:22001:participant;127.0.0.1:22006
2020-03-18 17:36:53,030 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55826:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22002:participant;127.0.0.1:22007
2020-03-18 17:36:53,030 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55824:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:22000:participant;127.0.0.1:22005
2020-03-18 17:36:53,030 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55823:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:21998:22003:participant;127.0.0.1:22008
2020-03-18 17:36:53,036 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:53,036 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:53,036 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:53,037 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:53,037 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,037 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55825:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55823:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:53,037 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55826:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:53,037 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55824:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55823:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55826:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55825:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55825:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 2
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55826:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 3
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55823:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 4
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55824:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:36:53,038 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55824:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:36:53,040 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:36:53,040 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:36:53,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:36:53,040 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:36:53,041 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:53,040 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:53,041 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:53,050 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:36:53,050 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:53,053 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:53,054 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,054 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:53,055 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[2, 3, 5],[2, 3, 5]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:36:53,057 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:53,057 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:53,057 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,057 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:53,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:53,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:36:53,081 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000
2020-03-18 17:36:53,093 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:53,095 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55831
2020-03-18 17:36:53,097 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:36:53,097 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:53,097 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:53,097 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:53,098 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:53,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:53,099 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:53,099 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:53,102 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:53,103 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:53,103 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:53,103 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:53,346 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:53,347 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55842
2020-03-18 17:36:53,348 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:36:53,349 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22005 is accepting client connections
2020-03-18 17:36:53,349 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-03-18 17:36:53,350 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55844
2020-03-18 17:36:53,350 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:53,351 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22006 is accepting client connections
2020-03-18 17:36:53,351 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22007
2020-03-18 17:36:53,352 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55845
2020-03-18 17:36:53,352 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:53,353 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22007 is accepting client connections
2020-03-18 17:36:53,353 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22008
2020-03-18 17:36:53,354 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55846
2020-03-18 17:36:53,354 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:53,354 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22008 is accepting client connections
2020-03-18 17:36:53,355 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:53,356 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55847
2020-03-18 17:36:53,356 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:53,356 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22009 is accepting client connections
2020-03-18 17:36:53,356 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:36:53,365 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:53,365 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:53,365 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,365 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:53,365 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55823",name5="id:4"
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:53,366 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55824",name5="id:1"
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:36:53,367 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55825",name5="id:2"
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55826",name5="id:3"
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:53,368 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:53,369 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:53,369 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:53,369 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:53,369 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:53,369 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:53,370 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,370 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:53,370 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:53,370 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:53,370 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:53,370 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:53,370 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:53,374 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:36:53,375 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:36:53,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:53,375 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:36:53,375 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:36:53,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:53,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:36:53,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:36:53,376 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:53,376 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:53,377 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:53,378 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:53,378 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:53,378 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:53,378 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:53,378 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:53,378 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:53,378 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:53,379 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:53,380 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:53,380 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:53,380 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:53,380 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:53,380 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:53,380 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:53,380 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:53,381 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:53,382 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:53,382 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:53,382 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:53,382 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:53,382 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:53,382 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:53,382 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:53,383 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:53,383 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:53,383 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:53,383 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:53,384 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:36:53,384 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:53,384 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:36:53,384 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:53,384 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:36:53,384 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:53,385 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:36:53,385 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:53,385 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:36:53,385 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:53,386 [myid:] - INFO  [main:QuorumBase@131] - Initial fdcount is: 163
2020-03-18 17:36:53,386 [myid:] - INFO  [main:QuorumBase@134] - Setup finished
2020-03-18 17:36:53,386 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testBehindLeader
2020-03-18 17:36:53,387 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:53,388 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55848
2020-03-18 17:36:53,388 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:36:53,388 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:53,390 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55849
2020-03-18 17:36:53,390 [myid:] - INFO  [NIOWorkerThread-5:StatCommand@52] - Stat command output
2020-03-18 17:36:53,397 [myid:] - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 03/18/2020 09:36 GMT
2020-03-18 17:36:53,397 [myid:] - INFO  [main:Environment@98] - Client environment:host.name=172.18.14.34
2020-03-18 17:36:53,397 [myid:] - INFO  [main:Environment@98] - Client environment:java.version=1.8.0_191
2020-03-18 17:36:53,397 [myid:] - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2020-03-18 17:36:53,397 [myid:] - INFO  [main:Environment@98] - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre
2020-03-18 17:36:53,397 [myid:] - INFO  [main:Environment@98] - Client environment:java.class.path=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/test-classes:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/classes:/Users/liaosheng/.m2/repository/com/github/spotbugs/spotbugs-annotations/3.1.9/spotbugs-annotations-3.1.9.jar:/Users/liaosheng/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/Users/liaosheng/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/liaosheng/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-jute/target/zookeeper-jute-3.6.0.jar:/Users/liaosheng/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/liaosheng/.m2/repository/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/Users/liaosheng/.m2/repository/io/netty/netty-handler/4.1.45.Final/netty-handler-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-common/4.1.45.Final/netty-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-buffer/4.1.45.Final/netty-buffer-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport/4.1.45.Final/netty-transport-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-resolver/4.1.45.Final/netty-resolver-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-codec/4.1.45.Final/netty-codec-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-epoll/4.1.45.Final/netty-transport-native-epoll-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.45.Final/netty-transport-native-unix-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-server/9.4.24.v20191120/jetty-server-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-http/9.4.24.v20191120/jetty-http-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-util/9.4.24.v20191120/jetty-util-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-io/9.4.24.v20191120/jetty-io-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.24.v20191120/jetty-servlet-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-security/9.4.24.v20191120/jetty-security-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.10.3/jackson-databind-2.9.10.3.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.10/jackson-annotations-2.9.10.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.10/jackson-core-2.9.10.jar:/Users/liaosheng/.m2/repository/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/jline/jline/2.11/jline-2.11.jar:/Users/liaosheng/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.5/metrics-core-3.2.5.jar:/Users/liaosheng/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-core/2.0.0/kerb-core-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-pkix/2.0.0/kerby-pkix-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-asn1/2.0.0/kerby-asn1-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-util/2.0.0/kerby-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-simplekdc/2.0.0/kerb-simplekdc-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-client/2.0.0/kerb-client-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-common/2.0.0/kerb-common-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-crypto/2.0.0/kerb-crypto-2.0.0.jar:/Users/liaosheng/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-util/2.0.0/kerb-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/token-provider/2.0.0/token-provider-2.0.0.jar:/Users/liaosheng/.m2/repository/com/nimbusds/nimbus-jose-jwt/4.41.2/nimbus-jose-jwt-4.41.2.jar:/Users/liaosheng/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/Users/liaosheng/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/liaosheng/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/liaosheng/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-admin/2.0.0/kerb-admin-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-server/2.0.0/kerb-server-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-identity/2.0.0/kerb-identity-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-xdr/2.0.0/kerby-xdr-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-config/2.0.0/kerby-config-2.0.0.jar:/Users/liaosheng/.m2/repository/org/mockito/mockito-core/2.27.0/mockito-core-2.27.0.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy/1.9.10/byte-buddy-1.9.10.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy-agent/1.9.10/byte-buddy-agent-1.9.10.jar:/Users/liaosheng/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/liaosheng/.m2/repository/org/jmockit/jmockit/1.48/jmockit-1.48.jar:/Users/liaosheng/.m2/repository/junit/junit/4.12/junit-4.12.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/liaosheng/.m2/repository/org/xerial/snappy/snappy-java/1.1.7/snappy-java-1.1.7.jar:
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:java.library.path=/Users/liaosheng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=/var/folders/c9/j1lmbpys2t38k93k9_tlj4100000gp/T/
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:os.name=Mac OS X
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:os.arch=x86_64
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:os.version=10.14.5
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:user.name=liaosheng
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:user.home=/Users/liaosheng
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:user.dir=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server
2020-03-18 17:36:53,398 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.free=103MB
2020-03-18 17:36:53,399 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.max=455MB
2020-03-18 17:36:53,399 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.total=123MB
2020-03-18 17:36:53,402 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009 sessionTimeout=10000 watcher=org.apache.zookeeper.DummyWatcher@782663d3
2020-03-18 17:36:53,429 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:36:53,480 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:36:53,506 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22006.
2020-03-18 17:36:53,507 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:36:53,511 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55860, server: localhost/127.0.0.1:22006
2020-03-18 17:36:53,515 [myid:] - INFO  [SyncThread:5:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:36:53,516 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:36:53,517 [myid:] - INFO  [SyncThread:4:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:36:53,525 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:36:53,525 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:36:53,526 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:36:53,525 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:36:53,526 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:36:53,526 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:36:53,527 [myid:] - INFO  [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x200015b1e890000
2020-03-18 17:36:53,527 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x200015b1e890000
2020-03-18 17:36:53,527 [myid:] - INFO  [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x200015b1e890000
2020-03-18 17:36:53,527 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015b1e890000
2020-03-18 17:36:53,527 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015b1e890000
2020-03-18 17:36:53,534 [myid:] - INFO  [CommitProcessor:2:ZKAuditProvider@42] - ZooKeeper audit is disabled.
2020-03-18 17:36:53,539 [myid:127.0.0.1:22006] - INFO  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22006, session id = 0x200015b1e890000, negotiated timeout = 10000
2020-03-18 17:36:53,553 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015b1e890000
2020-03-18 17:36:53,556 [myid:127.0.0.1:22006] - WARN  [main-SendThread(127.0.0.1:22006):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x200015b1e890000.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015b1e890000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:36:53,661 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015b1e890000 closed
2020-03-18 17:36:53,661 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015b1e890000
2020-03-18 17:36:53,661 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:53,662 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:53,663 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55824:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:53,664 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55824:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55824 ********
2020-03-18 17:36:53,664 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:53,665 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:53,664 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:53,666 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 644ms. Sync state: true
2020-03-18 17:36:53,666 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:53,665 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:53,666 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:53,666 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:53,667 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:53,667 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:53,667 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:53,668 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:53,668 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:53,669 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:53,669 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:53,670 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:53,670 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:53,670 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:53,670 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:53,670 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22005:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:53,671 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:53,671 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:53,672 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,672 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,672 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,672 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,672 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,672 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,673 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,672 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,673 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,672 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,673 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,672 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,674 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,672 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:36:53,674 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:36:53,673 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,674 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,673 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,674 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,673 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,674 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,673 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:36:53,673 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:36:53,673 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:36:53,675 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,675 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:36:53,674 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,676 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,674 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,675 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,676 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:36:53,676 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:36:53,677 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:53,677 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled) to exit thread
2020-03-18 17:36:53,678 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:53,678 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:53,678 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:53,678 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:53,678 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55825:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:53,679 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 657ms. Sync state: true
2020-03-18 17:36:53,679 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55825:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55825 ********
2020-03-18 17:36:53,679 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:53,679 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:53,679 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:53,680 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:53,680 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:53,684 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:53,684 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:53,684 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:53,684 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:53,685 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:53,685 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:53,686 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:53,689 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:53,690 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:53,690 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:53,691 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:53,692 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:53,692 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:53,694 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:53,694 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,694 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,694 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,694 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,694 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,695 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,694 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,694 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,696 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,694 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,696 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:36:53,696 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:53,696 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,695 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:36:53,695 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,696 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,695 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,695 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,694 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,697 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,697 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:36:53,697 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:36:53,696 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:36:53,696 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-03-18 17:36:53,697 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,698 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:36:53,697 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:53,698 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:53,698 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55826:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:53,698 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55826:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55826 ********
2020-03-18 17:36:53,698 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:53,698 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:53,699 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:53,699 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 677ms. Sync state: true
2020-03-18 17:36:53,699 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:53,699 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:53,699 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:53,699 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:53,700 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:53,700 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:53,700 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:53,700 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:53,700 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:53,701 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:53,701 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:53,701 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:53,701 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:53,701 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:53,701 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22007:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:53,702 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:53,702 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:53,702 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:53,702 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,702 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,702 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,703 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,703 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,702 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,703 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,703 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,703 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,703 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,703 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,703 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:36:53,704 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:36:53,704 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,703 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:36:53,704 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:36:53,704 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:53,705 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled) to exit thread
2020-03-18 17:36:53,705 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:53,706 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:53,706 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55823:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:53,706 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55823:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55823 ********
2020-03-18 17:36:53,709 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:53,709 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:53,709 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:53,709 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 688ms. Sync state: true
2020-03-18 17:36:53,709 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:53,709 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:53,710 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:53,710 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:53,711 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:53,711 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:53,711 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:53,711 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:53,711 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:53,712 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:53,712 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:53,716 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:53,716 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:53,716 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:53,717 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22008:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:53,717 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:53,717 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:53,718 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:53,718 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,718 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,718 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,721 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:36:53,727 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:53,728 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:36:53,728 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:53,727 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:53,729 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:53,729 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled) to exit thread
2020-03-18 17:36:53,729 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:53,729 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:36:53,729 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:36:53,729 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:21999:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,730 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:53,730 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:53,730 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:53,730 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:53,730 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:36:53,731 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:36:53,731 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:36:53,731 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:36:53,731 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:53,731 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:53,731 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:36:53,731 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:36:53,731 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:53,732 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:53,732 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:53,733 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:53,733 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22009:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:53,733 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:53,733 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:36:53,733 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:53,733 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:36:53,734 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:53,734 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:53,734 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:53,735 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:53,735 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled) to exit thread
2020-03-18 17:36:53,735 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22005
2020-03-18 17:36:53,735 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:53,736 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:53,736 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:53,736 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22005
2020-03-18 17:36:53,736 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:53,737 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,737 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,737 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:53,737 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:53,737 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,738 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22006
2020-03-18 17:36:53,738 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:53,738 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:53,738 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:53,738 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-03-18 17:36:53,738 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:53,739 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,740 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,740 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:53,741 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:53,741 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,741 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22007
2020-03-18 17:36:53,741 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:53,741 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:53,741 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:53,741 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22007
2020-03-18 17:36:53,742 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:53,742 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,743 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,743 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:53,743 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:53,743 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,743 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22008
2020-03-18 17:36:53,743 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:53,743 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:53,744 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:53,744 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22008
2020-03-18 17:36:53,744 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:53,745 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,745 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,745 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:53,745 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:53,745 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,746 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22009
2020-03-18 17:36:53,746 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:53,746 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:53,747 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:53,747 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-03-18 17:36:53,747 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:53,748 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,748 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:53,749 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:53,749 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:53,749 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:53,749 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:53,750 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:53,752 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:53,754 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:53,755 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:53,756 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:36:53,757 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.0
2020-03-18 17:36:53,758 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:53,759 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:36:53,759 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:53,772 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:53,779 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:53,780 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22000
2020-03-18 17:36:53,780 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:36:53,781 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2/snapshot.0
2020-03-18 17:36:53,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:53,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x100000003
2020-03-18 17:36:53,782 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:53,783 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,783 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22001
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,784 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:36:53,784 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,785 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,784 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:53,785 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,786 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:53,787 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:53,788 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22001
2020-03-18 17:36:53,788 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:36:53,788 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2/snapshot.0
2020-03-18 17:36:53,788 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:53,789 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x100000003
2020-03-18 17:36:53,789 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:53,790 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55871
2020-03-18 17:36:53,796 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,796 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,797 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,797 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,797 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:36:53,797 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 9 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:53,797 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,798 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,799 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,800 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,803 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,806 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:53,807 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:53,808 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:36:53,809 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2/snapshot.0
2020-03-18 17:36:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:53,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x100000003
2020-03-18 17:36:53,809 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:53,810 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55877
2020-03-18 17:36:53,810 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22002
2020-03-18 17:36:53,810 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,825 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,826 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,828 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55882
2020-03-18 17:36:53,828 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:36:53,876 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,830 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,829 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,829 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,923 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,828 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,923 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,923 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,923 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,924 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,924 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,924 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,924 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,926 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 118 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:53,927 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,927 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,928 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,940 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:53,941 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:53,944 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22003
2020-03-18 17:36:53,951 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:36:53,952 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:53,952 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x100000003
2020-03-18 17:36:53,953 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55894
2020-03-18 17:36:53,955 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55895
2020-03-18 17:36:53,956 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,957 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,957 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55896
2020-03-18 17:36:53,958 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,958 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,959 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,960 [myid:] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (4, 3)
2020-03-18 17:36:53,960 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55904
2020-03-18 17:36:53,960 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,959 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,977 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,977 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,977 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,978 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,978 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:53,975 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.0
2020-03-18 17:36:53,977 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:53,977 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,040 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,047 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:54,048 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:36:54,048 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 97 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:54,060 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1266] - Exception when using channel: for id 3 my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1209)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1259)
2020-03-18 17:36:54,060 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,060 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,060 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:54,060 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:36:54,060 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,060 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,080 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,081 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55914
2020-03-18 17:36:54,080 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:54,080 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,077 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:54,084 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,083 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:36:54,085 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,085 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22004
2020-03-18 17:36:54,085 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x100000003
2020-03-18 17:36:54,084 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:36:54,088 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009
2020-03-18 17:36:54,088 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,088 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:54,090 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55916
2020-03-18 17:36:54,091 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55915
2020-03-18 17:36:54,091 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55917
2020-03-18 17:36:54,092 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,092 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,093 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,097 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,099 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,099 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55918
2020-03-18 17:36:54,099 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,099 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,099 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,099 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,100 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,101 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,101 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,101 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,102 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55927
2020-03-18 17:36:54,102 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,102 [myid:] - INFO  [WorkerSender[myid=4]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 4)
2020-03-18 17:36:54,103 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,103 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,103 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,103 [myid:] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 3)
2020-03-18 17:36:54,104 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,104 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55932
2020-03-18 17:36:54,104 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,104 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,106 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55930
2020-03-18 17:36:54,108 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,108 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,108 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,108 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,108 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,109 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,109 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55936
2020-03-18 17:36:54,109 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:36:54,109 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,109 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,110 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,109 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,110 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,111 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:36:54,111 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,111 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,111 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,111 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,246 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:36:54,303 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,303 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,304 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,304 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,305 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 518 MS
2020-03-18 17:36:54,306 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 525 MS
2020-03-18 17:36:54,308 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,308 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,309 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,309 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,309 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,309 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,310 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,310 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,310 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,310 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,310 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,310 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 359 MS
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:36:54,311 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,312 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,312 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,312 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,312 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:36:54,312 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,312 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,312 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,313 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,313 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,313 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2
2020-03-18 17:36:54,313 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 504 MS
2020-03-18 17:36:54,313 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,313 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,313 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:54,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 230 MS
2020-03-18 17:36:54,314 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,316 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:36:54,316 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.100000003
2020-03-18 17:36:54,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 3 ms
2020-03-18 17:36:54,348 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:54,350 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55951
2020-03-18 17:36:54,411 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:54,411 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:54,413 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55954:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:21996:22001:participant;127.0.0.1:22006
2020-03-18 17:36:54,413 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55953:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:22000:participant;127.0.0.1:22005
2020-03-18 17:36:54,414 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:54,416 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:54,416 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,416 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:54,416 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55955:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:21998:22003:participant;127.0.0.1:22008
2020-03-18 17:36:54,417 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:54,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55956:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22002:participant;127.0.0.1:22007
2020-03-18 17:36:54,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55953:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:54,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55953:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:36:54,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55953:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 1
2020-03-18 17:36:54,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55954:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:54,418 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55954:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:36:54,418 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55954:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 2
2020-03-18 17:36:54,419 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:36:54,419 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:54,419 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55955:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:54,419 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55956:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:54,419 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:54,421 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55956:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:36:54,421 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55956:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 3
2020-03-18 17:36:54,419 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55955:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:36:54,421 [myid:] - INFO  [LearnerHandler-/127.0.0.1:55955:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 4
2020-03-18 17:36:54,420 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:36:54,421 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:54,421 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:36:54,421 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:54,422 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:54,423 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,424 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:36:54,424 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:54,425 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:54,425 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:36:54,426 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:54,425 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:54,426 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,426 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,427 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:54,427 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,428 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 3, 5],[1, 3, 5]]; starting up and setting last processed zxid: 0x200000000
2020-03-18 17:36:54,428 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:54,429 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:54,430 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:36:54,431 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:36:54,431 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:54,431 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:54,431 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:54,431 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:54,433 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:54,432 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:54,433 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:54,437 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:54,440 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:54,440 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:54,440 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:54,604 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:54,606 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55961
2020-03-18 17:36:54,606 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:36:54,607 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22005 is accepting client connections
2020-03-18 17:36:54,607 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-03-18 17:36:54,608 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55962
2020-03-18 17:36:54,608 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:54,609 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22006 is accepting client connections
2020-03-18 17:36:54,609 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22007
2020-03-18 17:36:54,610 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55963
2020-03-18 17:36:54,610 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:54,611 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22007 is accepting client connections
2020-03-18 17:36:54,611 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22008
2020-03-18 17:36:54,612 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55964
2020-03-18 17:36:54,612 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:54,613 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22008 is accepting client connections
2020-03-18 17:36:54,613 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:54,614 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55965
2020-03-18 17:36:54,614 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:54,615 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22009 is accepting client connections
2020-03-18 17:36:54,616 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:36:54,619 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:54,619 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:54,619 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,619 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:54,619 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:54,620 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55956",name5="id:3"
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:54,621 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55955",name5="id:4"
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:54,622 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55953",name5="id:1"
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:55954",name5="id:2"
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:54,623 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:54,626 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:36:54,626 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,626 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:36:54,627 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:54,628 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:54,629 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:54,630 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:54,631 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:54,632 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:54,633 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:36:54,634 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:54,634 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:36:54,634 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:54,634 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:36:54,634 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:54,634 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:54,635 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:55966
2020-03-18 17:36:54,635 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:36:54,636 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:54,636 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:54,636 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:54,636 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:54,636 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55953:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:54,636 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:54,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 225ms. Sync state: true
2020-03-18 17:36:54,637 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55953:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55953 ********
2020-03-18 17:36:54,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:54,637 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:54,638 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:54,638 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:54,638 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:54,638 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:54,638 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:54,638 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:54,638 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:54,640 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:54,640 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:54,640 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:54,641 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:54,641 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:54,641 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:54,640 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22005:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:54,640 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:54,642 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:54,642 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,643 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:36:54,642 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,652 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,652 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,653 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,642 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,652 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,653 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,652 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,652 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,655 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,652 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,656 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,652 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,644 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:54,643 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,658 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,643 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,643 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,658 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,658 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:36:54,657 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled) to exit thread
2020-03-18 17:36:54,657 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:36:54,657 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,659 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:36:54,655 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:36:54,655 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,653 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,660 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:36:54,659 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:54,659 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,661 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:54,661 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,662 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:54,661 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55954:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:54,661 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:54,662 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:54,661 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:36:54,663 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:54,662 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55954:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55954 ********
2020-03-18 17:36:54,662 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 250ms. Sync state: true
2020-03-18 17:36:54,662 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:36:54,663 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:54,663 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:54,663 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:54,663 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:54,664 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:54,664 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:54,664 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:54,664 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:54,665 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:54,665 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:54,666 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:54,666 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:54,666 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:54,666 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:54,666 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:54,666 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:54,667 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:54,667 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,669 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,669 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:54,668 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,669 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,668 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,668 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,667 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,671 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,667 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,671 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:36:54,671 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,669 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-03-18 17:36:54,672 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:54,669 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,669 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,673 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,669 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,669 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,674 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,673 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:36:54,674 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,673 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:36:54,674 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:36:54,672 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:54,672 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,672 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:36:54,675 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:36:54,675 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:54,674 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55956:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:54,674 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:54,675 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:54,675 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55956:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55956 ********
2020-03-18 17:36:54,675 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 259ms. Sync state: true
2020-03-18 17:36:54,675 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:54,675 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:54,676 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:54,676 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:54,676 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:54,676 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:54,676 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:54,676 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:54,676 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:54,678 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:54,678 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:54,678 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:54,678 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:54,678 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:54,678 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:54,678 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:54,678 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22007:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:54,679 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:54,679 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,680 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:54,681 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled) to exit thread
2020-03-18 17:36:54,680 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,681 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,680 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,680 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,682 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,679 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,682 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,679 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,683 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,682 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,682 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:36:54,681 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:54,683 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:54,681 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:36:54,683 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:36:54,683 [myid:] - ERROR [LearnerHandler-/127.0.0.1:55955:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:54,683 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,683 [myid:] - WARN  [LearnerHandler-/127.0.0.1:55955:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:55955 ********
2020-03-18 17:36:54,683 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:54,683 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:54,684 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:54,684 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 269ms. Sync state: true
2020-03-18 17:36:54,683 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:36:54,684 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:54,684 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:54,684 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:54,685 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:54,685 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:54,685 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:54,685 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:54,685 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:54,685 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:54,686 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:54,686 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:54,686 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:54,686 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:54,687 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:54,687 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:54,687 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22008:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:54,687 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:54,687 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:54,688 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,688 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,688 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,688 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,688 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,688 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:54,688 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,688 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:36:54,689 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:36:54,689 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled) to exit thread
2020-03-18 17:36:54,689 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:54,689 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:36:54,689 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:36:54,689 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:54,689 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:21999:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,690 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:54,690 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:54,690 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:54,690 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:36:54,690 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:36:54,691 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:36:54,691 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:36:54,691 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:36:54,691 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:54,691 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:54,691 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:36:54,691 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:54,691 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:54,692 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:54,693 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:54,693 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22009:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:54,693 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:54,693 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:36:54,694 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:36:54,693 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:54,694 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:54,694 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:54,694 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:54,694 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:54,694 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled) to exit thread
2020-03-18 17:36:54,694 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22005
2020-03-18 17:36:54,694 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:54,695 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:54,695 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:54,695 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22005
2020-03-18 17:36:54,695 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:54,696 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,696 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,696 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:54,696 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:54,696 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,696 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22006
2020-03-18 17:36:54,696 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:54,697 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:54,697 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:54,697 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-03-18 17:36:54,697 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:54,698 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,698 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,698 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:54,698 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:54,698 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,698 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22007
2020-03-18 17:36:54,698 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:54,699 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:54,699 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:54,699 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22007
2020-03-18 17:36:54,699 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:54,700 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,700 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,700 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:54,700 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:54,700 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,700 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22008
2020-03-18 17:36:54,700 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:54,701 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:54,701 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:54,701 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22008
2020-03-18 17:36:54,701 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:54,702 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,702 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,702 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:54,702 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:54,702 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,702 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22009
2020-03-18 17:36:54,702 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:54,703 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:54,703 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:54,703 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-03-18 17:36:54,703 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:54,704 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,704 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:54,707 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:54,707 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:54,708 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,708 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:54,708 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:54,709 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:54,709 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:54,709 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:54,709 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:54,709 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:54,710 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:36:54,711 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.0
2020-03-18 17:36:54,711 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:54,712 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:36:54,712 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:54,714 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:54,714 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:54,714 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22000
2020-03-18 17:36:54,715 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:36:54,715 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2/snapshot.0
2020-03-18 17:36:54,715 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:54,716 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x100000003
2020-03-18 17:36:54,716 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:54,716 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,717 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22001
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,717 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:36:54,717 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:54,718 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,718 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,719 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:54,720 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:54,721 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,721 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:36:54,721 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22001
2020-03-18 17:36:54,722 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2/snapshot.0
2020-03-18 17:36:54,722 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:54,722 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:54,722 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x100000003
2020-03-18 17:36:54,723 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55972
2020-03-18 17:36:54,724 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,725 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,725 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,726 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,726 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 2 ms
2020-03-18 17:36:54,726 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,726 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 5 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:54,726 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,726 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,727 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,727 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,727 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,728 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:54,728 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:54,728 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,729 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:36:54,730 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:54,731 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22002
2020-03-18 17:36:54,731 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x100000003
2020-03-18 17:36:54,731 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2/snapshot.0
2020-03-18 17:36:54,732 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:54,732 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55980
2020-03-18 17:36:54,733 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,733 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55981
2020-03-18 17:36:54,733 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,734 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,734 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,735 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,735 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,735 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,735 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,736 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,736 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,736 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,736 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,736 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,737 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,738 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,738 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,738 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,739 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:36:54,739 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 8 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:54,740 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:54,740 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:54,741 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:36:54,741 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22003
2020-03-18 17:36:54,742 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:54,742 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.100000003
2020-03-18 17:36:54,742 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x100000003
2020-03-18 17:36:54,743 [myid:] - INFO  [main:DataTree@1730] - The digest in the snapshot has digest version of 2, , with zxid as 0x100000003, and digest value as 9278163751
2020-03-18 17:36:54,743 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55993
2020-03-18 17:36:54,744 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,745 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55994
2020-03-18 17:36:54,745 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,745 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,746 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,746 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:55995
2020-03-18 17:36:54,746 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,747 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,747 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,747 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,748 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,748 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,748 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56003
2020-03-18 17:36:54,748 [myid:] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (4, 3)
2020-03-18 17:36:54,748 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,749 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,749 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,749 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,749 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,750 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,750 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,751 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,751 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,751 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,751 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,751 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,751 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,752 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,752 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,751 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:54,752 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:54,752 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:36:54,753 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56009
2020-03-18 17:36:54,753 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 11 ms, highest zxid is 0x100000003, digest is 9278163751
2020-03-18 17:36:54,754 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:54,754 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:54,755 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22004
2020-03-18 17:36:54,756 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:54,756 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:36:54,757 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:36:54,757 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,757 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,758 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009
2020-03-18 17:36:54,758 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:54,758 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:54,758 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x100000003
2020-03-18 17:36:54,759 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56011
2020-03-18 17:36:54,759 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56010
2020-03-18 17:36:54,760 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56012
2020-03-18 17:36:54,761 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56013
2020-03-18 17:36:54,761 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,762 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,762 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,762 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,763 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,763 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,763 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56014
2020-03-18 17:36:54,764 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,764 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,764 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,764 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,764 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,764 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,765 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,765 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,766 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,766 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,766 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,767 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,767 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,767 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,767 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,768 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,768 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,768 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,768 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,768 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,768 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,768 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,769 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:54,966 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,966 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,966 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,966 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 252 MS
2020-03-18 17:36:54,967 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,968 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,969 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,969 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,970 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 230 MS
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 213 MS
2020-03-18 17:36:54,971 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.100000003
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 241 MS
2020-03-18 17:36:54,972 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 251 MS
2020-03-18 17:36:54,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:54,974 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:54,976 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:54,978 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 6 ms
2020-03-18 17:36:54,979 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:54,980 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56039:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:21998:22003:participant;127.0.0.1:22008
2020-03-18 17:36:54,982 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56040:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22002:participant;127.0.0.1:22007
2020-03-18 17:36:54,982 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56042:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:21996:22001:participant;127.0.0.1:22006
2020-03-18 17:36:54,985 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,985 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:54,987 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:54,987 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:54,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56042:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:54,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56042:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:36:54,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56040:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:54,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56040:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:36:54,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56039:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:54,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56039:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:36:54,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56042:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 2
2020-03-18 17:36:54,988 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56040:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 3
2020-03-18 17:36:54,988 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56039:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 4
2020-03-18 17:36:54,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:36:54,992 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:36:54,992 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:54,993 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:54,994 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:54,997 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:36:54,997 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:54,998 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:36:54,998 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:54,999 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:54,999 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,001 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[3, 4, 5],[3, 4, 5]]; starting up and setting last processed zxid: 0x300000000
2020-03-18 17:36:55,002 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:55,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:55,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:55,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:36:55,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:36:55,003 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:55,003 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:55,004 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,004 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:55,004 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:55,004 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:55,004 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:55,004 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:55,005 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:55,007 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:55,007 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:55,007 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:55,007 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:55,007 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:55,008 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:55,009 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:55,020 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:55,021 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56044
2020-03-18 17:36:55,072 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:55,073 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56045:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:22000:participant;127.0.0.1:22005
2020-03-18 17:36:55,075 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56045:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:55,075 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:55,075 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56045:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000000 peerLastZxid=0x100000003
2020-03-18 17:36:55,077 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56045:LearnerHandler@877] - Use txnlog and committedLog for peer sid: 1
2020-03-18 17:36:55,078 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56045:LearnerHandler@972] - Sending DIFF zxid=0x300000000  for peer sid: 1
2020-03-18 17:36:55,078 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56045:LearnerHandler@881] - Detected gap between end of txnlog: 0x100000003 and start of committedLog: 0x300000000
2020-03-18 17:36:55,078 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56045:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x100000003, zxid of leader is 0x300000000, send zxid of db as 0x300000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:36:55,078 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:36:55,078 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x300000000
2020-03-18 17:36:55,078 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,078 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,081 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:55,082 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,082 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x300000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.300000000
2020-03-18 17:36:55,083 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:36:55,084 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:55,085 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:55,085 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:55,085 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:55,139 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:55,271 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:55,273 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56050
2020-03-18 17:36:55,273 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:36:55,274 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22005 is accepting client connections
2020-03-18 17:36:55,274 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-03-18 17:36:55,275 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56051
2020-03-18 17:36:55,275 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:55,276 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22006 is accepting client connections
2020-03-18 17:36:55,276 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22007
2020-03-18 17:36:55,277 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56052
2020-03-18 17:36:55,277 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:55,278 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22007 is accepting client connections
2020-03-18 17:36:55,278 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22008
2020-03-18 17:36:55,280 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56053
2020-03-18 17:36:55,280 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:55,280 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22008 is accepting client connections
2020-03-18 17:36:55,281 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:55,282 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56054
2020-03-18 17:36:55,282 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:55,282 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22009 is accepting client connections
2020-03-18 17:36:55,283 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:36:55,285 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:55,286 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:55,286 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,286 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:55,286 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:55,286 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:55,286 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:55,286 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:55,287 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:55,288 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,288 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:36:55,288 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,288 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56039",name5="id:4"
2020-03-18 17:36:55,288 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:55,288 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:55,288 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:55,289 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56040",name5="id:3"
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56042",name5="id:2"
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:55,290 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:55,291 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:55,291 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56045",name5="id:1"
2020-03-18 17:36:55,291 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:55,291 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:55,294 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:36:55,294 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,294 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:36:55,294 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:55,294 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:36:55,294 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,294 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:55,295 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:55,296 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:55,297 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:55,298 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:55,299 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:36:55,300 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:36:55,301 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:55,301 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:55,302 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56055
2020-03-18 17:36:55,303 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:36:55,337 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009 sessionTimeout=10000 watcher=org.apache.zookeeper.DummyWatcher@782663d3
2020-03-18 17:36:55,338 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:36:55,339 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:36:55,341 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22007.
2020-03-18 17:36:55,341 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:36:55,342 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:56059, server: localhost/127.0.0.1:22007
2020-03-18 17:36:55,345 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:36:55,345 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:36:55,345 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:36:55,345 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:36:55,345 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:36:55,345 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:36:55,345 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:36:55,345 [myid:] - INFO  [SyncThread:5:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:36:55,346 [myid:] - INFO  [SyncThread:4:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:36:55,348 [myid:] - INFO  [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x300015b26220000
2020-03-18 17:36:55,348 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015b26220000
2020-03-18 17:36:55,348 [myid:] - INFO  [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x300015b26220000
2020-03-18 17:36:55,348 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x300015b26220000
2020-03-18 17:36:55,348 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015b26220000
2020-03-18 17:36:55,358 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22007, session id = 0x300015b26220000, negotiated timeout = 10000
2020-03-18 17:36:55,417 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015b26220000
2020-03-18 17:36:55,524 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015b26220000 closed
2020-03-18 17:36:55,524 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015b26220000
2020-03-18 17:36:55,524 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:55,524 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:55,524 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:55,525 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:55,525 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:55,525 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:55,525 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:55,524 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:55,524 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56045:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:55,525 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56045:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56045 ********
2020-03-18 17:36:55,525 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 453ms. Sync state: true
2020-03-18 17:36:55,526 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:55,526 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:55,526 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:55,526 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:55,527 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:55,527 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:55,528 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:55,528 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:55,528 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:55,528 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:55,529 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:55,529 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:55,529 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22005:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:55,529 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:55,530 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:55,530 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,531 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,531 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,535 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,534 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,535 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,531 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,531 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,534 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,533 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,535 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,534 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:55,533 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,533 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,536 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,533 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,536 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,531 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,531 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,538 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,531 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,538 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,537 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:36:55,537 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,539 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:36:55,536 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,536 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:36:55,536 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled) to exit thread
2020-03-18 17:36:55,535 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:36:55,535 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:36:55,535 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:36:55,539 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:55,539 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:36:55,538 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,540 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:36:55,539 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:55,540 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:55,540 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:55,540 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:55,540 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56042:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:55,541 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56042:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56042 ********
2020-03-18 17:36:55,540 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:55,541 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 561ms. Sync state: true
2020-03-18 17:36:55,541 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:55,541 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:55,541 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:55,541 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:55,542 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:55,542 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:55,542 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:55,542 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:55,543 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:55,543 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:55,543 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:55,544 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:55,544 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:55,544 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:55,544 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:55,544 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:55,545 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:55,545 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,545 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,546 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,548 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,546 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,548 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,546 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,546 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,548 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,545 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,545 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,548 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,548 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,548 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:36:55,548 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,547 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,547 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,550 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,547 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:55,546 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,550 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-03-18 17:36:55,550 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:36:55,550 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:36:55,549 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:36:55,549 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:36:55,549 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:36:55,550 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:55,551 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:55,551 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:55,551 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:55,551 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:55,551 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56040:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:55,552 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 573ms. Sync state: true
2020-03-18 17:36:55,552 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56040:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56040 ********
2020-03-18 17:36:55,551 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:55,552 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:55,552 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:55,553 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:55,553 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:55,553 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:55,553 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:55,553 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:55,553 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:55,554 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:55,555 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:55,555 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:55,556 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:55,556 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:55,555 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:55,557 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:55,557 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22007:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:55,559 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:55,559 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,559 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,559 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,559 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,559 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,561 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,559 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,561 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,559 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,561 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:36:55,561 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,561 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:36:55,560 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:55,559 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,562 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,562 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled) to exit thread
2020-03-18 17:36:55,561 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:36:55,561 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:36:55,562 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:55,563 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:55,563 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:55,563 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:55,563 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:55,563 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56039:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:55,564 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56039:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56039 ********
2020-03-18 17:36:55,563 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:55,564 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 588ms. Sync state: true
2020-03-18 17:36:55,564 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:55,566 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:55,566 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:55,567 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:55,567 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:55,567 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:55,567 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:55,567 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:55,568 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:55,569 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:55,569 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:55,570 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:55,570 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:55,570 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:55,570 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:55,570 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22008:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:55,571 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:55,571 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,571 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,573 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,572 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:55,571 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,571 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,573 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,574 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:36:55,573 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled) to exit thread
2020-03-18 17:36:55,574 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:36:55,574 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:55,574 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:36:55,574 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:36:55,575 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:55,575 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:21999:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,575 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:55,576 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:55,576 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:55,576 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:36:55,577 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:36:55,577 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:36:55,577 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:36:55,577 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:55,577 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:36:55,577 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:36:55,577 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:55,577 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:55,577 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:55,578 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:55,579 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:55,580 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:55,580 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22009:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:55,580 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:36:55,580 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:36:55,580 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:55,580 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:55,580 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:55,581 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:55,581 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:55,581 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled) to exit thread
2020-03-18 17:36:55,582 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22005
2020-03-18 17:36:55,583 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:55,583 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:55,583 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:55,583 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22005
2020-03-18 17:36:55,584 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:55,584 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,584 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,584 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:55,584 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:55,585 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,585 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22006
2020-03-18 17:36:55,585 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:55,585 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:55,585 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:55,585 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-03-18 17:36:55,586 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:55,635 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,635 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,635 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:55,635 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:55,636 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,637 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22007
2020-03-18 17:36:55,637 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:55,637 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:55,637 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:55,637 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22007
2020-03-18 17:36:55,638 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:55,638 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,638 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,638 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:55,638 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:55,639 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,639 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22008
2020-03-18 17:36:55,639 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:55,639 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:55,639 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:55,639 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22008
2020-03-18 17:36:55,640 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:55,640 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,640 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,640 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:55,640 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:55,641 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,641 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22009
2020-03-18 17:36:55,641 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:55,641 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:55,641 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:55,641 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-03-18 17:36:55,641 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:55,642 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,642 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:55,642 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:55,642 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:55,642 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:55,643 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:55,643 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:55,643 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:55,643 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:55,644 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:55,648 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:55,649 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:55,653 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:55,653 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:55,653 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:55,653 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:55,653 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:55,654 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:55,654 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:55,654 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:55,654 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:36:55,714 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.300000000
2020-03-18 17:36:55,714 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:55,715 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:36:55,716 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 61 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:55,725 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:55,725 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:55,734 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22000
2020-03-18 17:36:55,736 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:36:55,737 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:55,737 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x300000003
2020-03-18 17:36:55,738 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22001
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,738 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,738 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,739 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,739 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,780 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:55,780 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:55,784 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:55,788 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:55,790 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:55,791 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2/snapshot.0
2020-03-18 17:36:55,791 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:55,792 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 0 ms
2020-03-18 17:36:55,793 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 56 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:55,796 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:55,796 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:55,796 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:55,796 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22001
2020-03-18 17:36:55,797 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:55,797 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:55,797 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:55,797 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:55,798 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:55,799 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x300000003
2020-03-18 17:36:55,800 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56069
2020-03-18 17:36:55,800 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:36:55,801 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,801 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,801 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,802 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,802 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,802 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,802 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,803 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,803 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,803 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,803 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2/snapshot.0
2020-03-18 17:36:55,803 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,804 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:55,805 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 1 ms
2020-03-18 17:36:55,805 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:55,806 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:55,807 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:55,807 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22002
2020-03-18 17:36:55,808 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:36:55,808 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2/snapshot.0
2020-03-18 17:36:55,809 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:55,812 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:55,812 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x300000003
2020-03-18 17:36:55,813 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56077
2020-03-18 17:36:55,814 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56078
2020-03-18 17:36:55,814 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,814 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,814 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,814 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,815 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,815 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,815 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,816 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,816 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,816 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56086
2020-03-18 17:36:55,816 [myid:] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (3, 2)
2020-03-18 17:36:55,816 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,816 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,816 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,816 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:36:55,816 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,817 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,816 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,816 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,817 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,817 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:55,817 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:55,817 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56088
2020-03-18 17:36:55,817 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,818 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,818 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:55,818 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:36:55,818 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,818 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,818 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 6 ms
2020-03-18 17:36:55,819 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 10 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:55,820 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:55,820 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:55,821 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22003
2020-03-18 17:36:55,822 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:36:55,823 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:55,823 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x300000003
2020-03-18 17:36:55,823 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.100000003
2020-03-18 17:36:55,824 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:55,824 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56090
2020-03-18 17:36:55,824 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56091
2020-03-18 17:36:55,825 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,825 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,825 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56092
2020-03-18 17:36:55,826 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,826 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,826 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,826 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,826 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,826 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,827 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,827 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,827 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,827 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,827 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,828 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,828 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,828 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,828 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,829 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,829 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,829 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,829 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,829 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:55,830 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,830 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:36:55,830 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 8 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:55,832 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:55,832 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:55,832 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22004
2020-03-18 17:36:55,959 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:36:55,959 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009
2020-03-18 17:36:55,959 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:55,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:55,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x300000003
2020-03-18 17:36:55,960 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56107
2020-03-18 17:36:55,979 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56108
2020-03-18 17:36:55,980 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56109
2020-03-18 17:36:55,981 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56110
2020-03-18 17:36:55,982 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56111
2020-03-18 17:36:55,982 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,985 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,985 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,985 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,986 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,986 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,986 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,986 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,987 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,987 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,987 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,987 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,988 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,988 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,988 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,988 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,988 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,989 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,989 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,989 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,990 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,990 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,990 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,990 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,991 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,991 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,991 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:55,991 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:56,190 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:56,191 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 455 MS
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:56,192 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:56,193 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 395 MS
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 382 MS
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:56,194 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:56,195 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:56,195 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,195 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2
2020-03-18 17:36:56,195 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 236 MS
2020-03-18 17:36:56,196 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 372 MS
2020-03-18 17:36:56,197 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:36:56,197 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x300000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.300000003
2020-03-18 17:36:56,197 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:56,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:36:56,200 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:56,202 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56136:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:21998:22003:participant;127.0.0.1:22008
2020-03-18 17:36:56,240 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:56,241 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56138
2020-03-18 17:36:56,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:36:56,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:36:56,296 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:56,297 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:56,298 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:56,301 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56141:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22002:participant;127.0.0.1:22007
2020-03-18 17:36:56,303 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:56,304 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:56,304 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,304 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56136:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:56,304 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56141:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:56,304 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56136:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:36:56,304 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56136:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 4
2020-03-18 17:36:56,304 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56141:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:36:56,305 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56141:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 3
2020-03-18 17:36:56,306 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56142:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:21996:22001:participant;127.0.0.1:22006
2020-03-18 17:36:56,306 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56143:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:22000:participant;127.0.0.1:22005
2020-03-18 17:36:56,306 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:36:56,308 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:36:56,308 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:56,308 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:36:56,308 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:56,310 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:56,310 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:56,310 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,312 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:56,312 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56142:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:56,313 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56142:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:36:56,313 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56142:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 2
2020-03-18 17:36:56,312 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,313 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:56,313 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56143:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:56,313 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56143:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:36:56,313 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56143:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 1
2020-03-18 17:36:56,314 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:36:56,314 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:56,315 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:56,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:36:56,315 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:56,316 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,317 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:56,317 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[2, 4, 5],[2, 4, 5]]; starting up and setting last processed zxid: 0x400000000
2020-03-18 17:36:56,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:56,319 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:56,319 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:36:56,320 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:36:56,320 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:56,321 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:56,322 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:56,322 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:56,323 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:56,323 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:56,323 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:56,324 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:56,327 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:56,491 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:56,492 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56144
2020-03-18 17:36:56,492 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:36:56,493 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22005 is accepting client connections
2020-03-18 17:36:56,493 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-03-18 17:36:56,495 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56145
2020-03-18 17:36:56,495 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:56,496 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22006 is accepting client connections
2020-03-18 17:36:56,496 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22007
2020-03-18 17:36:56,497 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56146
2020-03-18 17:36:56,497 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:56,498 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22007 is accepting client connections
2020-03-18 17:36:56,498 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22008
2020-03-18 17:36:56,500 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56147
2020-03-18 17:36:56,500 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:56,500 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22008 is accepting client connections
2020-03-18 17:36:56,501 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:56,501 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56148
2020-03-18 17:36:56,502 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:56,503 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22009 is accepting client connections
2020-03-18 17:36:56,503 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:36:56,506 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:56,506 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:56,506 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,506 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:56,506 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:56,507 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:56,508 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56141",name5="id:3"
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,509 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56136",name5="id:4"
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56143",name5="id:1"
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56142",name5="id:2"
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:56,510 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:56,512 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:36:56,513 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:56,514 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:56,515 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:56,516 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:56,517 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:56,518 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:56,519 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:36:56,520 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:56,520 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:36:56,520 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:56,520 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:56,521 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56150
2020-03-18 17:36:56,521 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:36:56,521 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:56,521 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:56,522 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:56,522 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56143:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:56,522 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:56,522 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:56,522 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:56,522 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56143:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56143 ********
2020-03-18 17:36:56,522 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:56,523 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:56,522 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 222ms. Sync state: true
2020-03-18 17:36:56,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:56,523 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:56,523 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:56,523 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:56,523 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:56,523 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:56,524 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:56,525 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:56,525 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:56,525 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:56,525 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:56,525 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:56,525 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:56,525 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22005:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:56,527 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,527 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,527 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,528 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,528 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:56,527 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,528 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,528 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,528 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,529 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,527 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,529 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,528 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,528 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,528 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:36:56,528 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled) to exit thread
2020-03-18 17:36:56,528 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,529 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,527 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,529 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,527 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,529 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,529 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:56,529 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:36:56,529 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:36:56,529 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:36:56,529 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:36:56,530 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:56,530 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:36:56,530 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:36:56,530 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56142:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:56,530 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:56,530 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56142:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56142 ********
2020-03-18 17:36:56,530 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:56,530 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:56,531 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 232ms. Sync state: true
2020-03-18 17:36:56,531 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:56,531 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:56,531 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:56,531 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:56,531 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:56,532 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:56,532 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:56,532 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:56,532 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:56,533 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:56,533 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:56,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:56,533 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:56,533 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:56,533 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:56,533 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:56,533 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:56,534 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:56,534 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,534 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,535 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,535 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,535 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,535 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:56,535 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,535 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:36:56,535 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,536 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,535 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,536 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,535 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,535 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,536 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,534 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,534 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,536 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,536 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,536 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,535 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-03-18 17:36:56,535 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:36:56,537 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:56,537 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:36:56,536 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:36:56,536 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:36:56,536 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:36:56,537 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:56,537 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:56,537 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:56,537 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:56,537 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56141:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:56,537 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:56,538 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56141:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56141 ********
2020-03-18 17:36:56,538 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 239ms. Sync state: true
2020-03-18 17:36:56,538 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:56,538 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:56,538 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:56,538 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:56,539 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:56,539 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:56,539 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:56,539 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:56,540 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:56,540 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:56,540 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:56,540 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:56,540 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:56,540 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:56,541 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22007:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:56,541 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:56,543 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:56,543 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,543 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,544 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:36:56,544 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,544 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,543 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,544 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,544 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,544 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:56,544 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:36:56,544 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,545 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,544 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,545 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,545 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,545 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled) to exit thread
2020-03-18 17:36:56,544 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:36:56,545 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:56,545 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:36:56,545 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:56,546 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:56,546 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:56,546 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:56,546 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56136:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:56,546 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 346ms. Sync state: true
2020-03-18 17:36:56,546 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:56,546 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:56,546 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56136:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56136 ********
2020-03-18 17:36:56,546 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:56,547 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:56,547 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:56,547 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:56,547 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:56,547 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:56,547 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:56,548 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:56,548 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:56,548 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:56,548 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22008:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:56,549 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:56,548 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:56,548 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:56,549 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:56,549 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:56,549 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,550 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,550 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,549 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,550 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,550 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:36:56,550 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,550 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:56,551 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:36:56,551 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled) to exit thread
2020-03-18 17:36:56,551 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:56,551 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:36:56,551 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:36:56,551 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:56,551 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:21999:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,552 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:56,552 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:56,552 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:56,552 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:36:56,552 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:36:56,553 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:36:56,553 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:36:56,553 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:56,553 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:36:56,553 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:36:56,553 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:56,553 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:56,553 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:56,554 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:56,555 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22009:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:56,555 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:56,555 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:56,555 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:36:56,555 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:36:56,555 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:56,555 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:56,555 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:56,555 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:56,556 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:56,556 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled) to exit thread
2020-03-18 17:36:56,556 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22005
2020-03-18 17:36:56,556 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:56,557 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:56,557 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:56,557 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22005
2020-03-18 17:36:56,557 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:56,558 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,558 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,558 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:56,558 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:56,558 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,558 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22006
2020-03-18 17:36:56,558 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:56,558 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:56,558 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:56,559 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-03-18 17:36:56,559 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:56,559 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,560 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,560 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:56,560 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:56,560 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,560 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22007
2020-03-18 17:36:56,560 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:56,560 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:56,560 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:56,561 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22007
2020-03-18 17:36:56,561 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:56,561 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,561 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,562 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:56,562 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:56,562 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,562 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22008
2020-03-18 17:36:56,562 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:56,562 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:56,562 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:56,562 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22008
2020-03-18 17:36:56,563 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:56,563 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,563 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,563 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:56,563 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:56,564 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,564 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22009
2020-03-18 17:36:56,564 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:56,564 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:56,564 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:56,564 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-03-18 17:36:56,564 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:56,565 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,565 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:56,565 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:56,565 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:56,565 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:56,566 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:56,566 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:56,566 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:56,665 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:21995:22000:participant;127.0.0.1:22005, 2=127.0.0.1:21996:22001:participant;127.0.0.1:22006, 3=127.0.0.1:21997:22002:participant;127.0.0.1:22007, 4=127.0.0.1:21998:22003:participant;127.0.0.1:22008, 5=127.0.0.1:21999:22004:participant;127.0.0.1:22009}
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:56,666 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:56,667 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:36:56,667 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:36:56,667 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.300000000
2020-03-18 17:36:56,668 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:56,669 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:36:56,672 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 6 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:56,743 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:56,743 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:56,745 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22000
2020-03-18 17:36:56,750 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:36:56,750 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:56,750 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x300000003
2020-03-18 17:36:56,750 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2/snapshot.0
2020-03-18 17:36:56,751 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:56,751 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22001
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,752 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,752 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,752 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,753 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 1 ms
2020-03-18 17:36:56,753 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:56,753 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,758 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:56,758 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:56,759 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22001
2020-03-18 17:36:56,762 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:36:56,762 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:56,762 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x300000003
2020-03-18 17:36:56,762 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2/snapshot.0
2020-03-18 17:36:56,763 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56159
2020-03-18 17:36:56,763 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:56,764 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,764 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,765 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,765 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,765 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 1 ms
2020-03-18 17:36:56,765 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:56,767 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:56,767 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,767 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,767 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,767 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,767 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:56,768 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,768 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,769 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,769 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22002
2020-03-18 17:36:56,770 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:36:56,770 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:56,772 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x300000003
2020-03-18 17:36:56,772 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2/snapshot.0
2020-03-18 17:36:56,773 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56167
2020-03-18 17:36:56,773 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:56,774 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,773 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56168
2020-03-18 17:36:56,774 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,775 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,775 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,775 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,776 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,776 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,777 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,777 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (3, 1)
2020-03-18 17:36:56,777 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,777 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56175
2020-03-18 17:36:56,777 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,777 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,777 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,778 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,778 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:36:56,778 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,779 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,780 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,780 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,780 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,780 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,780 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,780 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:36:56,780 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,780 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56179
2020-03-18 17:36:56,781 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,782 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,786 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 6 ms
2020-03-18 17:36:56,786 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 15 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:56,789 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:56,790 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:56,790 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22003
2020-03-18 17:36:56,791 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:36:56,792 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:56,792 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x300000003
2020-03-18 17:36:56,792 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.300000003
2020-03-18 17:36:56,793 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56180
2020-03-18 17:36:56,794 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56181
2020-03-18 17:36:56,794 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,794 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,795 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56182
2020-03-18 17:36:56,795 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,795 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,795 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,796 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,796 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,796 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,796 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56189
2020-03-18 17:36:56,796 [myid:] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (4, 2)
2020-03-18 17:36:56,796 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,797 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,797 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,797 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,797 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,797 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:56,797 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,797 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,797 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1266] - Exception when using channel: for id 4 my id = 2
java.net.SocketException: Broken pipe (Write failed)
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:199)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1209)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1259)
2020-03-18 17:36:56,797 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,798 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,798 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,798 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:36:56,798 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:36:56,799 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:56,799 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:56,799 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,799 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:56,799 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,800 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56196
2020-03-18 17:36:56,800 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,801 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,801 [myid:] - INFO  [main:DataTree@1730] - The digest in the snapshot has digest version of 2, , with zxid as 0x300000003, and digest value as 11148373123
2020-03-18 17:36:56,802 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 11 ms, highest zxid is 0x300000003, digest is 11148373123
2020-03-18 17:36:56,804 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:56,804 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:56,805 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22004
2020-03-18 17:36:56,807 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:56,807 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x300000003
2020-03-18 17:36:56,808 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:36:56,808 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009
2020-03-18 17:36:56,808 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:56,808 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56197
2020-03-18 17:36:56,809 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,809 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56199
2020-03-18 17:36:56,809 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56198
2020-03-18 17:36:56,809 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,810 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,810 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,810 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,811 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56200
2020-03-18 17:36:56,811 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,811 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,811 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,811 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,811 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,812 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,812 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,812 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56205
2020-03-18 17:36:56,812 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,812 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,813 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,813 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,813 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,813 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,813 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,814 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,814 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,814 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:56,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:57,013 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 263 MS
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:57,014 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:57,015 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:57,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 244 MS
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:57,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 226 MS
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:57,017 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21999
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:57,017 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 211 MS
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x300000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.300000003
2020-03-18 17:36:57,018 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:57,019 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:57,019 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:57,019 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2
2020-03-18 17:36:57,019 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 256 MS
2020-03-18 17:36:57,021 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:57,022 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 4 ms
2020-03-18 17:36:57,023 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:57,024 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56230:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:21996:22001:participant;127.0.0.1:22006
2020-03-18 17:36:57,024 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56228:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:21998:22003:participant;127.0.0.1:22008
2020-03-18 17:36:57,026 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,027 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:57,027 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56228:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:57,027 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56230:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:57,027 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:57,027 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56230:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:36:57,027 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56228:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:36:57,027 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56230:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 2
2020-03-18 17:36:57,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:36:57,028 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56228:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 4
2020-03-18 17:36:57,029 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:36:57,029 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:36:57,029 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:57,029 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:57,030 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:57,030 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:57,030 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,031 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[2, 4, 5],[2, 4, 5]]; starting up and setting last processed zxid: 0x500000000
2020-03-18 17:36:57,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:57,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:57,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:57,033 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:57,034 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:57,034 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:57,084 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:57,086 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56231
2020-03-18 17:36:57,101 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,101 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,102 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,104 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,104 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,104 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,108 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,113 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,113 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,113 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,116 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:57,117 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56233:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:22000:participant;127.0.0.1:22005
2020-03-18 17:36:57,119 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56233:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:57,119 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:57,119 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56233:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x500000000 peerLastZxid=0x300000003
2020-03-18 17:36:57,119 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21999:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21999
2020-03-18 17:36:57,120 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56233:LearnerHandler@877] - Use txnlog and committedLog for peer sid: 1
2020-03-18 17:36:57,120 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56234:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22002:participant;127.0.0.1:22007
2020-03-18 17:36:57,121 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56233:LearnerHandler@972] - Sending DIFF zxid=0x500000000  for peer sid: 1
2020-03-18 17:36:57,121 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56233:LearnerHandler@881] - Detected gap between end of txnlog: 0x300000003 and start of committedLog: 0x500000000
2020-03-18 17:36:57,121 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56233:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x300000003, zxid of leader is 0x500000000, send zxid of db as 0x500000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:36:57,121 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:36:57,121 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x500000000
2020-03-18 17:36:57,121 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,121 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,122 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:57,122 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56234:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:57,123 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56234:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x500000000 peerLastZxid=0x300000003
2020-03-18 17:36:57,123 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:57,124 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,124 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x500000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.500000000
2020-03-18 17:36:57,124 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56234:LearnerHandler@877] - Use txnlog and committedLog for peer sid: 3
2020-03-18 17:36:57,125 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56234:LearnerHandler@972] - Sending DIFF zxid=0x500000000  for peer sid: 3
2020-03-18 17:36:57,125 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56234:LearnerHandler@881] - Detected gap between end of txnlog: 0x300000003 and start of committedLog: 0x500000000
2020-03-18 17:36:57,125 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56234:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x300000003, zxid of leader is 0x500000000, send zxid of db as 0x500000000, 2 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:36:57,125 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:36:57,125 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x500000000
2020-03-18 17:36:57,125 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,125 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,126 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:36:57,127 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:57,127 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,127 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x500000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2/snapshot.500000000
2020-03-18 17:36:57,127 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:57,127 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:57,127 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:57,127 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:57,128 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:36:57,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:57,129 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:57,129 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:57,129 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:57,130 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:57,131 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:57,343 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:57,345 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56239
2020-03-18 17:36:57,345 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:36:57,346 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22005 is accepting client connections
2020-03-18 17:36:57,346 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-03-18 17:36:57,347 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56240
2020-03-18 17:36:57,347 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:57,348 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22006 is accepting client connections
2020-03-18 17:36:57,348 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22007
2020-03-18 17:36:57,349 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56241
2020-03-18 17:36:57,349 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:57,349 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22007 is accepting client connections
2020-03-18 17:36:57,349 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22008
2020-03-18 17:36:57,350 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56242
2020-03-18 17:36:57,350 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:57,351 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22008 is accepting client connections
2020-03-18 17:36:57,351 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:57,352 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56243
2020-03-18 17:36:57,352 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:36:57,353 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22009 is accepting client connections
2020-03-18 17:36:57,353 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:36:57,355 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:57,355 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:57,355 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,355 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56228",name5="id:4"
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56233",name5="id:1"
2020-03-18 17:36:57,356 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:57,357 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56234",name5="id:3"
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56230",name5="id:2"
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:57,358 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:57,359 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:57,359 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:36:57,361 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:36:57,362 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:36:57,363 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:57,364 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:36:57,365 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:57,366 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:36:57,367 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:56228",name5="id:4"
2020-03-18 17:36:57,368 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:57,369 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56244
2020-03-18 17:36:57,369 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:36:57,370 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22005,127.0.0.1:22006,127.0.0.1:22007,127.0.0.1:22008,127.0.0.1:22009 sessionTimeout=10000 watcher=org.apache.zookeeper.DummyWatcher@782663d3
2020-03-18 17:36:57,370 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:36:57,370 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:36:57,372 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22007.
2020-03-18 17:36:57,372 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:36:57,373 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:56245, server: localhost/127.0.0.1:22007
2020-03-18 17:36:57,375 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:36:57,375 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:36:57,377 [myid:] - INFO  [SyncThread:4:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:36:57,377 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:36:57,377 [myid:] - INFO  [SyncThread:5:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:36:57,377 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:36:57,377 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:36:57,378 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:36:57,379 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:36:57,380 [myid:] - INFO  [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x300015b2e720000
2020-03-18 17:36:57,380 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x300015b2e720000
2020-03-18 17:36:57,380 [myid:] - INFO  [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x300015b2e720000
2020-03-18 17:36:57,381 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015b2e720000
2020-03-18 17:36:57,381 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015b2e720000
2020-03-18 17:36:57,383 [myid:127.0.0.1:22007] - INFO  [main-SendThread(127.0.0.1:22007):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22007, session id = 0x300015b2e720000, negotiated timeout = 10000
2020-03-18 17:36:57,391 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015b2e720000
2020-03-18 17:36:57,493 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015b2e720000
2020-03-18 17:36:57,493 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015b2e720000 closed
2020-03-18 17:36:57,494 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:57,494 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:57,495 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:57,495 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:57,495 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:57,495 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:57,495 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56233:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:57,495 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:57,495 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56233:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56233 ********
2020-03-18 17:36:57,495 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:57,496 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 378ms. Sync state: true
2020-03-18 17:36:57,496 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:57,497 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:57,497 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:57,497 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:57,498 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:57,498 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:57,499 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:57,499 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:57,500 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:57,500 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:57,500 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:57,500 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:57,500 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22005:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:57,500 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:57,502 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:57,502 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,502 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,502 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,502 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,502 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,502 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,503 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:36:57,502 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:36:57,503 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,503 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,503 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,503 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:36:57,503 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,503 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,503 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,503 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:36:57,504 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,504 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,504 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,504 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:36:57,504 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,504 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,504 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,504 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:36:57,504 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,504 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,504 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,505 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:36:57,505 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,505 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,505 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,505 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:36:57,507 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:36:57,507 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled) to exit thread
2020-03-18 17:36:57,508 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:57,508 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:57,508 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56230:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:57,508 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56230:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56230 ********
2020-03-18 17:36:57,508 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:57,508 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:57,508 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:57,509 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:57,509 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 485ms. Sync state: true
2020-03-18 17:36:57,509 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:57,509 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:57,509 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:57,509 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:57,509 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:57,509 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:57,510 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:57,510 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:57,511 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:57,511 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:57,512 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:57,513 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:57,513 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:57,513 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:57,513 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:57,513 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:57,516 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:57,516 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,516 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,516 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,516 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,516 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,516 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,516 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:36:57,517 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:36:57,517 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,518 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,518 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,518 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:36:57,518 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,518 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,519 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,519 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:36:57,519 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,519 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,519 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,520 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,519 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,519 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,520 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:36:57,520 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:36:57,521 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:36:57,521 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-03-18 17:36:57,521 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:57,521 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:57,521 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56234:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:57,522 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56234:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56234 ********
2020-03-18 17:36:57,522 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:57,522 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:57,522 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:57,523 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:57,523 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 402ms. Sync state: true
2020-03-18 17:36:57,523 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:57,523 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:57,523 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:57,523 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:57,523 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:57,523 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:57,523 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:57,524 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:57,525 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:57,525 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:57,526 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:57,526 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:57,526 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:57,526 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:57,527 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22007:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:57,527 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:57,528 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:57,528 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,528 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,528 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,528 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,528 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,528 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,529 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,528 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:36:57,528 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,533 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,529 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,534 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,534 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:36:57,529 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,534 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:36:57,534 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:36:57,535 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:36:57,535 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled) to exit thread
2020-03-18 17:36:57,535 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:57,535 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:36:57,535 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56228:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:36:57,535 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56228:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56228 ********
2020-03-18 17:36:57,535 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:36:57,536 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:57,536 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:57,536 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:57,536 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21999). Was connected for 516ms. Sync state: true
2020-03-18 17:36:57,536 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:57,536 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:57,536 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:57,536 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:36:57,537 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:57,537 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:57,537 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:36:57,537 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:57,538 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:57,538 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:57,538 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:57,538 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:57,538 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:57,539 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:57,539 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:57,539 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22008:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:57,539 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:57,540 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,540 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,540 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,540 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:57,540 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:36:57,540 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:57,540 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:57,540 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:36:57,541 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:36:57,541 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled) to exit thread
2020-03-18 17:36:57,541 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:57,542 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:36:57,542 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:36:57,542 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:21999:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,543 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:36:57,543 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:36:57,543 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:36:57,543 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:36:57,543 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:36:57,543 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:36:57,544 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:36:57,544 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:36:57,544 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:36:57,544 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:36:57,544 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:36:57,545 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:36:57,545 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:36:57,545 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:36:57,546 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:36:57,547 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:36:57,547 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22009:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:36:57,547 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:36:57,548 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:36:57,548 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:36:57,548 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:57,549 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:57,549 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:36:57,549 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:36:57,550 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:36:57,550 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled) to exit thread
2020-03-18 17:36:57,557 [myid:] - INFO  [main:QuorumBase@307] - creating QuorumPeer 1 port 22005
2020-03-18 17:36:57,558 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:57,558 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:57,558 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:57,558 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22005
2020-03-18 17:36:57,558 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:57,559 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,559 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,559 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:57,559 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:57,559 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,559 [myid:] - INFO  [main:QuorumBase@312] - creating QuorumPeer 2 port 22006
2020-03-18 17:36:57,560 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:57,560 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:57,560 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:57,560 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22006
2020-03-18 17:36:57,560 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:57,561 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,561 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,561 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:57,561 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:57,561 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,561 [myid:] - INFO  [main:QuorumBase@317] - creating QuorumPeer 3 port 22007
2020-03-18 17:36:57,561 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:57,562 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:57,562 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:57,562 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22007
2020-03-18 17:36:57,562 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:57,563 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,563 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,563 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:57,563 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:57,563 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,563 [myid:] - INFO  [main:QuorumBase@322] - creating QuorumPeer 4 port 22008
2020-03-18 17:36:57,563 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:57,563 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:57,564 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:57,564 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22008
2020-03-18 17:36:57,564 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:57,661 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,661 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,662 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:57,662 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:57,662 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,662 [myid:] - INFO  [main:QuorumBase@327] - creating QuorumPeer 5 port 22009
2020-03-18 17:36:57,662 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:36:57,662 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:36:57,663 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:36:57,663 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22009
2020-03-18 17:36:57,663 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:36:57,663 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,664 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:57,664 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:36:57,664 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:36:57,664 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:57,665 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:57,665 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2/snapshot.0
2020-03-18 17:36:57,666 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:57,666 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,671 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,673 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:57,679 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:57,684 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22000
2020-03-18 17:36:57,763 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:57,764 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:36:57,764 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22001
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,765 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,765 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,766 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,766 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,769 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,769 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,769 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,769 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,769 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,773 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,773 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,773 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,773 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:57,773 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:57,825 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:57,826 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2/snapshot.0
2020-03-18 17:36:57,829 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 144 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:57,830 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,835 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,859 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:57,859 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:57,860 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22001
2020-03-18 17:36:57,860 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:57,861 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:57,861 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:36:57,861 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2/snapshot.0
2020-03-18 17:36:57,862 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56252
2020-03-18 17:36:57,863 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,863 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,863 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,863 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,864 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22002
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,864 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,864 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,864 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,864 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,864 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,864 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:57,864 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,865 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,866 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,870 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:57,870 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:57,871 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22002
2020-03-18 17:36:57,871 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:57,872 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:36:57,872 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x0
2020-03-18 17:36:57,873 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2/snapshot.0
2020-03-18 17:36:57,873 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56260
2020-03-18 17:36:57,873 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56261
2020-03-18 17:36:57,874 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,874 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,874 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,874 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,874 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,874 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,875 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,874 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,875 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,875 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,875 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,875 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,875 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,876 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,875 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,876 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22003
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,876 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 6 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:36:57,876 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,877 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,879 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:36:57,880 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:57,881 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:57,881 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22003
2020-03-18 17:36:57,882 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:57,882 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:57,883 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x0
2020-03-18 17:36:57,883 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56273
2020-03-18 17:36:57,884 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,884 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56274
2020-03-18 17:36:57,884 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,884 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,885 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,885 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,885 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56275
2020-03-18 17:36:57,885 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,885 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,886 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,886 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,886 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,886 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,886 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,887 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,887 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,887 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,887 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,887 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,887 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,887 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,888 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,888 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,888 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:57,888 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22004
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:57,889 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56272
2020-03-18 17:36:58,088 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:36:58,088 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,088 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,089 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 230 MS
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,090 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,091 [myid:] - WARN  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:21998
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,091 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4488436602762172472.junit.dir/version-2
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 329 MS
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7422883936370811556.junit.dir/version-2
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 221 MS
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:36:58,092 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3667086031648376014.junit.dir/version-2/snapshot.0
2020-03-18 17:36:58,093 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,094 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:36:58,094 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,096 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56294:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:22000:participant;127.0.0.1:22005
2020-03-18 17:36:58,096 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56295:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22002:participant;127.0.0.1:22007
2020-03-18 17:36:58,098 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:58,099 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:58,099 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56294:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:58,099 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56294:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:36:58,099 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:58,099 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56295:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:58,099 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56294:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:36:58,099 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56295:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:36:58,100 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56295:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 3
2020-03-18 17:36:58,100 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:36:58,102 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:36:58,102 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:36:58,102 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:58,102 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:36:58,102 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:58,102 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:58,102 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:58,102 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:58,104 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 3, 4],[1, 3, 4]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:36:58,104 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:58,104 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:58,105 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:36:58,105 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:36:58,105 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:58,105 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:58,106 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:58,106 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:58,106 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:58,106 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:58,106 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:58,106 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:58,107 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:58,107 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:58,142 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:36:58,143 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56296
2020-03-18 17:36:58,143 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:36:58,144 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2/snapshot.300000003
2020-03-18 17:36:58,145 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:36:58,146 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:36:58,146 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x500000003, digest is 14207094763
2020-03-18 17:36:58,149 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:36:58,149 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:36:58,150 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22004:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22004
2020-03-18 17:36:58,150 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:58,151 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,151 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,152 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56301
2020-03-18 17:36:58,152 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56300
2020-03-18 17:36:58,152 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56302
2020-03-18 17:36:58,152 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,153 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,154 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56303
2020-03-18 17:36:58,154 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,155 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,155 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56305
2020-03-18 17:36:58,155 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,155 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,156 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 7 MS
2020-03-18 17:36:58,157 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,158 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,160 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56310:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,160 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,160 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56310:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,160 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,160 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56310:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56310 ********
2020-03-18 17:36:58,160 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,160 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,160 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,161 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,161 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,161 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,161 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,162 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,162 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,162 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,163 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,163 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,163 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,163 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,163 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,163 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,163 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,163 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,163 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,163 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,164 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,165 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,167 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56320:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,167 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,168 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56320:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,168 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,168 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56320:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56320 ********
2020-03-18 17:36:58,168 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,168 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,168 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,168 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,168 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,169 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,169 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,169 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,169 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,169 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,169 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,170 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,170 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,170 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,170 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:58,171 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,172 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,174 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56330:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,174 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,175 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56330:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,175 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 2ms. Sync state: false
2020-03-18 17:36:58,175 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56330:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56330 ********
2020-03-18 17:36:58,175 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,175 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,175 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,175 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,175 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,176 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,176 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,176 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,176 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,176 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,176 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,176 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,177 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,177 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,177 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,178 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,178 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,178 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,178 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:36:58,178 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,179 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,180 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56340:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,180 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,180 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56340:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,180 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:58,180 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56340:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56340 ********
2020-03-18 17:36:58,180 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,181 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,181 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,181 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,181 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,181 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,182 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,182 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,182 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,182 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,183 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,183 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,183 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,183 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,184 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,185 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,185 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,186 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,187 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56350:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,188 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,188 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56350:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,188 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 2ms. Sync state: false
2020-03-18 17:36:58,188 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56350:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56350 ********
2020-03-18 17:36:58,188 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,188 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,188 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,188 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,188 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,189 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,189 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,189 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,189 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,190 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,190 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,190 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,190 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,190 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,190 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:58,191 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,192 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,193 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,193 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56359:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:21996:22001:participant;127.0.0.1:22006
2020-03-18 17:36:58,193 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56361:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,194 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,194 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56361:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,194 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56361:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56361 ********
2020-03-18 17:36:58,194 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,194 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,194 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,194 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,194 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,195 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,195 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:36:58,195 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56359:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:36:58,195 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56359:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2020-03-18 17:36:58,196 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,196 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56359:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:36:58,196 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,196 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:36:58,196 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x100000000
2020-03-18 17:36:58,196 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:58,196 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:36:58,197 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,197 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,197 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,196 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,197 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,197 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,197 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,199 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:36:58,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,200 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6868102971302318652.junit.dir/version-2/snapshot.100000000
2020-03-18 17:36:58,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,201 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,201 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,201 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:36:58,201 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,201 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:36:58,202 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,203 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56371:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:36:58,203 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:36:58,203 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56371:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,203 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56371:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56371 ********
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,203 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,203 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,204 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,204 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:36:58,204 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,205 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,205 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,205 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,205 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,205 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,205 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,205 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,206 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,206 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:36:58,207 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,207 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,208 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56381:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,208 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,209 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56381:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,209 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,209 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56381:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56381 ********
2020-03-18 17:36:58,209 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,209 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,209 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,209 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,209 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,209 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,209 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,210 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,211 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,211 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,211 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,211 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,211 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,211 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,213 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,214 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,215 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,216 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56391:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,216 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,217 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56391:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,217 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56391:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56391 ********
2020-03-18 17:36:58,217 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,217 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,217 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,217 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,217 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,218 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,218 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,218 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,219 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,219 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,219 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,220 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,220 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,220 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,220 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,220 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,220 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,220 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,221 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,222 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,223 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56401:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,224 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,224 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56401:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,224 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56401:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56401 ********
2020-03-18 17:36:58,224 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,224 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,224 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,224 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,224 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,225 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,225 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,225 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,225 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,226 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,226 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,226 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,227 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,227 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,227 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,229 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,230 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56411:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,230 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,231 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56411:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,231 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,231 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56411:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56411 ********
2020-03-18 17:36:58,231 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,231 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,231 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,231 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,231 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,231 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,232 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,232 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,232 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,233 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,233 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,233 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,233 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,233 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:58,235 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,236 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,237 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56421:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,237 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,241 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56421:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,241 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 4ms. Sync state: false
2020-03-18 17:36:58,241 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56421:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56421 ********
2020-03-18 17:36:58,241 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,241 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,241 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,241 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,242 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,243 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,243 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,243 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,244 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,244 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,244 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,244 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,245 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,245 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,245 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,246 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,246 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,246 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:36:58,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:36:58,247 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,248 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56431:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,248 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,248 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56431:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,248 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56431:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56431 ********
2020-03-18 17:36:58,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,248 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,249 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,249 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,249 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,249 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,250 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,250 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,251 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,251 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,251 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,251 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,253 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,254 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56441:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,254 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,254 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56441:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,254 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56441:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56441 ********
2020-03-18 17:36:58,254 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:58,254 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,254 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,255 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,255 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,255 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,256 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,256 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,256 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,256 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,257 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,257 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,257 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,257 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,258 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,258 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,258 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:58,258 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,259 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,260 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56451:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,260 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,260 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56451:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,261 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56451:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56451 ********
2020-03-18 17:36:58,261 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,261 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,261 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,261 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,261 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,261 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,262 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,262 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,263 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,263 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,263 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,263 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,264 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,264 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,264 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,264 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,265 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,265 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,265 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,265 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,265 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,265 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:58,265 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,266 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,267 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56461:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,268 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,268 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56461:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,268 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56461:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56461 ********
2020-03-18 17:36:58,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,268 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,269 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,269 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,270 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,270 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,270 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,271 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,271 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,272 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,273 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,273 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,273 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,273 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,273 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,273 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,274 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,275 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56471:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,275 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,276 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56471:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,276 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,276 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56471:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56471 ********
2020-03-18 17:36:58,276 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,276 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,276 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,276 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,276 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,277 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,277 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,277 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,278 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,278 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,278 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,278 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,278 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,279 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,279 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,279 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,281 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,282 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56482:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,282 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,282 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56482:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,282 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56482:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56482 ********
2020-03-18 17:36:58,283 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,283 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,283 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,283 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,283 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,284 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,284 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,284 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,284 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,285 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,285 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,285 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,286 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,286 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,286 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,286 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,287 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,287 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,286 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,287 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,287 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,287 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,287 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,287 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,288 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,289 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56492:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,289 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,289 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56492:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,290 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,290 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,290 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56492:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56492 ********
2020-03-18 17:36:58,290 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,290 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,290 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,290 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,291 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,291 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,292 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,292 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,292 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,293 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,293 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,293 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,293 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,293 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,293 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,293 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,293 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,293 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,294 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,295 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,296 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56502:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,296 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,297 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56502:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,298 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56502:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56502 ********
2020-03-18 17:36:58,298 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,298 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,298 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,298 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,298 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,298 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,299 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,300 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,300 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,300 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,300 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,301 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,301 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,301 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,301 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,301 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,301 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,301 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,301 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,302 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,303 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,305 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56512:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,305 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,306 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56512:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,306 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56512:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56512 ********
2020-03-18 17:36:58,306 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,306 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,306 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,306 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,306 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,306 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,306 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,306 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,308 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,308 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,309 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,309 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,309 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,309 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,309 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,309 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,309 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,309 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,309 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,309 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,309 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,313 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,314 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,315 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,315 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 8 MS
2020-03-18 17:36:58,315 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,316 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,317 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56522:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,317 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,317 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56522:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,317 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56522:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56522 ********
2020-03-18 17:36:58,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,318 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,318 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,319 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,319 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,319 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,320 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,320 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,320 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,320 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,320 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,321 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,321 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,322 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,322 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:58,322 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,323 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:58,327 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56532:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:58,327 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:58,328 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56532:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:58,328 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56532:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56532 ********
2020-03-18 17:36:58,328 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:58,328 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:58,328 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:58,328 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:58,328 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:58,328 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:58,329 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,329 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,330 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,330 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,330 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,330 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,330 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,330 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,331 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:58,331 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:58,331 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:58,331 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:58,331 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:58,331 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,331 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:58,332 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:58,333 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:58,410 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:58,411 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56542
2020-03-18 17:36:58,663 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:58,664 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56545
2020-03-18 17:36:58,835 [myid:] - WARN  [Thread-374:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 4
2020-03-18 17:36:58,835 [myid:] - WARN  [Thread-375:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:36:58,835 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:58,835 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:58,835 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:58,835 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:36:58,835 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:36:58,835 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:36:58,835 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:36:58,835 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:36:58,916 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:58,917 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56550
2020-03-18 17:36:58,986 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:58,991 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:58,992 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:59,173 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:59,174 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56556
2020-03-18 17:36:59,333 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.lang.IllegalArgumentException
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1314)
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1202)
	at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:275)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:87)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,333 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,333 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,334 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,334 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,334 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,334 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,334 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,335 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,335 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56561
2020-03-18 17:36:59,336 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,336 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,336 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,336 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,336 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,336 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,336 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,336 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:59,337 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,429 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:59,430 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56569
2020-03-18 17:36:59,681 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:59,682 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56571
2020-03-18 17:36:59,769 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,770 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56572:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,770 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,770 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56572:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,770 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,771 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56572:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56572 ********
2020-03-18 17:36:59,771 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,771 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,771 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,771 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,771 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,772 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,772 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,772 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,773 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,773 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,773 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,773 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,773 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,774 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,774 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,775 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,775 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,775 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,775 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,775 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,775 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,775 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,776 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,776 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56582:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,776 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,777 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56582:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,777 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,777 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,777 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56582:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56582 ********
2020-03-18 17:36:59,777 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,777 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,777 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,777 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,778 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,778 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,778 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,778 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,779 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,779 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,779 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,779 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,779 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,780 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,781 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,781 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,781 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,781 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,782 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,782 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56592:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,782 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,783 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,783 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,783 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56592:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,783 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,783 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,783 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56592:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56592 ********
2020-03-18 17:36:59,783 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,783 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,784 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,784 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,784 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,784 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,785 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,785 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,785 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,786 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,786 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,787 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,787 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,787 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,787 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,788 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,788 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56602:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,788 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,789 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,789 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,789 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,789 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,789 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,789 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,789 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56602:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,789 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56602:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56602 ********
2020-03-18 17:36:59,790 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,790 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,791 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,791 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,791 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,791 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,791 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,792 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,792 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,792 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,793 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,793 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,793 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:59,793 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,794 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,794 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56612:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,794 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,795 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56612:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,795 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,795 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,795 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56612:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56612 ********
2020-03-18 17:36:59,795 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,795 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,795 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,795 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,796 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,796 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,797 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,797 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,797 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,797 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,798 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,798 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,798 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,798 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,799 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:59,799 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,799 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,800 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,801 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56622:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,801 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,801 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56622:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,801 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,801 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56622:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56622 ********
2020-03-18 17:36:59,801 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,801 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,801 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,801 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,802 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,802 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,802 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,802 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,803 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,803 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,803 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,803 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,803 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,804 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,804 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,805 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,806 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,806 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56633:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,806 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,806 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56633:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,806 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,807 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,807 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56633:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56633 ********
2020-03-18 17:36:59,807 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,807 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,807 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,807 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,807 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,807 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,808 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,808 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,808 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,808 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,808 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,808 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,809 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,809 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:36:59,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,811 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,811 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56643:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,811 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,811 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56643:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,812 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56643:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56643 ********
2020-03-18 17:36:59,811 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,811 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:59,812 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,812 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,812 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,812 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,812 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,813 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:59,814 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,816 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,816 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:36:59,816 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,817 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56653:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,817 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,817 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56653:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,817 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,817 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56653:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56653 ********
2020-03-18 17:36:59,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,818 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,818 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,818 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,819 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,822 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,822 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56663:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,822 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,822 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56663:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,823 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56663:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56663 ********
2020-03-18 17:36:59,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,823 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,823 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,823 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,824 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,824 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,824 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,824 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,824 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,824 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,825 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:36:59,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,827 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,827 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56673:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,827 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,828 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56673:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,828 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56673:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56673 ********
2020-03-18 17:36:59,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,828 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,828 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,829 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,829 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,829 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,829 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,829 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,830 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,830 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,830 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,830 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,832 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,833 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56683:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,833 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,833 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56683:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,833 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56683:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56683 ********
2020-03-18 17:36:59,833 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,833 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,833 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,834 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,834 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,834 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,834 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,834 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,834 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,835 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,835 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,835 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,835 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,835 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,835 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,835 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:36:59,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,837 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,838 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56693:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,838 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,838 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56693:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,838 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:36:59,838 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56693:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56693 ********
2020-03-18 17:36:59,838 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,838 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,838 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,839 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,839 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,839 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,839 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,840 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,840 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,840 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,840 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,935 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:36:59,936 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56700
2020-03-18 17:36:59,946 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,946 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,947 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,965 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,967 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,967 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,967 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,967 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,967 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,967 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 130 MS
2020-03-18 17:36:59,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,970 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,971 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56704:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,972 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,972 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56704:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,972 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56704:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56704 ********
2020-03-18 17:36:59,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,973 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,973 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,973 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,973 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,973 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,974 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,974 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,974 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,975 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,975 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,975 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,976 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,976 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,976 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:59,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,978 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,979 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56714:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,979 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,979 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56714:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,979 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56714:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56714 ********
2020-03-18 17:36:59,979 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,979 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,979 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,980 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,980 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,981 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,981 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,981 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,982 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,981 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,982 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,982 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,982 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,982 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,982 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,982 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,983 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,984 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,984 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:59,984 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,985 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,985 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56724:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,985 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,986 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56724:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,986 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56724:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56724 ********
2020-03-18 17:36:59,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:36:59,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,986 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,987 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,987 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,987 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,988 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,988 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,988 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,988 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:36:59,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:36:59,991 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:36:59,992 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56734:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:36:59,993 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:36:59,994 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56734:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:36:59,994 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56734:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56734 ********
2020-03-18 17:36:59,995 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 3ms. Sync state: false
2020-03-18 17:36:59,995 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:36:59,995 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:36:59,995 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:36:59,995 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:36:59,996 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:36:59,996 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,997 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,997 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,997 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,997 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,998 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,998 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,998 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,998 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:36:59,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:36:59,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:36:59,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:36:59,999 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:00,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,001 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,001 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56744:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,002 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,002 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56744:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,002 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56744:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56744 ********
2020-03-18 17:37:00,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,002 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,003 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,004 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,004 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,004 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,004 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,004 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,005 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,005 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,006 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,006 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:00,006 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,009 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,010 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,011 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56754:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,011 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,011 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56754:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,011 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56754:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56754 ********
2020-03-18 17:37:00,011 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,011 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,012 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,012 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,012 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,012 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,013 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,013 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,013 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,014 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,014 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,015 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,015 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,016 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,016 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,017 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,016 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 7 MS
2020-03-18 17:37:00,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,021 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,021 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56764:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,022 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,022 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56764:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,022 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56764:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56764 ********
2020-03-18 17:37:00,022 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,022 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,022 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,022 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,022 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,022 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,023 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,023 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,023 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,023 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,024 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,024 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,024 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,024 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,024 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,024 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:00,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,027 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,027 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56774:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,028 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,028 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56774:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,028 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56774:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56774 ********
2020-03-18 17:37:00,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,029 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,029 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,030 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,030 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,031 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,031 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,031 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,031 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,031 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,032 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,032 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,032 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:00,034 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,035 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,035 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56784:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,036 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,036 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56784:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,036 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56784:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56784 ********
2020-03-18 17:37:00,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,036 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,037 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,037 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,038 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,038 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,038 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,038 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,039 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,039 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,039 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,039 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:00,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,042 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,042 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56794:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,042 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,042 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56794:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,043 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56794:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56794 ********
2020-03-18 17:37:00,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,043 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,044 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,044 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,044 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,044 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,045 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,045 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,045 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,045 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,046 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,046 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:00,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,048 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,049 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56804:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,049 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,049 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56804:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,049 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56804:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56804 ********
2020-03-18 17:37:00,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:00,050 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,050 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,050 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,050 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,050 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,050 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,051 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,051 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,051 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,052 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,052 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,052 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,052 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,053 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,053 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,054 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:00,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,056 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,056 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56814:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,056 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,057 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56814:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,057 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56814:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56814 ********
2020-03-18 17:37:00,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,058 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,058 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,059 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,059 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,059 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,059 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,060 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,060 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,060 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,061 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,061 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:00,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,064 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,065 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56825:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,065 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,065 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56825:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,065 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56825:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56825 ********
2020-03-18 17:37:00,065 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,065 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,065 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,066 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,066 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,066 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,066 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,067 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,067 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,067 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,067 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,068 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,068 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,068 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,068 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,068 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,068 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,068 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,068 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:00,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,071 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:00,071 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56835:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:00,071 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:00,072 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56835:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:00,072 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56835:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56835 ********
2020-03-18 17:37:00,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:00,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:00,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:00,073 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:00,073 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:00,073 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:00,074 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,074 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,074 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,075 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,075 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,075 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,075 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,075 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,076 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:00,076 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:00,077 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:00,186 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:00,187 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56845
2020-03-18 17:37:00,438 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:00,439 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56848
2020-03-18 17:37:00,579 [myid:] - WARN  [Thread-597:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:00,580 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:00,580 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:00,580 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:00,580 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:00,580 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:00,580 [myid:] - WARN  [Thread-598:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:00,580 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:00,580 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:00,580 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:00,580 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:00,581 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:00,581 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:00,581 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:00,581 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:00,581 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:00,581 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:00,581 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:00,692 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:00,698 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56850
2020-03-18 17:37:00,950 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:00,951 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56853
2020-03-18 17:37:01,080 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.lang.IllegalArgumentException
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1314)
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1202)
	at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:275)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:87)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,080 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,081 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,081 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,081 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,082 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56857
2020-03-18 17:37:01,082 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56860
2020-03-18 17:37:01,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,083 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,084 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,203 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:01,204 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56866
2020-03-18 17:37:01,454 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:01,456 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56873
2020-03-18 17:37:01,584 [myid:] - WARN  [Thread-602:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:01,584 [myid:] - WARN  [Thread-599:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2020-03-18 17:37:01,585 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,585 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:01,585 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,585 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:01,585 [myid:] - WARN  [Thread-601:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:01,585 [myid:] - WARN  [Thread-603:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:01,585 [myid:] - WARN  [Thread-604:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:01,585 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,586 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,586 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:01,585 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,586 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,585 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,586 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,587 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,587 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,586 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,585 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,587 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,585 [myid:] - WARN  [Thread-600:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2020-03-18 17:37:01,587 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,587 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:01,587 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,587 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,587 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,588 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:01,587 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,588 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,587 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,588 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:01,587 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:01,588 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:01,588 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,588 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:01,588 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:01,588 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:01,707 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:01,708 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:56875
2020-03-18 17:37:01,809 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,809 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56881:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,810 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,810 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56881:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,810 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56881:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56881 ********
2020-03-18 17:37:01,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,810 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,810 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,811 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56882
2020-03-18 17:37:01,812 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,812 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56883
2020-03-18 17:37:01,812 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,812 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,813 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56884
2020-03-18 17:37:01,813 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:56887
2020-03-18 17:37:01,813 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,814 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,814 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,815 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,815 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,816 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,816 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,816 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,816 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,816 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:01,816 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,817 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,817 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56891:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,818 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,818 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56891:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,818 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56891:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56891 ********
2020-03-18 17:37:01,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,818 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,818 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,819 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,819 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,819 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,819 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,819 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,819 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,820 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,820 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,820 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,820 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:37:01,821 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,822 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,822 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56901:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,822 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,823 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56901:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,823 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56901:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56901 ********
2020-03-18 17:37:01,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,823 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,823 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,823 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,824 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,824 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,824 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,825 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,825 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,825 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,825 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,825 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,825 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,826 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,827 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,828 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56911:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,828 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,828 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56911:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:01,828 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56911:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56911 ********
2020-03-18 17:37:01,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,828 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,828 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,829 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,829 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,830 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,830 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,830 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,830 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,830 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,831 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,831 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,831 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,831 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,832 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,833 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,833 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56922:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,834 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,834 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56922:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,834 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,834 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56922:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56922 ********
2020-03-18 17:37:01,834 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,834 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,834 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,834 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,834 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,835 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,835 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,835 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,835 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,835 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,836 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,836 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,836 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,836 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,836 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:37:01,837 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,838 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,838 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56932:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,839 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,839 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56932:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,839 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,839 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56932:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56932 ********
2020-03-18 17:37:01,839 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,839 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,839 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,839 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,839 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,840 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,840 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,840 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,840 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,840 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,840 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,841 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,841 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,841 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,841 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,842 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,843 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,844 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56942:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,844 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,844 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56942:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,844 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56942:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56942 ********
2020-03-18 17:37:01,844 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:01,844 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,844 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,844 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,844 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,845 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,845 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,846 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,847 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,847 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,848 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,848 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,849 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,849 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,849 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,849 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,849 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,849 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,849 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:01,850 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,851 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,852 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56952:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,852 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,852 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56952:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,852 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56952:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56952 ********
2020-03-18 17:37:01,852 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:01,853 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,853 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,853 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,853 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,853 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,854 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,854 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,855 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,855 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,855 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,855 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,856 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,856 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,856 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:01,857 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,858 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,859 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56962:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,859 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,859 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56962:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,859 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,859 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56962:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56962 ********
2020-03-18 17:37:01,859 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,859 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,859 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,859 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,860 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,860 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,860 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,860 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,861 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,861 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,861 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,861 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,861 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,861 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,862 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,863 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,863 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,863 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,864 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,864 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56972:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,864 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,864 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56972:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,865 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56972:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56972 ********
2020-03-18 17:37:01,865 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:01,865 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,865 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,865 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,865 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,865 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,865 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,866 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,866 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,866 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,866 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,866 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,867 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,867 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,867 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,868 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,868 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:37:01,868 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,869 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,869 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56982:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,870 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,870 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56982:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,870 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,870 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56982:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56982 ********
2020-03-18 17:37:01,871 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,871 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,871 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,871 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,871 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,872 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,872 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,872 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,873 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,873 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,873 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,873 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,873 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,873 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,873 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,873 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,873 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,873 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,874 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,875 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,876 [myid:] - INFO  [LearnerHandler-/127.0.0.1:56992:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,876 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,876 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56992:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,876 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:01,876 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56992:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56992 ********
2020-03-18 17:37:01,876 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,876 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,876 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,877 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,877 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,877 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,878 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,879 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,879 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,879 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,879 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,880 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,880 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,880 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,882 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,882 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57002:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,883 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,883 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57002:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,883 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57002:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57002 ********
2020-03-18 17:37:01,883 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,883 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,883 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,883 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,884 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,884 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,884 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,885 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,885 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,885 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,885 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,886 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,886 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,886 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,886 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,886 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,886 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,886 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,886 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,886 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,886 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,889 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,889 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57012:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,890 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,890 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57012:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,890 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57012:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57012 ********
2020-03-18 17:37:01,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,890 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,891 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,891 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,892 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,892 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,893 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,893 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,894 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,894 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,894 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,894 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,894 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:01,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,897 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,897 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57022:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,897 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,898 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57022:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,898 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57022:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57022 ********
2020-03-18 17:37:01,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,898 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,899 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,899 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,900 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,901 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,901 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,902 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,902 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,902 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,902 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:01,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,905 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,905 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57032:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,906 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,906 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57032:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,906 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57032:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57032 ********
2020-03-18 17:37:01,906 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,906 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,906 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,906 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,906 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,907 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,907 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,908 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,908 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,908 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,908 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,909 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,909 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,909 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,909 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,909 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,909 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,911 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,911 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,909 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,911 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,912 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,912 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57042:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,912 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,913 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57042:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,913 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57042:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57042 ********
2020-03-18 17:37:01,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,913 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,914 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,914 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,914 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,914 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,915 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,915 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,915 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,915 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,915 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,915 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,915 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,917 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,918 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57052:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,918 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,918 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57052:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,918 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57052:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57052 ********
2020-03-18 17:37:01,919 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,919 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,920 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,920 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,920 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,920 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,920 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,920 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,921 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,921 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,921 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,921 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,921 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,922 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,922 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,924 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,924 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57062:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,925 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,925 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57062:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,925 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57062:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57062 ********
2020-03-18 17:37:01,925 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,925 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,925 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,925 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,925 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,925 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,926 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,926 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,927 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,928 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,928 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,928 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,928 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,928 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,928 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,930 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,931 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57072:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,931 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,931 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57072:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,931 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57072:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57072 ********
2020-03-18 17:37:01,931 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,931 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,931 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,931 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,931 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,931 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,932 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,933 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,933 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,933 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,933 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,933 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,934 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,934 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,934 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,935 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,936 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,938 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57082:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,938 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,939 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57082:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,939 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57082:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57082 ********
2020-03-18 17:37:01,939 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,939 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,939 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,939 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,939 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,939 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,940 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,940 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,941 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,942 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,943 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,943 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,944 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,944 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,944 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:01,946 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,944 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,947 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,947 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57092:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,947 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,947 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57092:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,948 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57092:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57092 ********
2020-03-18 17:37:01,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,948 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,949 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,949 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,950 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,950 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,951 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,951 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,951 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,951 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,951 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,953 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,954 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57102:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,955 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,955 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57102:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,955 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57102:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57102 ********
2020-03-18 17:37:01,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,956 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,956 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,956 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,957 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,957 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,957 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,958 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,958 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,958 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,959 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:01,958 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,959 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,959 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,959 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,959 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57111
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:01,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,960 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,961 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,962 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:01,962 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57113:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:01,962 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:01,962 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57113:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:01,963 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57113:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57113 ********
2020-03-18 17:37:01,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:01,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:01,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:01,963 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:01,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:01,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:01,964 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,964 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,965 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,965 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,965 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,965 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,965 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,965 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,966 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:01,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:01,967 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:01,968 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:02,093 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57123:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:02,093 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:02,094 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57123:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:02,094 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57123:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57123 ********
2020-03-18 17:37:02,094 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:02,094 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:02,094 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:02,094 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:02,094 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:02,094 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:02,095 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,095 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,095 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,095 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,096 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,096 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,096 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,096 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,096 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:02,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:02,098 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:02,099 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:02,099 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57136:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:02,099 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:02,100 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57136:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:02,100 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57136:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57136 ********
2020-03-18 17:37:02,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:02,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:02,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:02,100 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:02,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:02,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:02,101 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,101 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,101 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,101 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,101 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,102 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,102 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,102 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,102 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,102 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:02,102 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:02,102 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:02,102 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:02,102 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:02,103 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:02,104 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:02,105 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57146:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:02,105 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:02,105 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57146:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:02,105 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57146:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57146 ********
2020-03-18 17:37:02,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:02,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:02,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:02,105 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:02,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:02,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:02,106 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,106 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,107 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,107 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,107 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,107 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,107 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,107 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,107 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:02,108 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:02,109 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:02,109 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:02,109 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:02,210 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:02,211 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57158
2020-03-18 17:37:02,461 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:02,462 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57160
2020-03-18 17:37:02,713 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:02,714 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57162
2020-03-18 17:37:02,964 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:02,965 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57163
2020-03-18 17:37:03,110 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.lang.IllegalArgumentException
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1314)
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1202)
	at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:275)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:87)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,110 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,110 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,110 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,111 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,111 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,111 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,112 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,112 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,112 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,112 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,112 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,112 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,113 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,113 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,113 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,114 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,114 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,114 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:03,114 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,216 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:03,222 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57174
2020-03-18 17:37:03,473 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:03,474 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57177
2020-03-18 17:37:03,612 [myid:] - WARN  [Thread-817:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2020-03-18 17:37:03,612 [myid:] - WARN  [Thread-819:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2020-03-18 17:37:03,612 [myid:] - WARN  [Thread-820:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 4
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:03,613 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,613 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,612 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,613 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,613 [myid:] - WARN  [Thread-824:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:03,613 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,614 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,613 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,614 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,613 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,614 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,613 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,614 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,613 [myid:] - WARN  [Thread-823:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:03,614 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,614 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:03,613 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,614 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:03,615 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:03,615 [myid:] - WARN  [Thread-821:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:03,615 [myid:] - WARN  [Thread-818:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2020-03-18 17:37:03,615 [myid:] - WARN  [Thread-822:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:03,616 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,618 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,616 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:03,616 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:03,619 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,619 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:03,618 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:03,618 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:03,729 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:03,730 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57189
2020-03-18 17:37:03,952 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,953 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57258:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,953 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,953 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57258:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:03,953 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57258:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57258 ********
2020-03-18 17:37:03,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,954 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,954 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,954 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,954 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,955 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57259
2020-03-18 17:37:03,955 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,955 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57260
2020-03-18 17:37:03,956 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,956 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57261
2020-03-18 17:37:03,956 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,956 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,957 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,957 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57263
2020-03-18 17:37:03,957 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,957 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,957 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,958 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,958 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,958 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,958 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:03,959 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,960 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,960 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57268:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,961 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,961 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57268:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:03,961 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57268:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57268 ********
2020-03-18 17:37:03,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,961 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,962 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,962 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,962 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,962 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,962 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,963 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,963 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,963 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,963 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:03,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,965 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,966 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57278:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,966 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,966 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57278:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:03,966 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57278:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57278 ********
2020-03-18 17:37:03,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,966 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,967 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,967 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,967 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,967 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,968 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,968 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:03,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,970 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,971 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57288:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,971 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,971 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57288:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:03,971 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57288:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57288 ********
2020-03-18 17:37:03,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,971 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,971 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,972 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,972 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,972 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,972 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,973 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,973 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,973 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,973 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,973 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,973 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,974 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,974 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:03,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,976 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,976 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57298:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,977 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,977 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57298:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,977 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57298:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57298 ********
2020-03-18 17:37:03,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:03,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,977 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,977 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,978 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,978 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,978 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,979 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,979 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,979 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,979 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,979 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,980 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,980 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,980 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,981 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,981 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:03,981 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,982 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,982 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:03,982 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57308:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,982 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,982 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57309
2020-03-18 17:37:03,982 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57308:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,983 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57308:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57308 ********
2020-03-18 17:37:03,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:03,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,983 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,983 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,983 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,983 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,984 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,984 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,984 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,984 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,985 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,985 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,985 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,985 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,985 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,985 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,985 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,985 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,985 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,985 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:03,986 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,987 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,988 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57319:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,988 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,988 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57319:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,988 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57319:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57319 ********
2020-03-18 17:37:03,988 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:03,988 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,988 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,988 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,988 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,989 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,989 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,990 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,990 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,990 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,990 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,991 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,991 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,991 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,992 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,992 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,992 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,992 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,992 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:03,992 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:03,993 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:03,993 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57329:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:03,993 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:03,994 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57329:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:03,994 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57329:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57329 ********
2020-03-18 17:37:03,994 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:03,994 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:03,994 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:03,994 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:03,994 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:03,994 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:03,995 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,995 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,995 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,995 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,996 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,996 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,996 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,996 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,996 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,996 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:03,997 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:03,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:03,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,000 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,000 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57339:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,001 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,001 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57339:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,001 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57339:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57339 ********
2020-03-18 17:37:04,001 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,002 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,003 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,003 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,003 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,003 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,003 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,004 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,004 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,004 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,004 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,004 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,004 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,004 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,004 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:04,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,006 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,007 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57349:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,007 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,007 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57349:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,007 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57349:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57349 ********
2020-03-18 17:37:04,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:04,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,007 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,008 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,008 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,008 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,008 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,009 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,009 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,009 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,009 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,009 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,009 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,010 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:04,011 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,011 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,012 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57359:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,012 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,012 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57359:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,012 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57359:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57359 ********
2020-03-18 17:37:04,012 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:04,012 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,012 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,012 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,013 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,013 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,013 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,014 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,014 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,014 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,014 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,014 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,015 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:04,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,017 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,017 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57369:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,017 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,018 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57369:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,018 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57369:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57369 ********
2020-03-18 17:37:04,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,018 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,018 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,018 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,019 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,019 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,019 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,019 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,019 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,019 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,020 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,021 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,021 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,021 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:37:04,021 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,022 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,022 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57379:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,022 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,022 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57379:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,023 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57379:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57379 ********
2020-03-18 17:37:04,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,023 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,023 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,023 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,024 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,024 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,024 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,024 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,025 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,025 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,025 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,025 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:04,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,027 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,027 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57389:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,028 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,028 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57389:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,028 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57389:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57389 ********
2020-03-18 17:37:04,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,028 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,029 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,029 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,029 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,029 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,029 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,029 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,030 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,030 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,030 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,030 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,030 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,030 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,030 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,030 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,030 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,030 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:37:04,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,032 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,032 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57399:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,032 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,033 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57399:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,033 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57399:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57399 ********
2020-03-18 17:37:04,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,033 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,033 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,034 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,034 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,034 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,034 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,034 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,035 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,035 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,035 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,035 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,035 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,035 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,035 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,035 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,035 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,035 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,035 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:04,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,037 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,037 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57409:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,038 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,038 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57409:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,038 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57409:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57409 ********
2020-03-18 17:37:04,038 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,038 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,038 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,038 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,038 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,038 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,039 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,039 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,039 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,039 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,039 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,040 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,040 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,040 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,040 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,040 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,041 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,041 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:04,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,044 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,044 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57419:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,044 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,045 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57419:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,045 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57419:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57419 ********
2020-03-18 17:37:04,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,045 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,046 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,046 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,046 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,047 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,047 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,047 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,047 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,047 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,048 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,048 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:04,049 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,050 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,051 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57431:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,051 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,051 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57431:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,051 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57431:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57431 ********
2020-03-18 17:37:04,052 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 2ms. Sync state: false
2020-03-18 17:37:04,052 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,052 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,052 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,052 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,052 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,053 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,054 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,054 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,054 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,054 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,055 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,055 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,055 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,055 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,056 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:04,057 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,058 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,059 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57441:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,059 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,059 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57441:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,060 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57441:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57441 ********
2020-03-18 17:37:04,060 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:04,060 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,060 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,060 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,060 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,061 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,061 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,061 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,061 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,062 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,062 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,062 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,063 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,063 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,063 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:04,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,065 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,065 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57451:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,066 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,066 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57451:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,066 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57451:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57451 ********
2020-03-18 17:37:04,066 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,066 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,066 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,066 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,066 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,066 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,067 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,067 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,068 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,068 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,069 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,069 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,070 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,070 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,070 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,070 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,071 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:04,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,074 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,074 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57461:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,074 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,074 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57461:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,074 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57461:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57461 ********
2020-03-18 17:37:04,074 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:04,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,075 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,076 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,076 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,076 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,076 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,077 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,077 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,077 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,077 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,077 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,077 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,078 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,078 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:04,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,081 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,081 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57471:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,081 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,082 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57471:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,082 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57471:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57471 ********
2020-03-18 17:37:04,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,082 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,083 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,083 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,084 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,084 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,084 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,085 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,085 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:04,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,087 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:04,087 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57481:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:04,088 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:04,088 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57481:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:04,088 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57481:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57481 ********
2020-03-18 17:37:04,088 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:04,088 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:04,088 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:04,089 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:04,089 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:04,089 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:04,089 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,089 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,089 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,090 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,090 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,090 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,090 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,090 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,090 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,090 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:04,091 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:04,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:04,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:04,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:04,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:04,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:04,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:04,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:04,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:04,233 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:04,236 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57499
2020-03-18 17:37:04,490 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:04,491 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57502
2020-03-18 17:37:04,590 [myid:] - WARN  [Thread-998:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2020-03-18 17:37:04,590 [myid:] - WARN  [Thread-997:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2020-03-18 17:37:04,590 [myid:] - WARN  [Thread-1000:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:04,590 [myid:] - WARN  [Thread-1001:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2020-03-18 17:37:04,590 [myid:] - WARN  [Thread-999:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:04,591 [myid:] - WARN  [Thread-1003:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:04,591 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,591 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,591 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,591 [myid:] - WARN  [Thread-1004:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:04,591 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,591 [myid:] - WARN  [Thread-1002:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 4
2020-03-18 17:37:04,592 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,592 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,592 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,592 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:04,592 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,592 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:04,593 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,593 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:04,591 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:04,591 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,593 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,591 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,593 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,591 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:04,593 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,594 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,593 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,593 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,594 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,592 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,594 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,592 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,595 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:04,592 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:04,595 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:04,592 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:04,594 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:04,595 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:04,747 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:04,748 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57508
2020-03-18 17:37:04,999 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:05,000 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57512
2020-03-18 17:37:05,097 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.lang.IllegalArgumentException
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1314)
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1202)
	at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:275)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:87)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,097 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,098 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57514
2020-03-18 17:37:05,099 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,099 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57515
2020-03-18 17:37:05,099 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,100 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,100 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57516
2020-03-18 17:37:05,101 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57519
2020-03-18 17:37:05,103 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,103 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,103 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,104 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,104 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,104 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,104 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 8 MS
2020-03-18 17:37:05,105 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,251 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:05,252 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57564
2020-03-18 17:37:05,503 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:05,504 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57628
2020-03-18 17:37:05,601 [myid:] - WARN  [Thread-1005:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:05,601 [myid:] - WARN  [Thread-1006:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:05,602 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,603 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,603 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,603 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,603 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,603 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,602 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,604 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,603 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,603 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,604 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,603 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,604 [myid:] - WARN  [Thread-1007:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:05,604 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:05,604 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:05,604 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,605 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,605 [myid:] - WARN  [Thread-1008:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:05,604 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:05,604 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,605 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,604 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,604 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:05,605 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:05,605 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,605 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,605 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,605 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,605 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:05,605 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:05,606 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:05,605 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:05,606 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:05,606 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:05,756 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:05,757 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57658
2020-03-18 17:37:05,917 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:05,918 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57691:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:05,919 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,919 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 2ms. Sync state: false
2020-03-18 17:37:05,919 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57691:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:05,919 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,919 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,919 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57691:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57691 ********
2020-03-18 17:37:05,919 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,919 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,919 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,920 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57692
2020-03-18 17:37:05,921 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57693
2020-03-18 17:37:05,921 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,922 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,922 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,922 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,923 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57695
2020-03-18 17:37:05,924 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:57697
2020-03-18 17:37:05,925 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,925 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,926 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,926 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,926 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,926 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,926 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,927 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,927 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 8 MS
2020-03-18 17:37:05,928 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,927 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,929 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:05,930 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57703:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:05,930 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,930 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57703:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:05,930 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57703:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57703 ********
2020-03-18 17:37:05,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:05,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,930 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,931 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,931 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,932 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,932 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,932 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,933 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,933 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,933 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,933 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,933 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,933 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,933 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,933 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:05,934 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,936 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:05,936 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57713:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:05,936 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,936 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57713:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:05,937 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:05,937 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,937 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,937 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,937 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57713:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57713 ********
2020-03-18 17:37:05,937 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,937 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,938 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,938 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,938 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,938 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,939 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,939 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,939 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,939 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,939 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,939 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,940 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,941 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,941 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,941 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:05,941 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,942 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:05,942 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57724:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:05,942 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,943 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57724:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:05,943 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:05,943 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,943 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,943 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,943 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,943 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57724:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57724 ********
2020-03-18 17:37:05,943 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,946 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,946 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,947 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,947 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,947 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,947 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,948 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,948 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,949 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:05,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,951 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:05,951 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57735:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:05,952 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:05,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,952 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,952 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57735:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:05,952 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,952 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57735:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57735 ********
2020-03-18 17:37:05,953 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,953 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,953 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,954 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,954 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,954 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,954 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,955 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,955 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,956 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,956 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,956 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,956 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:05,956 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,960 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:05,962 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57745:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:05,962 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:05,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,963 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57745:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:05,963 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57745:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57745 ********
2020-03-18 17:37:05,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,963 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,965 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,966 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,967 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,967 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,968 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,969 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:05,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,971 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:05,972 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57755:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:05,972 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:05,972 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57755:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:05,972 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57755:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57755 ********
2020-03-18 17:37:05,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:05,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:05,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:05,972 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:05,972 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:05,973 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:05,973 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,973 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,974 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,974 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,974 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,974 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,974 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,974 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,975 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:05,975 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:05,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:05,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:05,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:05,976 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:05,977 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,009 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:06,010 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57770
2020-03-18 17:37:06,022 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57765:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,025 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,025 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57765:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,025 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57765:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57765 ********
2020-03-18 17:37:06,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 3ms. Sync state: false
2020-03-18 17:37:06,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,026 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,027 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,027 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,028 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,029 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,028 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,030 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,030 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,030 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,030 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,050 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 25 MS
2020-03-18 17:37:06,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,054 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,054 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57780:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,055 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,055 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57780:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,055 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57780:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57780 ********
2020-03-18 17:37:06,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,055 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,056 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,056 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,056 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,057 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,057 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,058 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,058 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,058 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,058 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,058 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:06,059 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,060 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,061 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57790:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,061 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,061 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57790:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,061 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57790:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57790 ********
2020-03-18 17:37:06,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,061 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,061 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,062 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,062 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,062 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,063 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,063 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,063 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,063 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,063 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,063 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,064 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,065 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:06,065 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,065 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,066 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,066 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57800:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,066 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,066 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57800:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,066 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57800:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57800 ********
2020-03-18 17:37:06,067 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:06,067 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,067 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,067 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,067 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,067 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,067 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,068 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,068 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,069 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,069 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,069 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,069 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,069 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,069 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,069 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,070 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:06,070 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,071 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,071 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57810:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,072 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,072 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57810:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,072 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57810:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57810 ********
2020-03-18 17:37:06,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,072 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,072 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,073 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,073 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,073 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,073 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,074 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,074 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,074 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,074 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,074 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,074 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,074 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,074 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,074 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,074 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:06,075 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,076 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,076 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57820:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,077 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,077 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57820:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,077 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57820:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57820 ********
2020-03-18 17:37:06,077 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,077 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,077 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,077 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,077 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,077 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,078 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,078 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,078 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,078 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,079 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,079 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,079 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,079 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,079 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,079 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:37:06,080 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,081 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,081 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57830:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,081 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,082 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57830:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,082 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57830:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57830 ********
2020-03-18 17:37:06,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,082 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,082 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,083 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,083 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,083 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,083 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,084 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,084 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,084 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,084 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,084 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,084 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,085 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,086 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,087 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,088 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,088 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:06,089 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,090 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,091 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57840:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,091 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:06,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,091 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,091 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,091 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57840:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,092 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57840:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57840 ********
2020-03-18 17:37:06,092 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,092 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,093 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,093 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,093 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,093 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,094 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,094 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,094 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,094 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,094 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:06,095 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,096 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,096 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,097 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57850:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,097 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,097 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57850:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:06,097 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57850:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57850 ********
2020-03-18 17:37:06,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,097 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,097 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,098 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,098 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,098 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,099 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,099 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,099 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,099 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,099 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,100 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,100 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:06,101 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,102 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,131 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57860:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,132 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,132 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57860:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,132 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57860:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57860 ********
2020-03-18 17:37:06,132 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,153 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,154 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,155 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,156 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,172 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,173 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,173 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,173 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,173 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,198 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,199 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,198 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,199 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 46 MS
2020-03-18 17:37:06,200 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,207 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,209 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57874:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,211 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,211 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57874:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,212 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57874:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57874 ********
2020-03-18 17:37:06,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 4ms. Sync state: false
2020-03-18 17:37:06,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,212 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,212 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,212 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,212 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,213 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,213 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,213 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,214 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,214 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,214 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,214 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,214 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,215 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,215 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,215 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,215 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,215 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:06,216 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,224 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,228 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57889:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,229 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,230 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57889:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,230 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57889:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57889 ********
2020-03-18 17:37:06,230 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 2ms. Sync state: false
2020-03-18 17:37:06,230 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,230 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,230 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,230 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,231 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,231 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,231 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,232 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,232 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,232 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,232 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,232 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,232 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,233 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,233 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,234 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,235 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,235 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,235 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,235 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:06,235 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,237 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,239 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57900:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,239 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,241 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57900:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,241 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57900:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57900 ********
2020-03-18 17:37:06,242 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 3ms. Sync state: false
2020-03-18 17:37:06,243 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,243 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,243 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,243 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,243 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,243 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,243 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,244 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,244 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,244 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,245 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,245 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,245 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,245 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,247 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,247 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:06,248 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,249 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,250 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57910:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,250 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,251 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57910:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,251 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57910:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57910 ********
2020-03-18 17:37:06,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,251 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,251 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,252 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,253 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,253 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,254 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,254 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,254 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,254 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,255 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,255 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,255 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,255 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:06,256 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,257 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,258 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57921:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,258 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,258 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57921:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,258 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57921:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57921 ********
2020-03-18 17:37:06,259 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 2ms. Sync state: false
2020-03-18 17:37:06,259 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,259 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,259 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,259 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,259 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,260 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,260 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,260 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,260 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,261 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,261 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,261 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,261 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,261 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,262 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:06,263 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57931
2020-03-18 17:37:06,262 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,263 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,263 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,263 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:06,263 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,265 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,266 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57934:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,267 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,267 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57934:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,268 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57934:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57934 ********
2020-03-18 17:37:06,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 2ms. Sync state: false
2020-03-18 17:37:06,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,268 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,268 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,269 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,269 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,270 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,270 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,270 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,271 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,280 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 12 MS
2020-03-18 17:37:06,282 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,284 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:06,287 [myid:] - INFO  [LearnerHandler-/127.0.0.1:57947:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:06,287 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:06,287 [myid:] - ERROR [LearnerHandler-/127.0.0.1:57947:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:06,287 [myid:] - WARN  [LearnerHandler-/127.0.0.1:57947:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:57947 ********
2020-03-18 17:37:06,288 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:06,288 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:06,288 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:06,293 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:06,293 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:06,293 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:06,293 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,294 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,294 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,295 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,295 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,295 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,295 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,296 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,296 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:06,296 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:06,296 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:06,296 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:06,296 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:06,296 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,296 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:06,296 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:06,297 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:06,514 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:06,514 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57976
2020-03-18 17:37:06,766 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:06,767 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57988
2020-03-18 17:37:06,800 [myid:] - WARN  [Thread-1196:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:06,800 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:06,801 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:06,801 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:06,801 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:06,800 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:06,801 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:06,801 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:06,801 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:07,018 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:07,019 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:57997
2020-03-18 17:37:07,270 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:07,271 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58023
2020-03-18 17:37:07,298 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.lang.IllegalArgumentException
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1314)
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1202)
	at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:275)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:87)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,299 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,299 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,299 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,299 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,299 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,300 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,301 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,301 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,302 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,302 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58035
2020-03-18 17:37:07,303 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,303 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,304 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,304 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,304 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,304 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,304 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,305 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,305 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,305 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,305 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,305 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,305 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:07,305 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,526 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:07,527 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58072
2020-03-18 17:37:07,780 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:07,781 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58088
2020-03-18 17:37:07,801 [myid:] - WARN  [Thread-1197:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2020-03-18 17:37:07,801 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,801 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,801 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,801 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,802 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,801 [myid:] - WARN  [Thread-1198:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2020-03-18 17:37:07,802 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,802 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:07,801 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:07,802 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,802 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,802 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,802 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,802 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,802 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,802 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:07,802 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:07,803 [myid:] - WARN  [Thread-1200:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2020-03-18 17:37:07,803 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,803 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,803 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,803 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:07,803 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,803 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,803 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,803 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:07,803 [myid:] - WARN  [Thread-1199:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:07,803 [myid:] - WARN  [Thread-1201:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:07,803 [myid:] - WARN  [Thread-1202:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:07,804 [myid:] - WARN  [Thread-1203:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:07,804 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,805 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,804 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:07,805 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:07,804 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,805 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:07,805 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:07,805 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:07,855 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,855 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58098:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,856 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,856 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58098:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:07,856 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58098:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58098 ********
2020-03-18 17:37:07,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,856 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,856 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,857 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58099
2020-03-18 17:37:07,857 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,857 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22001:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58100
2020-03-18 17:37:07,858 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,859 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22002:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58101
2020-03-18 17:37:07,860 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,862 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,862 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22003:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58104
2020-03-18 17:37:07,862 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,863 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,863 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,863 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,863 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 8 MS
2020-03-18 17:37:07,864 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,866 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,866 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,867 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58108:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,867 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,867 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58108:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,867 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58108:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58108 ********
2020-03-18 17:37:07,867 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,868 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,868 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,868 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,868 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,868 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,870 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,871 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,872 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,873 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,875 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,877 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,877 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,877 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,879 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 13 MS
2020-03-18 17:37:07,881 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,884 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,886 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58118:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,886 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,886 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58118:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,887 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58118:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58118 ********
2020-03-18 17:37:07,886 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,887 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,887 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,888 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,888 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,888 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,888 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,889 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,889 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,889 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,889 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,889 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,891 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,891 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,892 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58130:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,892 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,892 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58130:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,892 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,892 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58130:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58130 ********
2020-03-18 17:37:07,893 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,894 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,894 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,894 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,895 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,895 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,895 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,895 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,895 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,897 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,897 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58141:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,898 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:07,898 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58141:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,898 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58141:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58141 ********
2020-03-18 17:37:07,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,898 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,899 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,899 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,900 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,900 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,900 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,900 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,901 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,901 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,902 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,902 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,903 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,903 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,904 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58151:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,904 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,904 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58151:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,904 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,904 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,904 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58151:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58151 ********
2020-03-18 17:37:07,905 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,905 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,905 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,906 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,906 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,906 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,906 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,906 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,907 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,907 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:07,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,909 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,910 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58161:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,910 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,910 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58161:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,910 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,910 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58161:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58161 ********
2020-03-18 17:37:07,910 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,911 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,911 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,911 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,912 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,912 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,912 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,912 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,913 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,913 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,914 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,914 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,914 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:07,913 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,914 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,914 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,915 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,915 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58171:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,915 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,915 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,915 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58171:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,915 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,915 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58171:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58171 ********
2020-03-18 17:37:07,915 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,916 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,916 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,916 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,916 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,917 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,917 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,918 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,918 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,918 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,918 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,922 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,922 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,923 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 8 MS
2020-03-18 17:37:07,924 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,925 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,925 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58181:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,925 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,925 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,925 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,926 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,926 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,926 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58181:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,926 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58181:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58181 ********
2020-03-18 17:37:07,926 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,926 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,927 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,927 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,927 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,927 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,928 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,928 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,929 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,929 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,929 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,929 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,930 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,931 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,931 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58191:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,931 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,931 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,931 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58191:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,932 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,932 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58191:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58191 ********
2020-03-18 17:37:07,932 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,932 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,932 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,932 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,932 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,933 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,933 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,934 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,935 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,935 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,935 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,935 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,936 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 5 MS
2020-03-18 17:37:07,936 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,937 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,938 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58201:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,938 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,938 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,938 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,938 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58201:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,938 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,938 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,938 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58201:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58201 ********
2020-03-18 17:37:07,938 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,939 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,939 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,939 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,940 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,940 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,940 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,940 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,941 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,941 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,941 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,941 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,942 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,943 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,943 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,944 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58211:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,944 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,944 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58211:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,944 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58211:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58211 ********
2020-03-18 17:37:07,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,945 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,945 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,945 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,946 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,946 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,946 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,946 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,946 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,946 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,947 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,947 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:07,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,949 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,949 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58221:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,949 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:07,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,950 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,950 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58221:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,950 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58221:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58221 ********
2020-03-18 17:37:07,950 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,950 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,951 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,951 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,951 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,952 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,952 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,952 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,952 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,952 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,953 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,954 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,954 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58231:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,955 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:07,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,955 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,955 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58231:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,955 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58231:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58231 ********
2020-03-18 17:37:07,955 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,956 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,956 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,956 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,956 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,957 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,957 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,957 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,957 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,957 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,958 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:07,959 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,959 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,960 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58241:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,960 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,960 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58241:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,960 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58241:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58241 ********
2020-03-18 17:37:07,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,960 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,960 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,961 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,961 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,961 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,961 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,962 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,962 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,962 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,962 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,962 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,963 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,963 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:07,964 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,965 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,965 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58251:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,965 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,965 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,965 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,965 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58251:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,965 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,966 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,966 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,966 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58251:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58251 ********
2020-03-18 17:37:07,967 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,967 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,967 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,967 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,967 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,968 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,968 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,969 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,969 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,970 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,974 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,977 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,979 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,981 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58259:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,982 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,982 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:07,982 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,982 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,982 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,982 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,984 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,984 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58259:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,985 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58259:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58259 ********
2020-03-18 17:37:07,986 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,987 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,987 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,988 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,988 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,988 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,988 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,989 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,989 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:07,990 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,991 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,991 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,992 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:07,993 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58271:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:07,993 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:07,993 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:07,993 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:07,993 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58271:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:07,993 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:07,993 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:07,993 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58271:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58271 ********
2020-03-18 17:37:07,993 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:07,994 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:07,994 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,995 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,996 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,996 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,996 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,996 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,996 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,997 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,997 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:07,997 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:07,998 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:07,999 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,000 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58281:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,000 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,000 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58281:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:08,000 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58281:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58281 ********
2020-03-18 17:37:08,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,000 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,000 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,001 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,001 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,001 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,001 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,002 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,002 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,002 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,002 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,002 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,002 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:08,003 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,004 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,004 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58291:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,005 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:08,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,005 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,005 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,005 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58291:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,005 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58291:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58291 ********
2020-03-18 17:37:08,006 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,006 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,006 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,006 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,006 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,006 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,007 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,007 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,007 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,007 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:08,008 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,009 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,010 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58302:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,010 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,010 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58302:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:08,010 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58302:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58302 ********
2020-03-18 17:37:08,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,010 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,010 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,011 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,011 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,011 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,012 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,012 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,012 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,012 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,012 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,013 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,013 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,013 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,014 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,014 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,014 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,014 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,014 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,014 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:08,014 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,015 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,015 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58312:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,015 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,015 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58312:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,015 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:08,015 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58312:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58312 ********
2020-03-18 17:37:08,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,016 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,016 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,016 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,016 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,017 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,017 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,017 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,017 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,017 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,017 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,018 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,018 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:08,019 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,019 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,020 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58323:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,020 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,020 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58323:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:08,020 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58323:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58323 ********
2020-03-18 17:37:08,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,020 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,020 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,021 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,021 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,021 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,021 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,021 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,022 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,022 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,022 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,022 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,022 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,022 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,023 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,024 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:08,024 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,024 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,025 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58333:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,025 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,025 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58333:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,025 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58333:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58333 ********
2020-03-18 17:37:08,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 0ms. Sync state: false
2020-03-18 17:37:08,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,025 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,026 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,026 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,026 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,026 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,027 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,027 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,027 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,027 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,027 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,027 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,028 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,028 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3 MS
2020-03-18 17:37:08,029 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,030 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,030 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58343:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,030 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:08,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,031 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,031 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,031 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58343:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,031 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58343:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58343 ********
2020-03-18 17:37:08,032 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:08,032 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,032 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,034 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58344
2020-03-18 17:37:08,034 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,034 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,034 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,034 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,034 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,035 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,036 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,036 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6 MS
2020-03-18 17:37:08,037 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,038 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,039 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58354:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,039 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,039 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:08,039 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,039 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,039 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,039 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,039 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58354:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,039 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,039 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58354:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58354 ********
2020-03-18 17:37:08,040 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,040 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,041 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,041 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,041 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,041 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,041 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,042 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,042 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,042 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 4 MS
2020-03-18 17:37:08,043 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,044 [myid:] - INFO  [LeaderConnector-/127.0.0.1:21998:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21998
2020-03-18 17:37:08,044 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58364:LearnerHandler@504] - Follower sid: 5 : info : 127.0.0.1:21999:22004:participant;127.0.0.1:22009
2020-03-18 17:37:08,045 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.io.IOException: Leaders epoch, 1 is less than accepted epoch, 5
	at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:469)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:89)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 1ms. Sync state: false
2020-03-18 17:37:08,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,045 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58364:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:535)
2020-03-18 17:37:08,045 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58364:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58364 ********
2020-03-18 17:37:08,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,045 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:08,045 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:08,046 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,046 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,046 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:FOLLOWING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,046 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,046 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LEADING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,046 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,047 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,047 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,047 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LEADING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:08,047 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6965809860679645191.junit.dir/version-2
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2 MS
2020-03-18 17:37:08,048 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:08,285 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:08,286 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58385
2020-03-18 17:37:08,292 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 24813
2020-03-18 17:37:08,292 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 164
2020-03-18 17:37:08,292 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testBehindLeader
2020-03-18 17:37:08,293 [myid:] - INFO  [main:QuorumBase@335] - TearDown started
2020-03-18 17:37:08,293 [myid:] - INFO  [main:QuorumBase@339] - fdcount after test is: 167
2020-03-18 17:37:08,293 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:37:08,293 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:08,293 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:08,293 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56294:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:08,293 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,293 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:08,293 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56294:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56294 ********
2020-03-18 17:37:08,294 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:08,294 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 10199ms. Sync state: true
2020-03-18 17:37:08,294 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:08,294 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,294 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:08,294 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:08,294 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:08,294 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:08,295 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:08,295 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:08,295 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:08,296 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:08,296 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,296 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,296 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:08,296 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22005:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:08,296 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:08,296 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:08,297 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:08,297 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,298 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,298 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:08,298 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:08,297 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,299 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,299 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,299 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,299 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,299 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,299 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,299 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled)
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,299 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,298 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,300 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,298 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,298 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,300 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:08,299 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,300 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:08,299 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22005)(secure=disabled) to exit thread
2020-03-18 17:37:08,300 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:37:08,299 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,300 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:08,299 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:08,299 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,300 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:08,300 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:08,301 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56359:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:08,301 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:08,301 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:08,301 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:08,300 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:08,301 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56359:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56359 ********
2020-03-18 17:37:08,301 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,302 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:08,302 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 10110ms. Sync state: true
2020-03-18 17:37:08,302 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:08,302 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,302 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:08,303 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:08,303 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:08,303 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:08,303 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:08,303 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:08,304 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:08,304 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,304 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,304 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:08,304 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22006:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:08,304 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:08,304 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:08,305 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:08,305 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,305 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,306 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,306 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,306 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:08,305 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:08,306 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,306 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:08,305 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled)
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,307 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,305 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:08,305 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,307 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,305 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,307 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,307 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,307 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:08,306 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22006)(secure=disabled) to exit thread
2020-03-18 17:37:08,307 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:37:08,307 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:08,307 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:08,307 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:08,308 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:08,307 [myid:] - ERROR [LearnerHandler-/127.0.0.1:56295:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:08,308 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21998). Was connected for 10214ms. Sync state: true
2020-03-18 17:37:08,308 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:08,308 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:08,308 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:08,308 [myid:] - WARN  [LearnerHandler-/127.0.0.1:56295:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:56295 ********
2020-03-18 17:37:08,308 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:08,308 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:08,308 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:08,309 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:08,309 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:08,309 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:08,309 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:08,309 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:08,310 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:08,310 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,310 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,310 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:08,310 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:08,310 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22007:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:08,310 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:08,311 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:08,311 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,311 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:37:08,311 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,311 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,311 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,311 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled)
2020-03-18 17:37:08,311 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,312 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,311 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,312 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,312 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22007)(secure=disabled) to exit thread
2020-03-18 17:37:08,312 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:37:08,312 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:08,311 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:08,311 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,311 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,312 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:37:08,312 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:08,312 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,313 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,313 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:21998:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:08,313 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:08,313 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:08,313 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:08,314 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:08,314 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:08,314 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:08,314 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:08,314 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:08,314 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:08,314 [myid:] - INFO  [ProcessThread(sid:4 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:08,314 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:08,315 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:08,315 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:08,315 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:08,315 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:08,315 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:08,316 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:08,316 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22008:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:08,316 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:08,316 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:08,316 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:08,317 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:08,317 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:08,317 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:08,317 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:08,317 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,317 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled)
2020-03-18 17:37:08,317 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,318 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,317 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:08,318 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:08,318 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22008)(secure=disabled) to exit thread
2020-03-18 17:37:08,317 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:08,318 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:37:08,318 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:08,318 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:08,318 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:08,318 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:08,318 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:08,318 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22009:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:08,319 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:08,320 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled)
2020-03-18 17:37:08,320 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled) to exit thread
2020-03-18 17:37:08,547 [myid:] - WARN  [Thread-1409:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 2
2020-03-18 17:37:08,547 [myid:] - WARN  [Thread-1410:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 3
2020-03-18 17:37:08,547 [myid:] - WARN  [Thread-1411:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:08,547 [myid:] - WARN  [Thread-1408:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2020-03-18 17:37:08,549 [myid:] - WARN  [Thread-1413:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:08,549 [myid:] - WARN  [Thread-1415:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:08,549 [myid:] - WARN  [Thread-1412:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 4
2020-03-18 17:37:08,549 [myid:] - WARN  [Thread-1414:QuorumCnxManager$SendWorker@1292] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 5
2020-03-18 17:37:09,049 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@129] - Exception when following the leader
java.lang.IllegalArgumentException
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1314)
	at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.java:1202)
	at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:275)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:87)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:09,050 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:09,051 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:09,051 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:09,051 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22009)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:09,051 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22005
2020-03-18 17:37:09,849 [myid:] - INFO  [main:QuorumBase@346] - 127.0.0.1:22005 is no longer accepting client connections
2020-03-18 17:37:09,849 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22006
2020-03-18 17:37:09,849 [myid:] - INFO  [main:QuorumBase@346] - 127.0.0.1:22006 is no longer accepting client connections
2020-03-18 17:37:09,849 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22007
2020-03-18 17:37:09,850 [myid:] - INFO  [main:QuorumBase@346] - 127.0.0.1:22007 is no longer accepting client connections
2020-03-18 17:37:09,850 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22008
2020-03-18 17:37:09,851 [myid:] - INFO  [main:QuorumBase@346] - 127.0.0.1:22008 is no longer accepting client connections
2020-03-18 17:37:09,851 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22009
2020-03-18 17:37:09,851 [myid:] - INFO  [main:QuorumBase@346] - 127.0.0.1:22009 is no longer accepting client connections
2020-03-18 17:37:09,854 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testBehindLeader
2020-03-18 17:37:09,855 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testBehindLeader
2020-03-18 17:37:09,855 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22010 from range 21993 - 24685.
2020-03-18 17:37:09,856 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testLateLogs
2020-03-18 17:37:09,856 [myid:] - INFO  [main:QuorumBase@84] - QuorumBase.setup null
2020-03-18 17:37:09,858 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc3AAtVbmljYXN0UmVmMgAADDE3Mi4xOC4xNC4zNAAA2S/TN/ck0jPlzNK/e3oAAAFw7QCyzIAUAHg=
2020-03-18 17:37:09,866 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22011 from range 21993 - 24685.
2020-03-18 17:37:09,866 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22012 from range 21993 - 24685.
2020-03-18 17:37:09,866 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22013 from range 21993 - 24685.
2020-03-18 17:37:09,866 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22014 from range 21993 - 24685.
2020-03-18 17:37:09,867 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22015 from range 21993 - 24685.
2020-03-18 17:37:09,867 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22016 from range 21993 - 24685.
2020-03-18 17:37:09,867 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22017 from range 21993 - 24685.
2020-03-18 17:37:09,867 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22018 from range 21993 - 24685.
2020-03-18 17:37:09,867 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22019 from range 21993 - 24685.
2020-03-18 17:37:09,867 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22020 from range 21993 - 24685.
2020-03-18 17:37:09,868 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22021 from range 21993 - 24685.
2020-03-18 17:37:09,868 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22022 from range 21993 - 24685.
2020-03-18 17:37:09,868 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22023 from range 21993 - 24685.
2020-03-18 17:37:09,868 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22024 from range 21993 - 24685.
2020-03-18 17:37:09,868 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22025 from range 21993 - 24685.
2020-03-18 17:37:09,868 [myid:] - INFO  [main:QuorumBase@119] - Ports are: 127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025
2020-03-18 17:37:09,872 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22021
2020-03-18 17:37:09,873 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:09,873 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:09,873 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:09,873 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-03-18 17:37:09,874 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:09,874 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,875 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,875 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:09,875 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:09,875 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:09,876 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22022
2020-03-18 17:37:09,876 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:09,877 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:09,877 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:09,878 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22022
2020-03-18 17:37:09,878 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:09,878 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,879 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,879 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:09,879 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:09,879 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:09,880 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22023
2020-03-18 17:37:09,880 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:09,880 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:09,880 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:09,881 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22023
2020-03-18 17:37:09,881 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:09,886 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,886 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,886 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:09,886 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:09,886 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:09,887 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22024
2020-03-18 17:37:09,887 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:09,887 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:09,887 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:09,888 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-03-18 17:37:09,888 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:09,888 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,889 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,889 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:09,889 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:09,889 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:09,889 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22025
2020-03-18 17:37:09,889 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:09,889 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:09,889 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:09,890 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22025
2020-03-18 17:37:09,890 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:09,890 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,891 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:09,891 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:09,891 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:09,891 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:09,891 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:09,892 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:09,892 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:09,892 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:09,892 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:09,892 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:09,892 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:09,893 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:37:09,894 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:09,897 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2/snapshot.0
2020-03-18 17:37:09,898 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:09,898 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,899 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,902 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:09,902 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:09,903 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22016
2020-03-18 17:37:09,903 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:37:09,903 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:09,903 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:37:09,903 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:09,904 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22017
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,904 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2/snapshot.0
2020-03-18 17:37:09,904 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,905 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,905 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:09,905 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,906 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,906 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,907 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,908 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:09,910 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:09,910 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22017
2020-03-18 17:37:09,911 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:37:09,911 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:09,911 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:37:09,911 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:09,912 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58472
2020-03-18 17:37:09,912 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,912 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,913 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,913 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,913 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,912 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2/snapshot.0
2020-03-18 17:37:09,913 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,913 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,913 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,914 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,914 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,914 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:09,914 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,914 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,915 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,917 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:09,917 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:09,918 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22018
2020-03-18 17:37:09,918 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:37:09,918 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:09,919 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x0
2020-03-18 17:37:09,919 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:09,919 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58480
2020-03-18 17:37:09,919 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2/snapshot.0
2020-03-18 17:37:09,920 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58481
2020-03-18 17:37:09,920 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,920 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:09,921 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,921 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,921 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,921 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,921 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,921 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,921 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,922 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,921 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,922 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,922 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,922 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,922 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,922 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,922 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,922 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,922 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,923 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,925 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:09,925 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:09,926 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:09,926 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:37:09,927 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:09,927 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x0
2020-03-18 17:37:09,927 [myid:] - INFO  [main:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:09,928 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58492
2020-03-18 17:37:09,929 [myid:] - INFO  [main:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.0
2020-03-18 17:37:09,929 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58493
2020-03-18 17:37:09,930 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:09,930 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58494
2020-03-18 17:37:09,930 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,930 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,930 [myid:] - INFO  [main:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,931 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,931 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,931 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,931 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,931 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,932 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,932 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,932 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,932 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,932 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58501
2020-03-18 17:37:09,932 [myid:] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (4, 2)
2020-03-18 17:37:09,934 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:09,934 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:09,935 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:09,934 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,934 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:09,935 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,935 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,935 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,935 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,936 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58503
2020-03-18 17:37:09,936 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58506
2020-03-18 17:37:09,936 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,936 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (4, 1)
2020-03-18 17:37:09,936 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:09,936 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:09,936 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:09,936 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:09,936 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,936 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:09,936 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:09,936 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,936 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:09,936 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:09,936 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:09,937 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:09,937 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:09,937 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:09,937 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:09,937 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,936 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58509
2020-03-18 17:37:09,937 [myid:] - INFO  [main:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:09,938 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,940 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,943 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:09,943 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:09,943 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22020
2020-03-18 17:37:09,944 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:37:09,944 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025
2020-03-18 17:37:09,944 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:09,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:09,944 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x0
2020-03-18 17:37:09,945 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58511
2020-03-18 17:37:09,945 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58510
2020-03-18 17:37:09,945 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,945 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58512
2020-03-18 17:37:09,946 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,946 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,946 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,946 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58513
2020-03-18 17:37:09,946 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,946 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,947 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,947 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,947 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,947 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,947 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,947 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,947 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,948 [myid:] - INFO  [WorkerSender[myid=4]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 4)
2020-03-18 17:37:09,948 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58521
2020-03-18 17:37:09,948 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,948 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,948 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,948 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,949 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,949 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58525
2020-03-18 17:37:09,949 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,949 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:09,950 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,150 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,150 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,150 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,151 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:10,152 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 234 MS
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 225 MS
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 250 MS
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,153 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:37:10,154 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,155 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.0
2020-03-18 17:37:10,155 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 244 MS
2020-03-18 17:37:10,155 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:10,155 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:10,156 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,156 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:37:10,156 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:10,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58535:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22013:22018:participant;127.0.0.1:22023
2020-03-18 17:37:10,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58536:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22011:22016:participant;127.0.0.1:22021
2020-03-18 17:37:10,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58537:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:22014:22019:participant;127.0.0.1:22024
2020-03-18 17:37:10,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58539:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22012:22017:participant;127.0.0.1:22022
2020-03-18 17:37:10,158 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,159 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:10,159 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:10,160 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58537:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:10,159 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58539:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:10,160 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58539:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:10,160 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58539:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 2
2020-03-18 17:37:10,159 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58536:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:10,160 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58536:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:10,159 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:10,159 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:10,161 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58536:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:37:10,160 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58537:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:10,161 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58537:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 4
2020-03-18 17:37:10,160 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58535:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:10,161 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58535:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:10,161 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58535:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 3
2020-03-18 17:37:10,161 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:10,162 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:10,162 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:10,162 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:10,162 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:10,163 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:10,163 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:10,163 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,164 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,164 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:10,164 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:10,164 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:10,164 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,165 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 4, 5],[1, 4, 5]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:37:10,203 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:10,203 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:10,205 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:10,207 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:10,207 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:10,207 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:10,208 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:10,209 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:10,209 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:10,209 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:10,210 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:10,210 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:10,210 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,212 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:10,213 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:10,215 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:10,215 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:10,215 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:10,215 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:10,222 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:10,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:10,304 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:10,309 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58589
2020-03-18 17:37:10,309 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:37:10,310 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22021 is accepting client connections
2020-03-18 17:37:10,310 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:10,311 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58590
2020-03-18 17:37:10,311 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:10,311 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22022 is accepting client connections
2020-03-18 17:37:10,311 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:10,312 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58591
2020-03-18 17:37:10,312 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:10,312 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22023 is accepting client connections
2020-03-18 17:37:10,312 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-03-18 17:37:10,313 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58592
2020-03-18 17:37:10,313 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:10,314 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22024 is accepting client connections
2020-03-18 17:37:10,314 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22025
2020-03-18 17:37:10,315 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58593
2020-03-18 17:37:10,315 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:10,315 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22025 is accepting client connections
2020-03-18 17:37:10,316 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:37:10,320 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:10,321 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:10,321 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,321 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:10,321 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:10,322 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:10,322 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:10,322 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:10,323 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:10,323 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:10,323 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:10,323 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58536",name5="id:1"
2020-03-18 17:37:10,324 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58537",name5="id:4"
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:10,325 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58539",name5="id:2"
2020-03-18 17:37:10,326 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:10,326 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58535",name5="id:3"
2020-03-18 17:37:10,326 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:10,326 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:10,326 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:10,327 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:10,327 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:10,327 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:10,327 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,327 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:10,328 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:10,328 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:10,328 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:10,328 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:10,328 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:10,330 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:10,331 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:10,332 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:10,333 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:10,334 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:10,335 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:10,335 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:10,335 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:10,335 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:10,335 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:10,336 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:10,336 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:10,336 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:10,336 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:10,336 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:10,336 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:10,337 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:10,338 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:10,338 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:10,338 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:10,338 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:10,338 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:10,338 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:10,338 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:10,339 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:37:10,340 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:10,340 [myid:] - INFO  [main:QuorumBase@131] - Initial fdcount is: 163
2020-03-18 17:37:10,340 [myid:] - INFO  [main:QuorumBase@134] - Setup finished
2020-03-18 17:37:10,340 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testLateLogs
2020-03-18 17:37:10,340 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:10,341 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58597
2020-03-18 17:37:10,341 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:10,341 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:10,342 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58598
2020-03-18 17:37:10,342 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:37:10,343 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025 sessionTimeout=10000 watcher=org.apache.zookeeper.DummyWatcher@782663d3
2020-03-18 17:37:10,343 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:10,344 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:10,347 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22025.
2020-03-18 17:37:10,347 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:10,348 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:58599, server: localhost/127.0.0.1:22025
2020-03-18 17:37:10,350 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:37:10,350 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:37:10,350 [myid:] - INFO  [SyncThread:5:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:10,350 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:37:10,350 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:10,350 [myid:] - INFO  [SyncThread:4:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:10,350 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:37:10,352 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:10,353 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:10,354 [myid:] - INFO  [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x500015b61870000
2020-03-18 17:37:10,355 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x500015b61870000
2020-03-18 17:37:10,356 [myid:] - INFO  [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x500015b61870000
2020-03-18 17:37:10,355 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x500015b61870000
2020-03-18 17:37:10,354 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x500015b61870000
2020-03-18 17:37:10,358 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22025, session id = 0x500015b61870000, negotiated timeout = 10000
2020-03-18 17:37:10,362 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x500015b61870000
2020-03-18 17:37:10,365 [myid:127.0.0.1:22025] - WARN  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x500015b61870000.
EndOfStreamException: Unable to read additional data from server sessionid 0x500015b61870000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:10,466 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x500015b61870000
2020-03-18 17:37:10,471 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x500015b61870000 closed
2020-03-18 17:37:10,471 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:10,471 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:10,472 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58536:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:10,472 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58536:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58536 ********
2020-03-18 17:37:10,472 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:10,472 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:10,472 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:10,472 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 316ms. Sync state: true
2020-03-18 17:37:10,473 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:10,473 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:10,473 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:10,474 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:10,474 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:10,474 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:10,476 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:10,476 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:10,476 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:10,477 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:10,477 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:10,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:10,478 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:10,478 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:10,478 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:10,479 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:10,479 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:10,481 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:10,481 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,481 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:10,481 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,481 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,483 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,483 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:10,482 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,483 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:10,482 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,483 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,483 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:10,483 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,483 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:10,483 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:10,483 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,484 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:10,484 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled) to exit thread
2020-03-18 17:37:10,484 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:10,484 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:10,484 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58539:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:10,485 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58539:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58539 ********
2020-03-18 17:37:10,485 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:10,485 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:10,485 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 328ms. Sync state: true
2020-03-18 17:37:10,485 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:10,485 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:10,486 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:10,486 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:10,486 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:10,486 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:10,486 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:10,487 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:10,487 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:10,487 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:10,488 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:10,488 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:10,490 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:10,490 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:10,490 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:10,490 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:10,490 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:10,490 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:10,537 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:10,538 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,538 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,538 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,538 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,538 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:10,538 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:10,539 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,539 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:10,539 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,539 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,539 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,540 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,539 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,540 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,539 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,540 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:10,540 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:10,540 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:10,540 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled) to exit thread
2020-03-18 17:37:10,540 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:10,540 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:10,541 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58535:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:10,541 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:10,541 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:10,541 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 386ms. Sync state: true
2020-03-18 17:37:10,541 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58535:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58535 ********
2020-03-18 17:37:10,541 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:10,541 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:10,542 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:10,542 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:10,542 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:10,542 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:10,542 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:10,542 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:10,542 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:10,542 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:10,543 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:10,543 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:10,544 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:10,544 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:10,544 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:10,544 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:10,544 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22023:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:10,544 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:10,545 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:10,545 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,545 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,545 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,545 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,546 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,545 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,546 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:37:10,546 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:37:10,546 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,546 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,546 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,546 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:10,546 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,546 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,546 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,547 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:10,547 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:10,547 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled) to exit thread
2020-03-18 17:37:10,547 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:10,547 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:10,547 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58537:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:10,547 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58537:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58537 ********
2020-03-18 17:37:10,547 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:10,547 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 391ms. Sync state: true
2020-03-18 17:37:10,547 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:10,547 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:10,548 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:10,548 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:10,548 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:10,548 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:10,548 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:10,548 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:10,548 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:10,549 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:10,549 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:10,550 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:10,550 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:10,550 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:10,550 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:10,550 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:10,550 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:10,551 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22024:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:10,551 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:10,571 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:10,571 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,571 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,571 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,571 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,572 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,572 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,572 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:10,572 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:10,572 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:10,572 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled) to exit thread
2020-03-18 17:37:10,572 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:10,572 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:10,572 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:10,572 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:10,572 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22015:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,579 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:10,580 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:10,580 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:10,580 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:10,581 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:10,582 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:10,582 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:10,582 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:10,582 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:10,582 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:10,582 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:10,582 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:10,583 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:10,583 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:10,589 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22025:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:10,589 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:10,589 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:10,590 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:10,590 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:10,590 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:10,590 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:10,590 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:10,591 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:10,591 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:10,591 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled) to exit thread
2020-03-18 17:37:10,591 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22021
2020-03-18 17:37:10,591 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:10,591 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:10,591 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:10,592 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-03-18 17:37:10,592 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:10,592 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,592 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,593 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:10,593 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:10,593 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,593 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22022
2020-03-18 17:37:10,593 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:10,593 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:10,593 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:10,593 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22022
2020-03-18 17:37:10,594 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:10,594 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,594 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,594 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:10,595 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:10,595 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,595 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22023
2020-03-18 17:37:10,597 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:10,597 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:10,597 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:10,599 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22023
2020-03-18 17:37:10,599 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:10,600 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,602 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,602 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:10,602 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:10,602 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,602 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22024
2020-03-18 17:37:10,602 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:10,603 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:10,603 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:10,603 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-03-18 17:37:10,603 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:10,606 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,606 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,608 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:10,608 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:10,608 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,608 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22025
2020-03-18 17:37:10,608 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:10,608 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:10,609 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:10,609 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22025
2020-03-18 17:37:10,615 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:10,616 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,616 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:10,616 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:10,617 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:10,617 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:10,617 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:10,617 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:10,617 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:10,617 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:10,619 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:10,620 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:10,631 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:10,632 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:10,632 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:37:10,633 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2/snapshot.0
2020-03-18 17:37:10,633 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:10,635 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:37:10,635 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:10,636 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:10,636 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:10,652 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22016
2020-03-18 17:37:10,657 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:10,657 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x100000003
2020-03-18 17:37:10,657 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22017
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,658 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,658 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,658 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,658 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,665 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:37:10,671 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2/snapshot.0
2020-03-18 17:37:10,671 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:10,679 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:10,680 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 14 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:10,681 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:10,681 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:10,682 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22017
2020-03-18 17:37:10,682 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:37:10,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:10,682 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x100000003
2020-03-18 17:37:10,682 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2/snapshot.0
2020-03-18 17:37:10,683 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:10,683 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,683 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58671
2020-03-18 17:37:10,683 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,684 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,684 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,684 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,684 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,684 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,684 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,684 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,685 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,685 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,685 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:10,685 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:10,704 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:10,704 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:10,705 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:37:10,705 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22018
2020-03-18 17:37:10,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:10,705 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x100000003
2020-03-18 17:37:10,706 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2/snapshot.0
2020-03-18 17:37:10,706 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58687
2020-03-18 17:37:10,707 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:10,707 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,707 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,707 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58688
2020-03-18 17:37:10,707 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,708 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,708 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,708 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,708 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,708 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,708 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,708 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,708 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,708 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,709 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,709 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,709 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,709 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,709 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,710 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:10,710 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 5 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:10,726 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:10,727 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:10,727 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:10,728 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:37:10,728 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:10,728 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x100000003
2020-03-18 17:37:10,729 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.0
2020-03-18 17:37:10,729 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58699
2020-03-18 17:37:10,730 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58700
2020-03-18 17:37:10,730 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,730 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,731 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,731 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,731 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58701
2020-03-18 17:37:10,731 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,731 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,731 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,731 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,731 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,732 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,733 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,733 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,733 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,733 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:10,734 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:10,734 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 6 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:10,736 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:10,736 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:10,737 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:37:10,737 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025
2020-03-18 17:37:10,737 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22020
2020-03-18 17:37:10,738 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:10,738 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x100000003
2020-03-18 17:37:10,738 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:10,739 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58715
2020-03-18 17:37:10,739 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,739 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58716
2020-03-18 17:37:10,739 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58717
2020-03-18 17:37:10,739 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,740 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,740 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,740 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,740 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,740 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,740 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58719
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,741 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,742 [myid:] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 3)
2020-03-18 17:37:10,742 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,742 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58726
2020-03-18 17:37:10,742 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,742 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,742 [myid:] - INFO  [WorkerSender[myid=4]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 4)
2020-03-18 17:37:10,742 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,743 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,743 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58734
2020-03-18 17:37:10,744 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,744 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58730
2020-03-18 17:37:10,744 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,744 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,744 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,744 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,744 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,744 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,744 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:10,744 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:10,744 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,744 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:10,744 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:10,744 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58736
2020-03-18 17:37:10,744 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:10,745 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,745 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:10,943 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2
2020-03-18 17:37:10,944 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 262 MS
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,945 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 240 MS
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,946 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 290 MS
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,946 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:10,947 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 218 MS
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:10,947 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:10,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:10,947 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:10,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:10,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:10,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2
2020-03-18 17:37:10,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:37:10,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:10,948 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.100000003
2020-03-18 17:37:10,949 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:10,949 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:37:10,950 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58757:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:22014:22019:participant;127.0.0.1:22024
2020-03-18 17:37:11,047 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:11,047 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:11,047 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58793:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22012:22017:participant;127.0.0.1:22022
2020-03-18 17:37:11,047 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:11,048 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:11,048 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:11,048 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:11,048 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:11,048 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:11,048 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:11,047 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:11,048 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:11,047 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:11,048 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:11,049 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58794:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22013:22018:participant;127.0.0.1:22023
2020-03-18 17:37:11,049 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58795:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22011:22016:participant;127.0.0.1:22021
2020-03-18 17:37:11,049 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,050 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,050 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,051 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,051 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58795:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,051 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58795:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,051 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58795:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 1
2020-03-18 17:37:11,051 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58794:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,051 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58794:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,050 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,053 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58794:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 3
2020-03-18 17:37:11,056 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,056 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,053 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58793:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,056 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58793:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,056 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,053 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58757:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,057 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58757:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,057 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58757:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 4
2020-03-18 17:37:11,056 [myid:] - INFO  [LearnerHandler-/127.0.0.1:58793:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 2
2020-03-18 17:37:11,055 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:11,058 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,060 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,060 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,061 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,061 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,061 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,061 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,062 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,061 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,062 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,062 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,062 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,062 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,063 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 4, 5],[1, 4, 5]]; starting up and setting last processed zxid: 0x200000000
2020-03-18 17:37:11,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,064 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,065 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:11,065 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:11,065 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,065 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,065 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,065 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,065 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,066 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,067 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,067 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:11,068 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:11,069 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:11,069 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:11,160 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:11,161 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58836
2020-03-18 17:37:11,162 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:37:11,162 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22021 is accepting client connections
2020-03-18 17:37:11,162 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:11,164 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58839
2020-03-18 17:37:11,164 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:11,165 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22022 is accepting client connections
2020-03-18 17:37:11,165 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:11,166 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58840
2020-03-18 17:37:11,166 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:11,166 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22023 is accepting client connections
2020-03-18 17:37:11,166 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-03-18 17:37:11,173 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58841
2020-03-18 17:37:11,173 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:11,173 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22024 is accepting client connections
2020-03-18 17:37:11,173 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22025
2020-03-18 17:37:11,174 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58851
2020-03-18 17:37:11,174 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:11,175 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22025 is accepting client connections
2020-03-18 17:37:11,175 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:37:11,176 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:11,176 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58794",name5="id:3"
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58793",name5="id:2"
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:11,177 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,178 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58795",name5="id:1"
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:11,179 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58757",name5="id:4"
2020-03-18 17:37:11,180 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:11,181 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:11,181 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:11,181 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:11,181 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:11,182 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:37:11,183 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:11,184 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:11,185 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:11,186 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:11,187 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:58794",name5="id:3"
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:37:11,188 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:11,189 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:37:11,189 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:11,189 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:37:11,189 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:11,189 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:37:11,189 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:11,189 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:11,190 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58856
2020-03-18 17:37:11,190 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:11,190 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:11,191 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:11,191 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:11,191 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:11,191 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:11,191 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58795:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:11,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 142ms. Sync state: true
2020-03-18 17:37:11,191 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:11,191 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:11,191 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58795:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58795 ********
2020-03-18 17:37:11,192 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:11,192 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:11,192 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:11,192 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:11,192 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:11,192 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:11,192 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:11,194 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:11,194 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:11,194 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:11,194 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:11,194 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:11,195 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:11,194 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:11,195 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:11,196 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:11,196 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,196 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,196 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,196 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:11,196 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,197 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,198 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,198 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,198 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,197 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,198 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,198 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:11,198 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,198 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,198 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:11,198 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:11,198 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled) to exit thread
2020-03-18 17:37:11,199 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:11,199 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:11,197 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,199 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:11,199 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:11,199 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:11,198 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:11,199 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:11,200 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:11,200 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:11,199 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:11,199 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58793:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:11,200 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58793:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58793 ********
2020-03-18 17:37:11,200 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 153ms. Sync state: true
2020-03-18 17:37:11,200 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:11,200 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:11,200 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:11,200 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:11,201 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:11,201 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:11,202 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:11,202 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:11,203 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:11,203 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:11,203 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:11,203 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:11,203 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:11,203 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:11,204 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:11,204 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,204 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,204 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,204 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,204 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,205 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,205 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:11,205 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:11,205 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,205 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,205 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,205 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:11,205 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,205 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,205 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,206 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:11,206 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,206 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,206 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,206 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,206 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,206 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:11,206 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,207 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:11,206 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:11,207 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled) to exit thread
2020-03-18 17:37:11,207 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:11,207 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:11,207 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:11,207 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:11,207 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:11,207 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58794:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:11,208 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58794:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58794 ********
2020-03-18 17:37:11,208 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 160ms. Sync state: true
2020-03-18 17:37:11,207 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:11,208 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:11,208 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:11,208 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:11,209 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:11,209 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:11,209 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:11,209 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:11,209 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:11,210 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:11,211 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:11,211 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:11,211 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:11,212 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:11,213 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:11,212 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:11,212 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22023:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:11,214 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:11,214 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,214 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,214 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,214 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,214 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:37:11,214 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,214 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,215 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,214 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,214 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,215 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,215 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:11,215 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:11,215 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,215 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:37:11,215 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled) to exit thread
2020-03-18 17:37:11,215 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,215 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:11,215 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:11,216 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:11,216 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:11,216 [myid:] - ERROR [LearnerHandler-/127.0.0.1:58757:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:11,216 [myid:] - WARN  [LearnerHandler-/127.0.0.1:58757:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:58757 ********
2020-03-18 17:37:11,216 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:11,216 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:11,216 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 267ms. Sync state: true
2020-03-18 17:37:11,216 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:11,216 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:11,216 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:11,217 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:11,217 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:11,217 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:11,217 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:11,217 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:11,217 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:11,219 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:11,219 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:11,220 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:11,220 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:11,220 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:11,220 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:11,220 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22024:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:11,220 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:11,221 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:11,221 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,221 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,221 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,221 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,221 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:11,222 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,222 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:11,221 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:11,221 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,222 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled) to exit thread
2020-03-18 17:37:11,222 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:11,222 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:11,222 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:11,222 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22015:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,222 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:11,223 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:11,224 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:11,224 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:11,224 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:11,224 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:11,224 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:11,225 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:11,225 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:11,225 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:11,225 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:11,225 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:11,225 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:11,225 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:11,225 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:11,226 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:11,227 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22025:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:11,227 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:11,227 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:11,227 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:11,227 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:11,228 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:11,228 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:11,228 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:11,228 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:11,228 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled) to exit thread
2020-03-18 17:37:11,229 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22021
2020-03-18 17:37:11,229 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:11,229 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:11,229 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:11,229 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-03-18 17:37:11,229 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:11,230 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,230 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,230 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:11,230 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:11,231 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,231 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22022
2020-03-18 17:37:11,231 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:11,231 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:11,231 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:11,231 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22022
2020-03-18 17:37:11,232 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:11,232 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,232 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,233 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:11,233 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:11,233 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,233 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22023
2020-03-18 17:37:11,233 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:11,233 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:11,233 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:11,233 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22023
2020-03-18 17:37:11,234 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:11,234 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,234 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,234 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:11,235 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:11,235 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,235 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22024
2020-03-18 17:37:11,235 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:11,235 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:11,235 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:11,236 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-03-18 17:37:11,236 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:11,237 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,237 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,237 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:11,237 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:11,237 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,237 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22025
2020-03-18 17:37:11,237 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:11,237 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:11,238 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:11,238 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22025
2020-03-18 17:37:11,238 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:11,239 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,239 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:11,239 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:11,239 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:11,239 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,239 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:11,239 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:11,239 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:11,240 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:11,241 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:11,241 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:11,241 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:11,241 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:37:11,395 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2/snapshot.0
2020-03-18 17:37:11,395 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:11,397 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:11,397 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 14 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:11,399 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:11,414 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:11,415 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22016
2020-03-18 17:37:11,415 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:37:11,416 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:11,416 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x100000003
2020-03-18 17:37:11,416 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2/snapshot.0
2020-03-18 17:37:11,416 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22017
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,417 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:11,417 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,417 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,417 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,417 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,418 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:11,418 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:11,419 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:11,420 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:11,420 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22017
2020-03-18 17:37:11,421 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:37:11,421 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:11,421 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x100000003
2020-03-18 17:37:11,421 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2/snapshot.0
2020-03-18 17:37:11,422 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58897
2020-03-18 17:37:11,423 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,423 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,424 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,424 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,424 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,424 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,424 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,424 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,424 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,425 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,425 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,425 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:11,426 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:37:11,426 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 5 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:11,429 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:11,429 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:11,462 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22018
2020-03-18 17:37:11,464 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:11,465 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x100000003
2020-03-18 17:37:11,465 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58905
2020-03-18 17:37:11,465 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:37:11,467 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,466 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,466 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58906
2020-03-18 17:37:11,466 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,467 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,470 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,470 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,470 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,470 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,471 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,471 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,471 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,471 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,471 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,472 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,472 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,472 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,473 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,474 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2/snapshot.0
2020-03-18 17:37:11,475 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:11,475 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:11,475 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:11,481 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:11,482 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:11,482 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:11,483 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:37:11,484 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:11,485 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x100000003
2020-03-18 17:37:11,486 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58917
2020-03-18 17:37:11,487 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58918
2020-03-18 17:37:11,487 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,488 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,488 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58919
2020-03-18 17:37:11,488 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,488 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,488 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,488 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,489 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,489 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,489 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,489 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,489 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,489 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,490 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,490 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,490 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,490 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,490 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,490 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,491 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,491 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,491 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,491 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,491 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,492 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.100000003
2020-03-18 17:37:11,492 [myid:] - INFO  [main:DataTree@1730] - The digest in the snapshot has digest version of 2, , with zxid as 0x100000003, and digest value as 7163321580
2020-03-18 17:37:11,561 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 70 ms, highest zxid is 0x100000003, digest is 7163321580
2020-03-18 17:37:11,571 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:11,571 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:11,572 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22020
2020-03-18 17:37:11,574 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:11,574 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x100000003
2020-03-18 17:37:11,575 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58970
2020-03-18 17:37:11,575 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,575 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58971
2020-03-18 17:37:11,576 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,576 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,576 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,576 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58972
2020-03-18 17:37:11,576 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,576 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,577 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58973
2020-03-18 17:37:11,577 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,577 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,577 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,578 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,578 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,578 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,578 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,578 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,578 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,579 [myid:] - INFO  [WorkerSender[myid=4]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 4)
2020-03-18 17:37:11,579 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58982
2020-03-18 17:37:11,579 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,579 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:11,579 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,579 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,579 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,579 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,579 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,579 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:11,579 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,579 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1266] - Exception when using channel: for id 5 my id = 4
java.net.SocketException: Broken pipe (Write failed)
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:198)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1209)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1259)
2020-03-18 17:37:11,580 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,580 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,580 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:11,580 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:11,580 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:11,580 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,580 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,582 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:58989
2020-03-18 17:37:11,582 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:37:11,583 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025
2020-03-18 17:37:11,583 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,582 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,583 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,583 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:11,583 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:11,585 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:58992
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,780 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 360 MS
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:11,781 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 367 MS
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:11,783 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2
2020-03-18 17:37:11,782 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:11,783 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 318 MS
2020-03-18 17:37:11,783 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:11,783 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,783 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,783 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:11,783 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:11,784 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.100000003
2020-03-18 17:37:11,785 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:11,785 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:11,785 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:11,785 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:11,785 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,785 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:11,785 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2
2020-03-18 17:37:11,786 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:37:11,787 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 301 MS
2020-03-18 17:37:11,787 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:11,788 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:11,789 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59031:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:22014:22019:participant;127.0.0.1:22024
2020-03-18 17:37:11,837 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:11,838 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59056
2020-03-18 17:37:11,884 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:11,884 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:11,885 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:11,885 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59057:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22012:22017:participant;127.0.0.1:22022
2020-03-18 17:37:11,885 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59058:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22011:22016:participant;127.0.0.1:22021
2020-03-18 17:37:11,885 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59059:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22013:22018:participant;127.0.0.1:22023
2020-03-18 17:37:11,887 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,888 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,888 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59031:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,888 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59031:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,888 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59031:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 4
2020-03-18 17:37:11,888 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,888 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,888 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:11,888 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59059:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,889 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59059:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,888 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59057:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,890 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:11,888 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59058:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:11,890 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,890 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,890 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59057:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,890 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59059:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 3
2020-03-18 17:37:11,890 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59057:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 2
2020-03-18 17:37:11,890 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59058:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:11,890 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,890 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59058:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 1
2020-03-18 17:37:11,891 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,892 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,892 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,892 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,893 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:11,893 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:11,893 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,893 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,893 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:11,894 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:11,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 4, 5],[1, 4, 5]]; starting up and setting last processed zxid: 0x300000000
2020-03-18 17:37:11,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:11,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:11,898 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:11,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:11,899 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:11,901 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:11,901 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:12,092 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:12,094 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59064
2020-03-18 17:37:12,094 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:12,094 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22021 is accepting client connections
2020-03-18 17:37:12,094 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:12,095 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59065
2020-03-18 17:37:12,096 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:12,096 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22022 is accepting client connections
2020-03-18 17:37:12,096 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:12,097 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59066
2020-03-18 17:37:12,097 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:12,098 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22023 is accepting client connections
2020-03-18 17:37:12,098 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-03-18 17:37:12,099 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59067
2020-03-18 17:37:12,099 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:12,100 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22024 is accepting client connections
2020-03-18 17:37:12,100 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22025
2020-03-18 17:37:12,102 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59068
2020-03-18 17:37:12,102 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:12,102 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22025 is accepting client connections
2020-03-18 17:37:12,102 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:37:12,105 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:12,105 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:12,105 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:12,106 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59031",name5="id:4"
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59058",name5="id:1"
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,107 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59057",name5="id:2"
2020-03-18 17:37:12,108 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:12,108 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:12,108 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:37:12,108 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:12,109 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:12,109 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:12,109 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:12,109 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:12,109 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:12,110 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:12,110 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:12,110 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:12,110 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:12,110 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,110 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:12,110 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59059",name5="id:3"
2020-03-18 17:37:12,111 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:12,111 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:12,111 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:12,112 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:12,112 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:12,115 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:37:12,115 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,116 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:37:12,116 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:12,117 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:37:12,117 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,119 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:37:12,119 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:12,120 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:12,121 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:12,121 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:12,121 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:12,121 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:12,121 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:12,121 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:12,121 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:12,122 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:12,122 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:12,122 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:12,122 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:12,122 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:12,122 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:12,123 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:12,123 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:12,123 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:12,123 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:12,123 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:12,124 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:12,125 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:12,125 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:12,125 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:12,125 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:12,125 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:12,125 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:12,126 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:12,126 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:12,126 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:12,126 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:12,126 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:12,126 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:12,126 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:12,127 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:12,127 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:12,127 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:12,127 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:12,128 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:12,128 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:12,128 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:12,128 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:37:12,128 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:12,128 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:37:12,128 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:12,129 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:37:12,129 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:12,129 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:37:12,129 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:12,129 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:37:12,129 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:12,129 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:12,130 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59071
2020-03-18 17:37:12,131 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:37:12,131 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025 sessionTimeout=10000 watcher=org.apache.zookeeper.DummyWatcher@782663d3
2020-03-18 17:37:12,131 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:12,132 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:12,134 [myid:127.0.0.1:22022] - INFO  [main-SendThread(127.0.0.1:22022):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22022.
2020-03-18 17:37:12,134 [myid:127.0.0.1:22022] - INFO  [main-SendThread(127.0.0.1:22022):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:12,135 [myid:127.0.0.1:22022] - INFO  [main-SendThread(127.0.0.1:22022):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:59074, server: localhost/127.0.0.1:22022
2020-03-18 17:37:12,138 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:37:12,138 [myid:] - INFO  [SyncThread:5:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:37:12,138 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:37:12,138 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:37:12,138 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@170] - Got zxid 0x300000001 expected 0x1
2020-03-18 17:37:12,140 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:37:12,140 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:37:12,140 [myid:] - INFO  [SyncThread:4:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:37:12,140 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.300000001
2020-03-18 17:37:12,142 [myid:] - INFO  [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x200015b68200000
2020-03-18 17:37:12,142 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015b68200000
2020-03-18 17:37:12,142 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x200015b68200000
2020-03-18 17:37:12,142 [myid:] - INFO  [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x200015b68200000
2020-03-18 17:37:12,142 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015b68200000
2020-03-18 17:37:12,145 [myid:127.0.0.1:22022] - INFO  [main-SendThread(127.0.0.1:22022):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22022, session id = 0x200015b68200000, negotiated timeout = 10000
2020-03-18 17:37:12,148 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015b68200000
2020-03-18 17:37:12,150 [myid:127.0.0.1:22022] - WARN  [main-SendThread(127.0.0.1:22022):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x200015b68200000.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015b68200000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:12,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:12,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:12,254 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015b68200000
2020-03-18 17:37:12,254 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015b68200000 closed
2020-03-18 17:37:12,255 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:12,256 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:12,256 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:12,256 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:12,256 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 371ms. Sync state: true
2020-03-18 17:37:12,256 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:12,256 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:12,256 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59058:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:12,257 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59058:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59058 ********
2020-03-18 17:37:12,258 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:12,258 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:12,258 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:12,258 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:12,258 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:12,258 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:12,259 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:12,259 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:12,261 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:12,261 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:12,261 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:12,261 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:12,261 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:12,262 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:12,262 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:12,262 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:12,263 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:12,264 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,264 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,264 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,264 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:12,264 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,264 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,264 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,266 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:12,265 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,266 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,265 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,266 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,266 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:12,266 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,266 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:12,266 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:12,267 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled) to exit thread
2020-03-18 17:37:12,267 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:12,267 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:12,267 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59057:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:12,268 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59057:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59057 ********
2020-03-18 17:37:12,268 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:12,268 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 383ms. Sync state: true
2020-03-18 17:37:12,268 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:12,268 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:12,268 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:12,268 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:12,268 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:12,269 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:12,269 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:12,269 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:12,269 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:12,270 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:12,270 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:12,271 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:12,271 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:12,271 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:12,271 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:12,271 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:12,271 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:12,271 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:12,271 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:12,273 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:12,273 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,273 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,273 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,273 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:12,273 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,273 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,273 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,273 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,273 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,274 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,273 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:12,273 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,274 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,274 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,274 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:12,274 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:12,274 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,274 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,274 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,274 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,275 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,274 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,274 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:12,275 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:12,275 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:12,276 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled) to exit thread
2020-03-18 17:37:12,276 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:12,276 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:12,276 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59059:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:12,276 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59059:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59059 ********
2020-03-18 17:37:12,276 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:12,276 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:12,277 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 392ms. Sync state: true
2020-03-18 17:37:12,277 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:12,277 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:12,277 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:12,277 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:12,277 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:12,277 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:12,278 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:12,278 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:12,279 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:12,279 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:12,279 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:12,279 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:12,280 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:12,280 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:12,280 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:12,280 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22023:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:12,280 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:12,280 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:12,282 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:12,283 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,283 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,283 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,283 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,283 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,283 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,283 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:37:12,283 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:37:12,283 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,283 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,283 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,283 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:12,284 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,284 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,284 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,284 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:12,285 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:12,285 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled) to exit thread
2020-03-18 17:37:12,285 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:12,285 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:12,285 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:12,285 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:12,285 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59031:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:12,286 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 498ms. Sync state: true
2020-03-18 17:37:12,286 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59031:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59031 ********
2020-03-18 17:37:12,286 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:12,286 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:12,286 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:12,286 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:12,286 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:12,286 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:12,287 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:12,287 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:12,287 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:12,287 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:12,288 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:12,288 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:12,288 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:12,288 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:12,288 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:12,288 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:12,289 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22024:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:12,291 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:12,292 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:12,292 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,292 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,292 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:12,292 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,292 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,292 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,292 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,293 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:12,293 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:12,293 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled) to exit thread
2020-03-18 17:37:12,293 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:12,293 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:12,293 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:12,294 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22015:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,294 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:12,294 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:12,295 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:12,295 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:12,295 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:12,295 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:12,295 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:12,295 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:12,295 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:12,295 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:12,296 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:12,296 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:12,296 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:12,296 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:12,296 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:12,297 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:12,298 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22025:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:12,298 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:12,298 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:12,298 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:12,298 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:12,298 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:12,298 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:12,299 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:12,300 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:12,300 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled) to exit thread
2020-03-18 17:37:12,300 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22021
2020-03-18 17:37:12,300 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:12,300 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:12,301 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:12,301 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-03-18 17:37:12,301 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:12,302 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,302 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,302 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:12,302 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:12,302 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,302 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22022
2020-03-18 17:37:12,302 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:12,303 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:12,303 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:12,303 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22022
2020-03-18 17:37:12,303 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:12,303 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,304 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,304 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:12,304 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:12,304 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,304 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22023
2020-03-18 17:37:12,304 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:12,304 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:12,304 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:12,305 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22023
2020-03-18 17:37:12,305 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:12,305 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,305 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,305 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:12,306 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:12,306 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,306 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22024
2020-03-18 17:37:12,306 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:12,306 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:12,306 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:12,306 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-03-18 17:37:12,306 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:12,307 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,307 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,307 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:12,307 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:12,307 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,307 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22025
2020-03-18 17:37:12,308 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:12,308 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:12,308 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:12,308 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22025
2020-03-18 17:37:12,308 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:12,309 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,309 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:12,309 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:12,309 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:12,309 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,310 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:12,310 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:12,310 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:12,310 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:12,310 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:12,471 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:12,472 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:37:12,585 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2/snapshot.0
2020-03-18 17:37:12,585 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:12,586 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 1 ms
2020-03-18 17:37:12,587 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x300000003, digest is 8013289962
2020-03-18 17:37:12,589 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:12,589 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:12,590 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22016
2020-03-18 17:37:12,597 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:37:12,597 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:12,597 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x300000003
2020-03-18 17:37:12,598 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2/snapshot.0
2020-03-18 17:37:12,598 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22017
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,598 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:12,598 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,598 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,599 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,599 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,602 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 1 ms
2020-03-18 17:37:12,602 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x300000003, digest is 8013289962
2020-03-18 17:37:12,603 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:12,603 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:12,603 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22017
2020-03-18 17:37:12,604 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:37:12,604 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:12,604 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x300000003
2020-03-18 17:37:12,605 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59100
2020-03-18 17:37:12,606 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,606 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,606 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,606 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,606 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,607 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,607 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,607 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,607 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,607 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,607 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,608 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2/snapshot.0
2020-03-18 17:37:12,608 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:12,609 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 1 ms
2020-03-18 17:37:12,609 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 5 ms, highest zxid is 0x300000003, digest is 8013289962
2020-03-18 17:37:12,610 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:12,610 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:12,611 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22018
2020-03-18 17:37:12,611 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:37:12,611 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:12,611 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x300000003
2020-03-18 17:37:12,612 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2/snapshot.0
2020-03-18 17:37:12,612 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:12,612 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59108
2020-03-18 17:37:12,613 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59109
2020-03-18 17:37:12,613 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,613 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,613 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,614 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,614 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,614 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,614 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,614 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,614 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,615 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,615 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,615 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,615 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,615 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,615 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,615 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,615 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,616 [myid:] - INFO  [main:FileTxnSnapLog@363] - 6 txns loaded in 1 ms
2020-03-18 17:37:12,616 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 5 ms, highest zxid is 0x300000003, digest is 8013289962
2020-03-18 17:37:12,641 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:12,642 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:12,642 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:12,651 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:12,651 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x300000003
2020-03-18 17:37:12,652 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:37:12,652 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59121
2020-03-18 17:37:12,653 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59123
2020-03-18 17:37:12,653 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,654 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,654 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,654 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,655 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59124
2020-03-18 17:37:12,655 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,655 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,655 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,655 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,655 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,656 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,656 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,656 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,656 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,656 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,657 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,657 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,657 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,657 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,657 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,680 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.100000003
2020-03-18 17:37:12,681 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:12,683 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:37:12,683 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 31 ms, highest zxid is 0x300000003, digest is 8013289962
2020-03-18 17:37:12,684 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:12,684 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:12,685 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22020
2020-03-18 17:37:12,685 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:37:12,685 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025
2020-03-18 17:37:12,685 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:12,686 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:12,686 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x300000003
2020-03-18 17:37:12,686 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59144
2020-03-18 17:37:12,687 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,687 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59146
2020-03-18 17:37:12,687 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,687 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59145
2020-03-18 17:37:12,687 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,687 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,688 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,688 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,688 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59147
2020-03-18 17:37:12,688 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,688 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,688 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,688 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,689 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,689 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,689 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,689 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,689 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,689 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,690 [myid:] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 3)
2020-03-18 17:37:12,690 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59157
2020-03-18 17:37:12,690 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,690 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59159
2020-03-18 17:37:12,690 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,690 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,690 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,690 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,690 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,691 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,690 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,691 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,691 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:12,691 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:12,691 [myid:] - INFO  [WorkerSender[myid=4]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 4)
2020-03-18 17:37:12,691 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,691 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,691 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,691 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,691 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,693 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,693 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,693 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59165
2020-03-18 17:37:12,693 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,693 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59162
2020-03-18 17:37:12,693 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,693 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,693 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:12,694 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:12,694 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,693 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:12,694 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:12,694 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:12,694 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59166
2020-03-18 17:37:12,694 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,694 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,695 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,695 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x3, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:12,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:12,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:12,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:12,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:12,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 293 MS
2020-03-18 17:37:12,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:12,891 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:12,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:12,893 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 290 MS
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:12,894 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:12,895 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,895 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 244 MS
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:12,896 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 211 MS
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x300000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:12,897 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:12,898 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 287 MS
2020-03-18 17:37:12,898 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:12,899 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59238:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:22014:22019:participant;127.0.0.1:22024
2020-03-18 17:37:12,899 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:12,900 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59240:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22013:22018:participant;127.0.0.1:22023
2020-03-18 17:37:12,901 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,902 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:12,902 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:12,902 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59240:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:12,902 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59238:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:12,902 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59240:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:37:12,902 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59238:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x300000003 peerLastZxid=0x300000003
2020-03-18 17:37:12,902 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59240:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 3
2020-03-18 17:37:12,903 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59238:LearnerHandler@845] - Sending DIFF zxid=0x300000003 for peer sid: 4
2020-03-18 17:37:12,904 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:37:12,904 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:12,904 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:12,905 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:37:12,905 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:12,905 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:12,906 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,906 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:12,907 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[3, 4, 5],[3, 4, 5]]; starting up and setting last processed zxid: 0x400000000
2020-03-18 17:37:12,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:12,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:12,908 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:12,909 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:12,910 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:12,910 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:12,947 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:12,947 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:12,947 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:12,948 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:12,949 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:12,949 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59241
2020-03-18 17:37:12,949 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:12,949 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:12,950 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:12,950 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:12,950 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:12,950 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:12,992 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:12,992 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59242:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22011:22016:participant;127.0.0.1:22021
2020-03-18 17:37:12,994 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:12,994 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59242:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:12,994 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59242:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x400000000 peerLastZxid=0x300000003
2020-03-18 17:37:12,994 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59242:LearnerHandler@864] - Using committedLog for peer sid: 1
2020-03-18 17:37:12,994 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59242:LearnerHandler@972] - Sending DIFF zxid=0x300000003  for peer sid: 1
2020-03-18 17:37:12,995 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:37:12,995 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:12,995 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:12,995 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:12,997 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:12,997 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:12,997 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:12,997 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:12,997 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:13,001 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:13,001 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59243:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22012:22017:participant;127.0.0.1:22022
2020-03-18 17:37:13,002 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:13,002 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59243:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:13,002 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59243:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x300000003 minCommittedLog=0x300000001 lastProcessedZxid=0x400000000 peerLastZxid=0x300000003
2020-03-18 17:37:13,002 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59243:LearnerHandler@864] - Using committedLog for peer sid: 2
2020-03-18 17:37:13,002 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59243:LearnerHandler@972] - Sending DIFF zxid=0x300000003  for peer sid: 2
2020-03-18 17:37:13,003 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@509] - Getting a diff from the leader 0x300000003
2020-03-18 17:37:13,004 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:13,004 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:13,004 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,005 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:13,005 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:13,005 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:13,005 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:13,006 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:13,202 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:13,206 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59257
2020-03-18 17:37:13,206 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:13,206 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22021 is accepting client connections
2020-03-18 17:37:13,207 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:13,216 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59258
2020-03-18 17:37:13,216 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:13,217 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22022 is accepting client connections
2020-03-18 17:37:13,217 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:13,218 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59259
2020-03-18 17:37:13,218 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:13,219 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22023 is accepting client connections
2020-03-18 17:37:13,219 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-03-18 17:37:13,220 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59260
2020-03-18 17:37:13,220 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:13,220 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22024 is accepting client connections
2020-03-18 17:37:13,220 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22025
2020-03-18 17:37:13,221 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59261
2020-03-18 17:37:13,222 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:13,222 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22025 is accepting client connections
2020-03-18 17:37:13,222 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59238",name5="id:4"
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59240",name5="id:3"
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:13,224 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59242",name5="id:1"
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59243",name5="id:2"
2020-03-18 17:37:13,225 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:13,226 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:13,227 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:13,227 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:13,227 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:13,227 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:13,227 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:13,227 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:13,227 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:13,228 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,228 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:13,228 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:13,228 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:13,228 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:13,228 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:13,228 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:13,230 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:37:13,230 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,230 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:37:13,230 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:13,230 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:13,231 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:13,232 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:13,233 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:13,234 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:13,235 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:13,235 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:13,235 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:13,235 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:13,235 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:13,235 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:13,236 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:13,237 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:13,238 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59238",name5="id:4"
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:13,239 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:37:13,240 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:13,240 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:37:13,240 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:13,240 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:13,241 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59262
2020-03-18 17:37:13,241 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:37:13,242 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:13,242 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:13,287 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:13,287 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:13,287 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:13,287 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59242:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:13,287 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 295ms. Sync state: true
2020-03-18 17:37:13,287 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:13,287 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59242:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59242 ********
2020-03-18 17:37:13,287 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:13,288 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:13,288 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:13,288 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:13,288 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:13,288 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:13,289 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:13,289 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:13,290 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:13,290 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:13,290 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:13,290 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:13,290 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:13,290 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:13,290 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:13,290 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:13,291 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,291 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,291 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,291 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,292 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:13,292 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,292 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:13,291 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,292 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,291 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:13,291 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,292 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,292 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,291 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,292 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,291 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,293 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:13,291 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,293 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,292 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,293 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:13,292 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled) to exit thread
2020-03-18 17:37:13,293 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,293 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:13,293 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:13,294 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:13,294 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59243:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:13,294 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59243:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59243 ********
2020-03-18 17:37:13,294 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:13,294 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:13,294 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:13,294 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 293ms. Sync state: true
2020-03-18 17:37:13,294 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:13,294 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:13,295 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:13,295 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:13,295 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:13,295 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:13,295 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:13,295 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:13,295 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:13,296 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:13,296 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:13,297 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:13,297 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:13,297 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:13,297 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:13,297 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:13,297 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:13,297 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,297 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,297 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,298 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:13,298 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,298 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:13,298 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,298 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,298 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,298 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,299 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:13,298 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,299 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:13,299 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:13,299 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,299 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:13,298 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled) to exit thread
2020-03-18 17:37:13,299 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:13,299 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:13,299 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59240:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:13,299 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:13,300 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 401ms. Sync state: true
2020-03-18 17:37:13,300 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:13,299 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:13,300 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:13,300 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59240:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59240 ********
2020-03-18 17:37:13,300 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:13,300 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:13,300 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:13,301 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:13,301 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:13,301 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:13,301 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:13,301 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:13,302 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:13,302 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:13,302 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:13,302 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:13,302 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:13,303 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:13,303 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22023:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:13,303 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:13,303 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:13,303 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,303 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,303 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,303 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,303 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,318 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,318 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,303 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,318 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:13,303 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:13,303 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:37:13,303 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,319 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,303 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,319 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,319 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:13,318 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled) to exit thread
2020-03-18 17:37:13,319 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:37:13,319 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:13,319 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:13,319 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:13,320 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:13,320 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:13,320 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59238:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:13,320 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 422ms. Sync state: true
2020-03-18 17:37:13,320 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:13,320 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:13,320 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59238:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59238 ********
2020-03-18 17:37:13,367 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:13,368 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:13,398 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:13,398 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:13,398 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:13,427 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:13,427 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:13,428 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:13,429 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:13,429 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:13,429 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:13,429 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:13,429 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:13,429 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:13,430 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22024:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:13,432 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:13,432 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,432 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,432 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,433 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:13,433 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,433 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,433 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,433 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:13,433 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:13,434 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled) to exit thread
2020-03-18 17:37:13,434 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:13,434 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:13,434 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:13,436 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:13,436 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22015:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,445 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:13,446 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:13,446 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:13,446 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:13,446 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:13,446 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:13,446 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:13,446 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:13,446 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:13,446 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:13,447 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:13,447 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:13,447 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:13,447 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:13,448 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:13,448 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22025:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:13,448 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:13,448 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:13,448 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:13,448 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:13,448 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:13,448 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:13,449 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:13,449 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:13,449 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled) to exit thread
2020-03-18 17:37:13,454 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22021
2020-03-18 17:37:13,454 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:13,454 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:13,455 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:13,455 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-03-18 17:37:13,455 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:13,456 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,456 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,456 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:13,456 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:13,456 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,456 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22022
2020-03-18 17:37:13,457 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:13,457 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:13,457 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:13,457 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22022
2020-03-18 17:37:13,457 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:13,458 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,458 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,458 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:13,458 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:13,458 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,458 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22023
2020-03-18 17:37:13,458 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:13,458 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:13,458 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:13,459 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22023
2020-03-18 17:37:13,459 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:13,459 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,460 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,460 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:13,460 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:13,460 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,460 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22024
2020-03-18 17:37:13,460 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:13,460 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:13,461 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:13,461 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-03-18 17:37:13,461 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:13,462 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,462 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,462 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:13,462 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:13,464 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,464 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22025
2020-03-18 17:37:13,464 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:13,464 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:13,464 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:13,465 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22025
2020-03-18 17:37:13,465 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:13,465 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,465 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,465 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:13,465 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:13,466 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:13,466 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:13,467 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:13,467 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:13,467 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:13,467 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:13,467 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:13,467 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:13,467 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:37:13,468 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2/snapshot.0
2020-03-18 17:37:13,468 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:13,468 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:13,469 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:13,469 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:13,470 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22016
2020-03-18 17:37:13,470 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:37:13,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:13,470 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:37:13,470 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2/snapshot.0
2020-03-18 17:37:13,471 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22017
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,471 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:13,471 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,471 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,471 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:13,471 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,471 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,472 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:13,472 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:13,472 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:37:13,473 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22017
2020-03-18 17:37:13,473 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:13,473 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:37:13,473 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2/snapshot.0
2020-03-18 17:37:13,473 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:13,473 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59276
2020-03-18 17:37:13,474 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,474 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,474 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,474 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,475 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,475 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,475 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,475 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,475 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,475 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,475 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,475 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:13,631 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:13,631 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:13,632 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22018
2020-03-18 17:37:13,639 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:13,639 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x0
2020-03-18 17:37:13,639 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:37:13,640 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59284
2020-03-18 17:37:13,641 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,641 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59285
2020-03-18 17:37:13,641 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,641 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,642 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,643 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,643 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,643 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,643 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,643 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,643 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,643 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,644 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,644 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,644 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,644 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,644 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,644 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,644 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2/snapshot.0
2020-03-18 17:37:13,646 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:13,646 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 7 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:13,647 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:13,648 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:13,648 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:13,649 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:13,649 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x0
2020-03-18 17:37:13,649 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:37:13,650 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59296
2020-03-18 17:37:13,651 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,651 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59297
2020-03-18 17:37:13,651 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,652 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,652 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,652 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,652 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59298
2020-03-18 17:37:13,653 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,653 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,653 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,654 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,655 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,655 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,655 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,655 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,656 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,657 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,657 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,657 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:13,658 [myid:] - INFO  [main:DataTree@1730] - The digest in the snapshot has digest version of 2, , with zxid as 0x300000003, and digest value as 8013289962
2020-03-18 17:37:13,658 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 9 ms, highest zxid is 0x300000003, digest is 8013289962
2020-03-18 17:37:13,659 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:13,660 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:13,660 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22020
2020-03-18 17:37:13,661 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:37:13,661 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025
2020-03-18 17:37:13,661 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:13,662 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:13,662 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x300000003
2020-03-18 17:37:13,662 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59313
2020-03-18 17:37:13,663 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59312
2020-03-18 17:37:13,663 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,663 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59314
2020-03-18 17:37:13,663 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,664 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,664 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59315
2020-03-18 17:37:13,664 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,664 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,664 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,665 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,665 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,665 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,665 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59318
2020-03-18 17:37:13,666 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,666 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,666 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,668 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,668 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,668 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,669 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59324
2020-03-18 17:37:13,669 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,669 [myid:] - INFO  [WorkerSender[myid=3]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (5, 3)
2020-03-18 17:37:13,669 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,669 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,669 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,669 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,669 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,670 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:13,669 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:13,670 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:13,669 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59327
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,670 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,671 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,671 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:13,671 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:13,671 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,671 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x4, n.zxid:0x300000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:13,747 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:13,870 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:13,871 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 400 MS
2020-03-18 17:37:13,872 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 224 MS
2020-03-18 17:37:13,873 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:13,873 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:13,874 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,874 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:13,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 237 MS
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:13,877 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:13,876 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 408 MS
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 217 MS
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:13,878 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:13,879 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x300000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:13,879 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:13,880 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:37:13,880 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:13,881 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59339:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22013:22018:participant;127.0.0.1:22023
2020-03-18 17:37:13,881 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59341:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22011:22016:participant;127.0.0.1:22021
2020-03-18 17:37:13,882 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,883 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:13,883 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:13,883 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59339:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:13,883 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59339:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000003 peerLastZxid=0x0
2020-03-18 17:37:13,883 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59341:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:13,884 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59341:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x300000003 peerLastZxid=0x0
2020-03-18 17:37:13,885 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:13,885 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59339:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x500000000, send zxid of db as 0x300000003, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:37:13,885 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:37:13,885 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x300000003
2020-03-18 17:37:13,886 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,886 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,887 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:13,887 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59341:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x500000000, send zxid of db as 0x300000003, 2 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:37:13,887 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,887 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x300000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:13,887 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:37:13,887 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x300000003
2020-03-18 17:37:13,887 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,887 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:13,889 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x300000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:13,889 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 3 ms
2020-03-18 17:37:13,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:37:13,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 3, 5],[1, 3, 5]]; starting up and setting last processed zxid: 0x500000000
2020-03-18 17:37:13,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:13,892 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:13,893 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:13,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:13,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:13,894 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:13,894 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:13,922 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:13,925 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59342
2020-03-18 17:37:13,926 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:37:13,926 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22021 is accepting client connections
2020-03-18 17:37:13,926 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:13,927 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59343
2020-03-18 17:37:13,975 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:13,975 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59344:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22012:22017:participant;127.0.0.1:22022
2020-03-18 17:37:13,976 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59344:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:13,976 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:13,976 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59344:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x500000000 peerLastZxid=0x0
2020-03-18 17:37:13,977 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:13,977 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59344:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x500000000, send zxid of db as 0x500000000, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:37:13,977 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:37:13,977 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59345:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:22014:22019:participant;127.0.0.1:22024
2020-03-18 17:37:13,977 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x500000000
2020-03-18 17:37:13,978 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,978 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,978 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:13,979 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,979 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x500000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2/snapshot.500000000
2020-03-18 17:37:13,979 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:13,979 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59345:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:13,979 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59345:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x500000000 peerLastZxid=0x0
2020-03-18 17:37:13,980 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59345:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x500000000, send zxid of db as 0x500000000, 2 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-03-18 17:37:13,980 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:37:13,980 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - snap
2020-03-18 17:37:13,980 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x500000000
2020-03-18 17:37:13,980 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,980 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:13,981 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:13,982 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:13,982 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x500000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2/snapshot.500000000
2020-03-18 17:37:13,982 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:13,982 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:13,982 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:13,982 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:13,983 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:37:13,983 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:13,984 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:13,984 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:13,984 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:13,984 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:13,986 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:14,177 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:14,179 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59346
2020-03-18 17:37:14,179 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:37:14,179 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22022 is accepting client connections
2020-03-18 17:37:14,179 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:14,180 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59347
2020-03-18 17:37:14,180 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:14,181 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22023 is accepting client connections
2020-03-18 17:37:14,181 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-03-18 17:37:14,182 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59348
2020-03-18 17:37:14,182 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:14,182 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22024 is accepting client connections
2020-03-18 17:37:14,182 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22025
2020-03-18 17:37:14,183 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59349
2020-03-18 17:37:14,183 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:14,184 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22025 is accepting client connections
2020-03-18 17:37:14,184 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:37:14,185 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:14,185 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:14,186 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59344",name5="id:2"
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:37:14,187 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59341",name5="id:1"
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:14,188 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59339",name5="id:3"
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59345",name5="id:4"
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:14,189 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:14,191 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:37:14,191 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,191 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:37:14,191 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:14,191 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:37:14,191 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,191 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:14,192 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:14,193 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:14,194 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:14,195 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:14,196 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:37:14,197 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:14,198 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:37:14,198 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:14,198 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:37:14,198 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:14,198 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:37:14,198 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:14,198 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:14,199 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59350
2020-03-18 17:37:14,199 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:14,200 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025 sessionTimeout=10000 watcher=org.apache.zookeeper.DummyWatcher@782663d3
2020-03-18 17:37:14,200 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:14,201 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:14,203 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22025.
2020-03-18 17:37:14,203 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:14,204 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:59351, server: localhost/127.0.0.1:22025
2020-03-18 17:37:14,208 [myid:] - INFO  [SyncThread:5:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:37:14,208 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:37:14,208 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:37:14,208 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:37:14,209 [myid:] - INFO  [SyncThread:4:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:37:14,209 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:37:14,209 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1
2020-03-18 17:37:14,209 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:37:14,209 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.500000001
2020-03-18 17:37:14,210 [myid:] - INFO  [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x500015b6fef0000
2020-03-18 17:37:14,210 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x500015b6fef0000
2020-03-18 17:37:14,210 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x500015b6fef0000
2020-03-18 17:37:14,210 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x500015b6fef0000
2020-03-18 17:37:14,211 [myid:] - INFO  [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x500015b6fef0000
2020-03-18 17:37:14,212 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22025, session id = 0x500015b6fef0000, negotiated timeout = 10000
2020-03-18 17:37:14,219 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x500015b6fef0000
2020-03-18 17:37:14,220 [myid:127.0.0.1:22025] - WARN  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x500015b6fef0000.
EndOfStreamException: Unable to read additional data from server sessionid 0x500015b6fef0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:14,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:14,247 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:14,321 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x500015b6fef0000
2020-03-18 17:37:14,321 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x500015b6fef0000 closed
2020-03-18 17:37:14,321 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:14,322 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:14,322 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:14,322 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59341:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:14,322 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:14,322 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59341:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59341 ********
2020-03-18 17:37:14,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 443ms. Sync state: true
2020-03-18 17:37:14,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:14,322 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:14,323 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:14,323 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:14,323 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:14,323 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:14,323 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:14,323 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:14,329 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:14,329 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:14,331 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:14,331 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:14,331 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:14,332 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:14,332 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:14,332 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:14,332 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:14,332 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:14,332 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:14,333 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,333 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,333 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,333 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:14,333 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,333 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,333 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,333 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,334 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,334 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,334 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,335 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:14,334 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,335 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,335 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,334 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,335 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,335 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,334 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,336 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,335 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:14,335 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:14,336 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,336 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:14,336 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:14,336 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled) to exit thread
2020-03-18 17:37:14,337 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:14,337 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:14,337 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59344:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:14,337 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:14,337 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 362ms. Sync state: true
2020-03-18 17:37:14,337 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:14,337 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:14,338 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:14,337 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59344:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59344 ********
2020-03-18 17:37:14,338 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:14,338 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:14,338 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:14,338 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:14,339 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:14,339 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:14,340 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:14,340 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:14,340 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:14,341 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:14,341 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:14,341 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:14,341 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:14,341 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:14,343 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:14,343 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:14,343 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:14,343 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,343 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,343 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,343 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,344 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:14,343 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:14,343 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,344 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,344 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,344 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:14,344 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,344 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,344 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,345 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,344 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,344 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,345 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,344 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,345 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,345 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,345 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:14,345 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:14,344 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,346 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:14,346 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:14,347 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled) to exit thread
2020-03-18 17:37:14,347 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:14,347 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:14,347 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59339:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:14,347 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59339:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59339 ********
2020-03-18 17:37:14,348 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:14,348 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:14,348 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:14,348 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 468ms. Sync state: true
2020-03-18 17:37:14,348 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:14,348 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:14,349 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:14,349 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:14,349 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:14,349 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:14,349 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:14,350 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:14,350 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:14,352 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:14,352 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:14,352 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:14,352 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:14,352 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:14,352 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:14,353 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:14,353 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22023:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:14,353 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:14,353 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,353 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,353 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,354 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:37:14,354 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,354 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,354 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,354 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:37:14,354 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,354 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,354 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,354 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,354 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,354 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,355 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:14,355 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:14,356 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:14,357 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled) to exit thread
2020-03-18 17:37:14,357 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:14,357 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:14,357 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:14,357 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:14,357 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59345:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:14,358 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59345:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59345 ********
2020-03-18 17:37:14,357 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 380ms. Sync state: true
2020-03-18 17:37:14,358 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:14,357 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:14,358 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:14,358 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:14,358 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:14,358 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:14,359 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:14,359 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:14,360 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:14,360 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:14,361 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:14,362 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:14,363 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:14,363 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:14,363 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:14,363 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:14,363 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:14,363 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22024:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:14,363 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:14,363 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,363 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,363 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,363 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:14,364 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:14,364 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:14,364 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:14,365 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:14,365 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:14,366 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled) to exit thread
2020-03-18 17:37:14,366 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:14,366 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:14,366 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:14,366 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22015:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,367 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:14,367 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:14,367 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:14,367 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:14,367 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:14,367 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:14,368 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:14,368 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:14,368 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:14,377 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:14,377 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:14,377 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:14,378 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:14,378 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:14,378 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:14,379 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:14,380 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22025:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:14,380 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:14,380 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:14,380 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:14,380 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:14,380 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:14,380 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:14,380 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:14,381 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:14,381 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled) to exit thread
2020-03-18 17:37:14,381 [myid:] - INFO  [main:QuorumBase@158] - creating QuorumPeer 1 port 22021
2020-03-18 17:37:14,381 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:14,381 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:14,381 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:14,382 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22021
2020-03-18 17:37:14,382 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:14,382 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,382 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,383 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:14,383 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:14,383 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,383 [myid:] - INFO  [main:QuorumBase@161] - creating QuorumPeer 2 port 22022
2020-03-18 17:37:14,383 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:14,383 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:14,383 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:14,383 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22022
2020-03-18 17:37:14,384 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:14,384 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,384 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,384 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:14,384 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:14,384 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,385 [myid:] - INFO  [main:QuorumBase@164] - creating QuorumPeer 3 port 22023
2020-03-18 17:37:14,385 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:14,385 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:14,385 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:14,385 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22023
2020-03-18 17:37:14,385 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:14,386 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,386 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,387 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:14,387 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:14,387 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,387 [myid:] - INFO  [main:QuorumBase@167] - creating QuorumPeer 4 port 22024
2020-03-18 17:37:14,387 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:14,387 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:14,387 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:14,388 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22024
2020-03-18 17:37:14,388 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:14,388 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,388 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,389 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:14,389 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:14,389 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,389 [myid:] - INFO  [main:QuorumBase@170] - creating QuorumPeer 5 port 22025
2020-03-18 17:37:14,389 [myid:] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:14,389 [myid:] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:14,389 [myid:] - INFO  [main:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:14,389 [myid:] - INFO  [main:NIOServerCnxnFactory@674] - binding to port /127.0.0.1:22025
2020-03-18 17:37:14,390 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:14,390 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,390 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:14,390 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:14,390 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:14,390 [myid:] - WARN  [main:QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumBase@179] - QuorumPeer 1 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumBase@180] - QuorumPeer 2 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumBase@181] - QuorumPeer 3 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumBase@182] - QuorumPeer 4 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumBase@183] - QuorumPeer 5 voting view: {1=127.0.0.1:22011:22016:participant;127.0.0.1:22021, 2=127.0.0.1:22012:22017:participant;127.0.0.1:22022, 3=127.0.0.1:22013:22018:participant;127.0.0.1:22023, 4=127.0.0.1:22014:22019:participant;127.0.0.1:22024, 5=127.0.0.1:22015:22020:participant;127.0.0.1:22025}
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:14,391 [myid:] - INFO  [main:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:14,392 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:14,392 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:14,392 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:14,392 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:14,392 [myid:] - INFO  [main:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:14,392 [myid:] - INFO  [main:QuorumBase@196] - start QuorumPeer 1
2020-03-18 17:37:14,393 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:14,393 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:14,394 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:14,394 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x500000003, digest is 13236027597
2020-03-18 17:37:14,395 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:14,395 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:14,406 [myid:] - INFO  [main:QuorumBase@198] - start QuorumPeer 2
2020-03-18 17:37:14,406 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22016
2020-03-18 17:37:14,406 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:14,406 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x500000003
2020-03-18 17:37:14,406 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2/snapshot.500000000
2020-03-18 17:37:14,407 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22017
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,407 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:14,407 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,407 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,407 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,408 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:14,408 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,408 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x500000003, digest is 13236027597
2020-03-18 17:37:14,409 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:14,409 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:14,409 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22017
2020-03-18 17:37:14,409 [myid:] - INFO  [main:QuorumBase@200] - start QuorumPeer 3
2020-03-18 17:37:14,410 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:14,410 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x500000003
2020-03-18 17:37:14,410 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:14,410 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59357
2020-03-18 17:37:14,411 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,411 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:14,411 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,411 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,412 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,412 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,412 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,412 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,412 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 3 at election address /127.0.0.1:22018
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,412 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,412 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,413 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:14,413 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,413 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x500000003, digest is 13236027597
2020-03-18 17:37:14,414 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:14,414 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:14,414 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22018
2020-03-18 17:37:14,414 [myid:] - INFO  [main:QuorumBase@202] - start QuorumPeer 4
2020-03-18 17:37:14,415 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:14,415 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x500000003
2020-03-18 17:37:14,415 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2/snapshot.500000000
2020-03-18 17:37:14,415 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59365
2020-03-18 17:37:14,416 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,416 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59366
2020-03-18 17:37:14,416 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,416 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,416 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,417 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,417 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,417 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,417 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,417 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,417 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,417 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,417 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 4 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,417 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,418 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,418 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,418 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,418 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:14,419 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:14,419 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x500000003, digest is 13236027597
2020-03-18 17:37:14,420 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:14,420 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:14,420 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:14,421 [myid:] - INFO  [main:QuorumBase@204] - start QuorumPeer 5
2020-03-18 17:37:14,421 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:14,421 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):FastLeaderElection@931] - New election. My id = 4, proposed zxid=0x500000003
2020-03-18 17:37:14,422 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59377
2020-03-18 17:37:14,422 [myid:] - INFO  [main:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.300000003
2020-03-18 17:37:14,422 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,422 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59378
2020-03-18 17:37:14,423 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,423 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,423 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,424 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,424 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59379
2020-03-18 17:37:14,424 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,424 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,424 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,424 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,425 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,425 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,425 [myid:] - WARN  [WorkerSender[myid=4]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,425 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,425 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,425 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 5 at election address /127.0.0.1:22020
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,426 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,426 [myid:] - INFO  [main:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:14,427 [myid:] - INFO  [main:FileTxnSnapLog@363] - 3 txns loaded in 1 ms
2020-03-18 17:37:14,427 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 7 ms, highest zxid is 0x500000003, digest is 13236027597
2020-03-18 17:37:14,428 [myid:] - INFO  [main:QuorumPeer@2503] - Using 6000ms as the quorum cnxn socket timeout
2020-03-18 17:37:14,428 [myid:] - INFO  [main:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:14,429 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22020
2020-03-18 17:37:14,429 [myid:] - INFO  [main:QuorumBase@206] - started QuorumPeer 5
2020-03-18 17:37:14,429 [myid:] - INFO  [main:QuorumBase@208] - Checking ports 127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025
2020-03-18 17:37:14,429 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:14,429 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FastLeaderElection@931] - New election. My id = 5, proposed zxid=0x500000003
2020-03-18 17:37:14,429 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:14,430 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22016:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59393
2020-03-18 17:37:14,430 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22017:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59395
2020-03-18 17:37:14,431 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,431 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,431 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59396
2020-03-18 17:37:14,431 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,431 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,431 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59394
2020-03-18 17:37:14,431 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,431 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,431 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,432 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,432 [myid:] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:59398
2020-03-18 17:37:14,432 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,432 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,432 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,432 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,433 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,433 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,433 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,433 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,433 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:4, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,434 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,435 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:5, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,435 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:4, n.state:LOOKING, n.leader:5, n.round:0x1, n.peerEpoch:0x5, n.zxid:0x500000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:14,581 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:14,581 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:14,583 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:14,583 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:14,583 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:14,583 [myid:] - INFO  [WorkerSender[myid=5]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:14,583 [myid:] - INFO  [WorkerSender[myid=4]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:14,585 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:14,585 [myid:] - INFO  [WorkerReceiver[myid=5]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:14,585 [myid:] - INFO  [WorkerReceiver[myid=4]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4212872691905091865.junit.dir/version-2
2020-03-18 17:37:14,634 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 228 MS
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:14,635 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:14,636 [myid:] - WARN  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=6000, connecting to /127.0.0.1:22015
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2792980582080421773.junit.dir/version-2
2020-03-18 17:37:14,636 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 222 MS
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 207 MS
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x500000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test564339206104352560.junit.dir/version-2/snapshot.500000003
2020-03-18 17:37:14,637 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2396567958620086303.junit.dir/version-2
2020-03-18 17:37:14,638 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 228 MS
2020-03-18 17:37:14,638 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:14,638 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 4000
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 40000
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:14,639 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:14,639 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:14,640 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:14,640 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:14,640 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6127137344157165261.junit.dir/version-2
2020-03-18 17:37:14,640 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 218 MS
2020-03-18 17:37:14,640 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59417:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22013:22018:participant;127.0.0.1:22023
2020-03-18 17:37:14,640 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:14,640 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59419:LearnerHandler@504] - Follower sid: 2 : info : 127.0.0.1:22012:22017:participant;127.0.0.1:22022
2020-03-18 17:37:14,641 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:14,641 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59421:LearnerHandler@504] - Follower sid: 4 : info : 127.0.0.1:22014:22019:participant;127.0.0.1:22024
2020-03-18 17:37:14,641 [myid:] - WARN  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,642 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:14,642 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:14,642 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59419:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:14,642 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59421:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:14,642 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59417:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:14,642 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59417:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x500000003 minCommittedLog=0x500000001 lastProcessedZxid=0x500000003 peerLastZxid=0x500000003
2020-03-18 17:37:14,642 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59421:LearnerHandler@800] - Synchronizing with Learner sid: 4 maxCommittedLog=0x500000003 minCommittedLog=0x500000001 lastProcessedZxid=0x500000003 peerLastZxid=0x500000003
2020-03-18 17:37:14,642 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59419:LearnerHandler@800] - Synchronizing with Learner sid: 2 maxCommittedLog=0x500000003 minCommittedLog=0x500000001 lastProcessedZxid=0x500000003 peerLastZxid=0x500000003
2020-03-18 17:37:14,642 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:14,643 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59421:LearnerHandler@845] - Sending DIFF zxid=0x500000003 for peer sid: 4
2020-03-18 17:37:14,643 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59419:LearnerHandler@845] - Sending DIFF zxid=0x500000003 for peer sid: 2
2020-03-18 17:37:14,643 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59417:LearnerHandler@845] - Sending DIFF zxid=0x500000003 for peer sid: 3
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@509] - Getting a diff from the leader 0x500000003
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@509] - Getting a diff from the leader 0x500000003
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@509] - Getting a diff from the leader 0x500000003
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:14,644 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:14,644 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,644 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,644 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,646 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[2, 4, 5],[2, 4, 5]]; starting up and setting last processed zxid: 0x600000000
2020-03-18 17:37:14,646 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:14,646 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:14,646 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:14,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:14,648 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:14,648 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:14,686 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:14,687 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59422
2020-03-18 17:37:14,737 [myid:] - INFO  [LeaderConnector-/127.0.0.1:22015:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22015
2020-03-18 17:37:14,742 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59423:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22011:22016:participant;127.0.0.1:22021
2020-03-18 17:37:14,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:14,744 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59423:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:14,744 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59423:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x500000003 minCommittedLog=0x500000001 lastProcessedZxid=0x600000000 peerLastZxid=0x500000003
2020-03-18 17:37:14,744 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59423:LearnerHandler@864] - Using committedLog for peer sid: 1
2020-03-18 17:37:14,744 [myid:] - INFO  [LearnerHandler-/127.0.0.1:59423:LearnerHandler@972] - Sending DIFF zxid=0x500000003  for peer sid: 1
2020-03-18 17:37:14,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@509] - Getting a diff from the leader 0x500000003
2020-03-18 17:37:14,744 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:14,745 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:14,745 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1784] - configFilename is null! This should only happen in tests.
2020-03-18 17:37:14,746 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:14,746 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:14,746 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:14,746 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:14,747 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:14,941 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:14,942 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59424
2020-03-18 17:37:14,942 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:14,942 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22021 is accepting client connections
2020-03-18 17:37:14,942 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:14,943 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59425
2020-03-18 17:37:14,943 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:14,944 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22022 is accepting client connections
2020-03-18 17:37:14,944 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:14,945 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59426
2020-03-18 17:37:14,945 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:14,945 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22023 is accepting client connections
2020-03-18 17:37:14,946 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22024
2020-03-18 17:37:14,947 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59427
2020-03-18 17:37:14,947 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:14,947 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22024 is accepting client connections
2020-03-18 17:37:14,947 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22025
2020-03-18 17:37:14,948 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59428
2020-03-18 17:37:14,948 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:14,948 [myid:] - INFO  [main:QuorumBase@211] - 127.0.0.1:22025 is accepting client connections
2020-03-18 17:37:14,948 [myid:] - INFO  [main:JMXEnv@191] - JMXEnv.dump() follows
2020-03-18 17:37:14,950 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:14,950 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59423",name5="id:1"
2020-03-18 17:37:14,950 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:14,950 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,950 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:14,950 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5
2020-03-18 17:37:14,950 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:14,951 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=InMemoryDataTree
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59417",name5="id:3"
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:14,952 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:14,953 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:14,953 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:14,953 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:14,953 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:14,953 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59421",name5="id:4"
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59419",name5="id:2"
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:14,954 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:14,955 [myid:] - INFO  [main:JMXEnv@199] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:14,956 [myid:] - INFO  [main:JMXEnv@116] - expect:InMemoryDataTree
2020-03-18 17:37:14,956 [myid:] - INFO  [main:JMXEnv@119] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,956 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2020-03-18 17:37:14,956 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2020-03-18 17:37:14,956 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2020-03-18 17:37:14,956 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,956 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4,name2=
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5,name2=
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:14,957 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.4
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.5
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2020-03-18 17:37:14,958 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.4
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.5
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.3
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Follower,name3=InMemoryDataTree
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:14,959 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.4
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.5
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.1
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.2
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.3
2020-03-18 17:37:14,960 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.4
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.4,name2=Follower
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id4,name1=replica.5
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.1
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.2
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.3
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:14,961 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.4 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.4
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5,name1=replica.5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5,name2=Leader,name3=Learner_Connections,name4="127.0.0.1:59423",name5="id:1"
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id1
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id2
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id3
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2020-03-18 17:37:14,962 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id4
2020-03-18 17:37:14,963 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id4 org.apache.ZooKeeperService:name0=ReplicatedServer_id4
2020-03-18 17:37:14,963 [myid:] - INFO  [main:JMXEnv@116] - expect:name0=ReplicatedServer_id5
2020-03-18 17:37:14,963 [myid:] - INFO  [main:JMXEnv@119] - found:name0=ReplicatedServer_id5 org.apache.ZooKeeperService:name0=ReplicatedServer_id5,name1=replica.5
2020-03-18 17:37:14,963 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:14,964 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:59429
2020-03-18 17:37:14,964 [myid:] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:37:14,964 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22021,127.0.0.1:22022,127.0.0.1:22023,127.0.0.1:22024,127.0.0.1:22025 sessionTimeout=10000 watcher=org.apache.zookeeper.DummyWatcher@782663d3
2020-03-18 17:37:14,964 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:14,965 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:14,967 [myid:127.0.0.1:22024] - INFO  [main-SendThread(127.0.0.1:22024):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22024.
2020-03-18 17:37:14,967 [myid:127.0.0.1:22024] - INFO  [main-SendThread(127.0.0.1:22024):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:14,967 [myid:127.0.0.1:22024] - INFO  [main-SendThread(127.0.0.1:22024):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:59430, server: localhost/127.0.0.1:22024
2020-03-18 17:37:14,970 [myid:] - INFO  [SyncThread:5:FileTxnLog@284] - Creating new log file: log.600000001
2020-03-18 17:37:14,970 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@170] - Got zxid 0x600000001 expected 0x1
2020-03-18 17:37:14,970 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@170] - Got zxid 0x600000001 expected 0x1
2020-03-18 17:37:14,971 [myid:] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.600000001
2020-03-18 17:37:14,970 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@170] - Got zxid 0x600000001 expected 0x1
2020-03-18 17:37:14,970 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@170] - Got zxid 0x600000001 expected 0x1
2020-03-18 17:37:14,971 [myid:] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.600000001
2020-03-18 17:37:14,971 [myid:] - INFO  [SyncThread:4:FileTxnLog@284] - Creating new log file: log.600000001
2020-03-18 17:37:14,971 [myid:] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.600000001
2020-03-18 17:37:14,974 [myid:] - INFO  [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x400015b72e00000
2020-03-18 17:37:14,974 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x400015b72e00000
2020-03-18 17:37:14,974 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x400015b72e00000
2020-03-18 17:37:14,974 [myid:] - INFO  [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x400015b72e00000
2020-03-18 17:37:14,974 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x400015b72e00000
2020-03-18 17:37:14,976 [myid:127.0.0.1:22024] - INFO  [main-SendThread(127.0.0.1:22024):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22024, session id = 0x400015b72e00000, negotiated timeout = 10000
2020-03-18 17:37:14,979 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x400015b72e00000
2020-03-18 17:37:14,981 [myid:127.0.0.1:22024] - WARN  [main-SendThread(127.0.0.1:22024):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x400015b72e00000.
EndOfStreamException: Unable to read additional data from server sessionid 0x400015b72e00000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:15,082 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x400015b72e00000 closed
2020-03-18 17:37:15,082 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x400015b72e00000
2020-03-18 17:37:15,082 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 10202
2020-03-18 17:37:15,083 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 218
2020-03-18 17:37:15,083 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testLateLogs
2020-03-18 17:37:15,083 [myid:] - INFO  [main:QuorumBase@335] - TearDown started
2020-03-18 17:37:15,083 [myid:] - INFO  [main:QuorumBase@339] - fdcount after test is: 168
2020-03-18 17:37:15,083 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:15,083 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:15,084 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:15,085 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:15,084 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:15,084 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59423:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:15,085 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 343ms. Sync state: true
2020-03-18 17:37:15,085 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:15,085 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:15,085 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59423:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59423 ********
2020-03-18 17:37:15,085 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:15,085 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:15,086 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:15,086 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:15,086 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:15,087 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:15,087 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:15,088 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:15,089 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:15,089 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:15,089 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:15,090 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:15,090 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:15,090 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:15,090 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:15,094 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:15,095 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:15,097 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 1
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,097 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,097 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,097 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,097 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,098 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,098 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 1
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:15,096 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,098 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:15,098 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,098 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 4
2020-03-18 17:37:15,097 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,098 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 5
2020-03-18 17:37:15,097 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled)
2020-03-18 17:37:15,099 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:22021)(secure=disabled) to exit thread
2020-03-18 17:37:15,100 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:15,100 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:15,101 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59419:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:15,101 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59419:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59419 ********
2020-03-18 17:37:15,101 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:15,102 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:15,101 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:15,102 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 462ms. Sync state: true
2020-03-18 17:37:15,102 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:15,102 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:15,102 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:15,102 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:15,103 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:15,103 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:15,103 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:15,104 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:15,104 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:15,105 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:15,106 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:15,106 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:15,106 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:15,106 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:15,106 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:15,107 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:15,106 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:15,107 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:15,108 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,108 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,108 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,108 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:15,108 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,108 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,108 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,108 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,108 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,109 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 4
2020-03-18 17:37:15,108 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,109 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,109 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,109 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,109 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,108 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,108 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,109 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,108 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:15,109 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 2
2020-03-18 17:37:15,109 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,110 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 5
2020-03-18 17:37:15,109 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,110 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 2
2020-03-18 17:37:15,110 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled)
2020-03-18 17:37:15,114 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:22022)(secure=disabled) to exit thread
2020-03-18 17:37:15,114 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:15,114 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:15,115 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59417:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:15,115 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59417:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59417 ********
2020-03-18 17:37:15,117 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:15,117 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 478ms. Sync state: true
2020-03-18 17:37:15,117 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:15,117 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:15,118 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:15,118 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:15,118 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:15,118 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:15,118 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:15,119 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:15,119 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:15,119 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:15,119 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:15,120 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:15,120 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:15,120 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:15,120 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:15,120 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:15,122 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22023:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:15,122 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:15,122 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:15,122 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:15,122 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 4
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,123 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,123 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,123 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 4
2020-03-18 17:37:15,123 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,123 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,123 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,123 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 3
2020-03-18 17:37:15,123 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,124 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,124 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,124 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 3
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,124 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 5
2020-03-18 17:37:15,124 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,124 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,124 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 3
2020-03-18 17:37:15,125 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled)
2020-03-18 17:37:15,125 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:22023)(secure=disabled) to exit thread
2020-03-18 17:37:15,125 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:15,125 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:15,125 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:15,125 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:15,125 [myid:] - ERROR [LearnerHandler-/127.0.0.1:59421:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:15,125 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22015). Was connected for 484ms. Sync state: true
2020-03-18 17:37:15,126 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:15,125 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:15,125 [myid:] - WARN  [LearnerHandler-/127.0.0.1:59421:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:59421 ********
2020-03-18 17:37:15,126 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:15,127 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:15,127 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:15,127 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:15,127 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:15,127 [myid:] - INFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:15,128 [myid:] - INFO  [CommitProcessor:4:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:15,128 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:15,129 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:15,129 [myid:] - INFO  [SyncThread:4:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:15,129 [myid:] - INFO  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:15,129 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:15,129 [myid:] - WARN  [QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:15,129 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:15,129 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:22024:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:15,129 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:15,130 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:15,130 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 4, my id = 5
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,130 [myid:] - WARN  [RecvWorker:4:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,130 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,130 [myid:] - WARN  [SendWorker:4:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 4 my id = 5
2020-03-18 17:37:15,130 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 5, my id = 4
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:15,131 [myid:] - WARN  [RecvWorker:5:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:15,130 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:15,131 [myid:] - WARN  [SendWorker:5:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 5 my id = 4
2020-03-18 17:37:15,131 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled)
2020-03-18 17:37:15,131 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=4](plain=127.0.0.1:22024)(secure=disabled) to exit thread
2020-03-18 17:37:15,131 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=5](plain=127.0.0.1:22025)(secure=disabled)
2020-03-18 17:37:15,131 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:15,131 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:15,132 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:15,132 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22015:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:15,132 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:15,133 [myid:] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:15,133 [myid:] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:15,133 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:15,133 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:15,133 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:15,133 [myid:] - INFO  [ProcessThread(sid:5 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:15,133 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:15,133 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:15,134 [myid:] - INFO  [CommitProcessor:5:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:15,134 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:15,134 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:15,134 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:15,134 [myid:] - INFO  [SyncThread:5:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:15,135 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
