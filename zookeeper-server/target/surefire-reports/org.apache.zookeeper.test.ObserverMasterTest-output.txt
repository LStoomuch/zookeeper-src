2020-03-18 17:37:40,300 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testLaggingObserverMaster[0]
2020-03-18 17:37:40,359 [myid:] - INFO  [main:PortAssignment@154] - Test process 5/8 using ports from 21993 - 24685.
2020-03-18 17:37:40,444 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21994 from range 21993 - 24685.
2020-03-18 17:37:40,450 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21995 from range 21993 - 24685.
2020-03-18 17:37:40,451 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21996 from range 21993 - 24685.
2020-03-18 17:37:40,451 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21997 from range 21993 - 24685.
2020-03-18 17:37:40,451 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21998 from range 21993 - 24685.
2020-03-18 17:37:40,452 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 21999 from range 21993 - 24685.
2020-03-18 17:37:40,452 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22000 from range 21993 - 24685.
2020-03-18 17:37:40,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22001 from range 21993 - 24685.
2020-03-18 17:37:40,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22002 from range 21993 - 24685.
2020-03-18 17:37:40,454 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22003 from range 21993 - 24685.
2020-03-18 17:37:40,454 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22004 from range 21993 - 24685.
2020-03-18 17:37:40,457 [myid:] - INFO  [Thread-0:PortForwarder@186] - accepting socket local:21994 to:22004
2020-03-18 17:37:40,535 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3620028783695563421.junit.dir clientPort = 22001 adminServerPort = 8080
2020-03-18 17:37:40,542 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6253386425017981648.junit.dir clientPort = 22002 adminServerPort = 8080
2020-03-18 17:37:40,559 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir clientPort = 22003 adminServerPort = 8080
2020-03-18 17:37:40,591 [myid:] - INFO  [Thread-2:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6253386425017981648.junit.dir/zoo.cfg
2020-03-18 17:37:40,591 [myid:] - INFO  [Thread-1:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3620028783695563421.junit.dir/zoo.cfg
2020-03-18 17:37:40,626 [myid:] - INFO  [Thread-2:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22002
2020-03-18 17:37:40,626 [myid:] - INFO  [Thread-1:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22001
2020-03-18 17:37:40,626 [myid:] - INFO  [Thread-2:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:40,626 [myid:] - INFO  [Thread-1:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:40,627 [myid:] - INFO  [Thread-2:QuorumPeerConfig@482] - observerMasterPort is 22004
2020-03-18 17:37:40,627 [myid:] - INFO  [Thread-1:QuorumPeerConfig@482] - observerMasterPort is 22004
2020-03-18 17:37:40,627 [myid:] - INFO  [Thread-2:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:40,627 [myid:] - INFO  [Thread-1:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:40,634 [myid:] - WARN  [Thread-2:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:40,634 [myid:] - WARN  [Thread-1:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:40,639 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:40,639 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:40,639 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:40,639 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:40,639 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:40,640 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:40,641 [myid:2] - INFO  [Thread-2:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:40,641 [myid:1] - INFO  [Thread-1:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:40,692 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22001
2020-03-18 17:37:40,738 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22001 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:37:40,816 [myid:2] - ERROR [Thread-2:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:40,825 [myid:1] - INFO  [Thread-1:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:40,827 [myid:2] - WARN  [Thread-2:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:40,827 [myid:2] - INFO  [Thread-2:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:40,849 [myid:1] - INFO  [Thread-1:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@2b663d1f
2020-03-18 17:37:40,849 [myid:2] - INFO  [Thread-2:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@7926d79c
2020-03-18 17:37:40,868 [myid:1] - INFO  [Thread-1:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:40,868 [myid:2] - INFO  [Thread-2:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:40,879 [myid:1] - WARN  [Thread-1:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:40,879 [myid:2] - WARN  [Thread-2:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:40,884 [myid:1] - INFO  [Thread-1:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:40,884 [myid:2] - INFO  [Thread-2:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:40,920 [myid:2] - INFO  [Thread-2:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22002
2020-03-18 17:37:40,922 [myid:1] - INFO  [Thread-1:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22001
2020-03-18 17:37:40,944 [myid:2] - INFO  [Thread-2:QuorumPeer@752] - zookeeper.quorumCnxnTimeoutMs=-1
2020-03-18 17:37:40,951 [myid:1] - INFO  [Thread-1:X509Util@77] - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2020-03-18 17:37:40,957 [myid:1] - INFO  [Thread-1:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:40,957 [myid:2] - INFO  [Thread-2:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:40,964 [myid:2] - INFO  [Thread-2:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:40,964 [myid:2] - INFO  [Thread-2:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:40,964 [myid:2] - INFO  [Thread-2:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:40,964 [myid:2] - INFO  [Thread-2:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:40,965 [myid:2] - INFO  [Thread-2:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:40,965 [myid:2] - INFO  [Thread-2:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:40,965 [myid:2] - INFO  [Thread-2:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:40,965 [myid:2] - INFO  [Thread-2:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:40,966 [myid:1] - INFO  [Thread-1:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:40,972 [myid:1] - INFO  [Thread-1:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:40,973 [myid:1] - INFO  [Thread-1:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:40,973 [myid:1] - INFO  [Thread-1:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:40,973 [myid:1] - INFO  [Thread-1:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:40,973 [myid:1] - INFO  [Thread-1:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:40,973 [myid:1] - INFO  [Thread-1:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:40,973 [myid:1] - INFO  [Thread-1:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:40,987 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] - 
2020-03-18 17:37:40,987 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -   ______                  _                                          
2020-03-18 17:37:40,987 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -  |___  /                 | |                                         
2020-03-18 17:37:40,987 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -     / /    ___     ___   | | __   ___    ___   _ __     ___   _ __   
2020-03-18 17:37:40,988 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -    / /    / _ \   / _ \  | |/ /  / _ \  / _ \ | '_ \   / _ \ | '__|
2020-03-18 17:37:40,988 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -   / /__  | (_) | | (_) | |   <  |  __/ |  __/ | |_) | |  __/ | |    
2020-03-18 17:37:40,988 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -  /_____|  \___/   \___/  |_|\_\  \___|  \___| | .__/   \___| |_|
2020-03-18 17:37:40,988 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -                                               | |                     
2020-03-18 17:37:40,988 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] -                                               |_|                     
2020-03-18 17:37:40,988 [myid:2] - INFO  [Thread-2:ZookeeperBanner@42] - 
2020-03-18 17:37:40,989 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22001
2020-03-18 17:37:41,097 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 03/18/2020 09:36 GMT
2020-03-18 17:37:41,097 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:host.name=172.18.14.34
2020-03-18 17:37:41,101 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:java.version=1.8.0_191
2020-03-18 17:37:41,101 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:java.vendor=Oracle Corporation
2020-03-18 17:37:41,102 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre
2020-03-18 17:37:41,102 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:java.class.path=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/test-classes:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/classes:/Users/liaosheng/.m2/repository/com/github/spotbugs/spotbugs-annotations/3.1.9/spotbugs-annotations-3.1.9.jar:/Users/liaosheng/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/Users/liaosheng/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/liaosheng/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-jute/target/zookeeper-jute-3.6.0.jar:/Users/liaosheng/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/liaosheng/.m2/repository/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/Users/liaosheng/.m2/repository/io/netty/netty-handler/4.1.45.Final/netty-handler-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-common/4.1.45.Final/netty-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-buffer/4.1.45.Final/netty-buffer-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport/4.1.45.Final/netty-transport-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-resolver/4.1.45.Final/netty-resolver-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-codec/4.1.45.Final/netty-codec-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-epoll/4.1.45.Final/netty-transport-native-epoll-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.45.Final/netty-transport-native-unix-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-server/9.4.24.v20191120/jetty-server-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-http/9.4.24.v20191120/jetty-http-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-util/9.4.24.v20191120/jetty-util-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-io/9.4.24.v20191120/jetty-io-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.24.v20191120/jetty-servlet-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-security/9.4.24.v20191120/jetty-security-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.10.3/jackson-databind-2.9.10.3.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.10/jackson-annotations-2.9.10.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.10/jackson-core-2.9.10.jar:/Users/liaosheng/.m2/repository/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/jline/jline/2.11/jline-2.11.jar:/Users/liaosheng/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.5/metrics-core-3.2.5.jar:/Users/liaosheng/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-core/2.0.0/kerb-core-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-pkix/2.0.0/kerby-pkix-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-asn1/2.0.0/kerby-asn1-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-util/2.0.0/kerby-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-simplekdc/2.0.0/kerb-simplekdc-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-client/2.0.0/kerb-client-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-common/2.0.0/kerb-common-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-crypto/2.0.0/kerb-crypto-2.0.0.jar:/Users/liaosheng/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-util/2.0.0/kerb-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/token-provider/2.0.0/token-provider-2.0.0.jar:/Users/liaosheng/.m2/repository/com/nimbusds/nimbus-jose-jwt/4.41.2/nimbus-jose-jwt-4.41.2.jar:/Users/liaosheng/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/Users/liaosheng/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/liaosheng/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/liaosheng/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-admin/2.0.0/kerb-admin-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-server/2.0.0/kerb-server-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-identity/2.0.0/kerb-identity-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-xdr/2.0.0/kerby-xdr-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-config/2.0.0/kerby-config-2.0.0.jar:/Users/liaosheng/.m2/repository/org/mockito/mockito-core/2.27.0/mockito-core-2.27.0.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy/1.9.10/byte-buddy-1.9.10.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy-agent/1.9.10/byte-buddy-agent-1.9.10.jar:/Users/liaosheng/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/liaosheng/.m2/repository/org/jmockit/jmockit/1.48/jmockit-1.48.jar:/Users/liaosheng/.m2/repository/junit/junit/4.12/junit-4.12.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/liaosheng/.m2/repository/org/xerial/snappy/snappy-java/1.1.7/snappy-java-1.1.7.jar:
2020-03-18 17:37:41,103 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:java.library.path=/Users/liaosheng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2020-03-18 17:37:41,103 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:java.io.tmpdir=/var/folders/c9/j1lmbpys2t38k93k9_tlj4100000gp/T/
2020-03-18 17:37:41,103 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:java.compiler=<NA>
2020-03-18 17:37:41,103 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:os.name=Mac OS X
2020-03-18 17:37:41,103 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:os.arch=x86_64
2020-03-18 17:37:41,103 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:os.version=10.14.5
2020-03-18 17:37:41,105 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:user.name=liaosheng
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:user.home=/Users/liaosheng
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:user.dir=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:os.memory.free=101MB
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:os.memory.max=455MB
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:Environment@98] - Server environment:os.memory.total=123MB
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:ZooKeeperServer@128] - zookeeper.enableEagerACLCheck = false
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:ZooKeeperServer@136] - zookeeper.digest.enabled = true
2020-03-18 17:37:41,106 [myid:2] - INFO  [Thread-2:ZooKeeperServer@140] - zookeeper.closeSessionTxn.enabled = true
2020-03-18 17:37:41,107 [myid:2] - INFO  [Thread-2:ZooKeeperServer@1433] - zookeeper.flushDelay=0
2020-03-18 17:37:41,107 [myid:2] - INFO  [Thread-2:ZooKeeperServer@1442] - zookeeper.maxWriteQueuePollTime=0
2020-03-18 17:37:41,108 [myid:2] - INFO  [Thread-2:ZooKeeperServer@1451] - zookeeper.maxBatchSize=1000
2020-03-18 17:37:41,109 [myid:2] - INFO  [Thread-2:ZooKeeperServer@241] - zookeeper.intBufferStartingSizeBytes = 1024
2020-03-18 17:37:41,121 [myid:1] - INFO  [Thread-1:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:41,121 [myid:1] - INFO  [Thread-1:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:41,121 [myid:1] - INFO  [Thread-1:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:41,122 [myid:1] - INFO  [Thread-1:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:41,130 [myid:2] - INFO  [Thread-2:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:41,131 [myid:1] - INFO  [Thread-1:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22004,/127.0.0.1:22004,
2020-03-18 17:37:41,133 [myid:2] - INFO  [Thread-2:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:41,134 [myid:2] - INFO  [Thread-2:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:41,135 [myid:2] - INFO  [Thread-2:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:41,135 [myid:2] - INFO  [Thread-2:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22004,/127.0.0.1:22004,
2020-03-18 17:37:41,170 [myid:1] - INFO  [Thread-1:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:41,170 [myid:1] - INFO  [Thread-1:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:41,173 [myid:1] - INFO  [Thread-1:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:41,173 [myid:1] - INFO  [Thread-1:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:41,173 [myid:1] - INFO  [Thread-1:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:41,174 [myid:1] - INFO  [Thread-1:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:41,174 [myid:1] - INFO  [Thread-1:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:41,201 [myid:1] - INFO  [Thread-1:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:41,247 [myid:2] - INFO  [Thread-2:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:41,248 [myid:2] - INFO  [Thread-2:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:41,248 [myid:2] - INFO  [Thread-2:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:41,248 [myid:2] - INFO  [Thread-2:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:41,248 [myid:2] - INFO  [Thread-2:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:41,248 [myid:2] - INFO  [Thread-2:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:41,253 [myid:2] - INFO  [Thread-2:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:41,265 [myid:2] - INFO  [Thread-2:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:41,269 [myid:1] - INFO  [Thread-1:SnapStream@61] - zookeeper.snapshot.compression.method = CHECKED
2020-03-18 17:37:41,270 [myid:1] - INFO  [Thread-1:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3620028783695563421.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:41,271 [myid:2] - INFO  [Thread-2:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6253386425017981648.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:41,276 [myid:1] - INFO  [Thread-1:ZKDatabase@289] - Snapshot loaded in 101 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:41,277 [myid:1] - INFO  [Thread-1:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:41,277 [myid:2] - INFO  [Thread-2:ZKDatabase@289] - Snapshot loaded in 24 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:41,279 [myid:2] - INFO  [Thread-2:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:41,280 [myid:1] - INFO  [Thread-1:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:41,280 [myid:2] - INFO  [Thread-2:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:41,304 [myid:2] - INFO  [Thread-2:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:41,310 [myid:2] - INFO  [Thread-2:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:41,314 [myid:2] - INFO  [Thread-2:FastLeaderElection@87] - zookeeper.fastleader.minNotificationInterval=200
2020-03-18 17:37:41,314 [myid:2] - INFO  [Thread-2:FastLeaderElection@89] - zookeeper.fastleader.maxNotificationInterval=60000
2020-03-18 17:37:41,316 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:21999
2020-03-18 17:37:41,322 [myid:2] - INFO  [Thread-2:ZKAuditProvider@42] - ZooKeeper audit is disabled.
2020-03-18 17:37:41,324 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:41,326 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:37:41,334 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 1 at election address /127.0.0.1:21998
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:41,336 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:41,340 [myid:1] - INFO  [Thread-1:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:41,341 [myid:1] - INFO  [Thread-1:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:41,341 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:21998:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:21998
2020-03-18 17:37:41,345 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:41,346 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:37:41,347 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:41,348 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60479
2020-03-18 17:37:41,350 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (2, 1)
2020-03-18 17:37:41,351 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:21998:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60480
2020-03-18 17:37:41,353 [myid:1] - INFO  [NIOWorkerThread-1:FourLetterCommands@223] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, -720899=telnet close, 1751217000=hash, 2003003507=wchs, 2003003504=wchp, 1684632179=dirs, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2020-03-18 17:37:41,353 [myid:1] - INFO  [NIOWorkerThread-1:FourLetterCommands@224] - The list of enabled four letter word commands is : [[wchs, stat, wchp, dirs, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, telnet close, crst, hash, cons]]
2020-03-18 17:37:41,353 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60476
2020-03-18 17:37:41,354 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:41,354 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:41,356 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:41,357 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:41,557 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:41,557 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:41,560 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:41,560 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:41,563 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Learner@117] - leaderConnectDelayDuringRetryMs: 100
2020-03-18 17:37:41,563 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Learner@118] - TCP NoDelay set to: true
2020-03-18 17:37:41,565 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):LearnerMaster@47] - zookeeper.leader.maxConcurrentSnapSyncs = 10
2020-03-18 17:37:41,565 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):LearnerMaster@50] - zookeeper.leader.maxConcurrentDiffSyncs = 100
2020-03-18 17:37:41,566 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):Leader@84] - TCP NoDelay set to: true
2020-03-18 17:37:41,566 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):BlueThrottle@141] - Weighed connection throttling is disabled
2020-03-18 17:37:41,566 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):Leader@105] - zookeeper.leader.ackLoggingFrequency = 1000
2020-03-18 17:37:41,566 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):Leader@1351] - zookeeper.leader.maxTimeToWaitForEpoch = -1ms
2020-03-18 17:37:41,567 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:41,567 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:41,567 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:41,567 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:41,569 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:41,569 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:41,569 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:41,570 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:41,571 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:41,571 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:41,571 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:41,571 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:41,571 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:41,571 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:41,571 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:41,572 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:41,572 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:41,572 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:41,572 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:41,572 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:41,574 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:41,574 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:41,574 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:41,574 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:41,575 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6253386425017981648.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6253386425017981648.junit.dir/data/version-2
2020-03-18 17:37:41,575 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3620028783695563421.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3620028783695563421.junit.dir/data/version-2
2020-03-18 17:37:41,576 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 230 MS
2020-03-18 17:37:41,579 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:41,580 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 254 MS
2020-03-18 17:37:41,581 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:41,581 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6253386425017981648.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:41,582 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:37:41,586 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:21996:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21996
2020-03-18 17:37:41,593 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60487:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:21995:21998:participant;0.0.0.0:22001
2020-03-18 17:37:41,599 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:41,601 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60487:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:41,601 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60487:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:41,601 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60487:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:37:41,602 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:41,603 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:41,604 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:41,608 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:41,611 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:37:41,618 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22001
2020-03-18 17:37:41,620 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60488
2020-03-18 17:37:41,622 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:41,622 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:41,633 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:41,634 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000
2020-03-18 17:37:41,654 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:41,654 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:41,655 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:41,655 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:41,655 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:41,659 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:41,659 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Follower@115] - Starting ObserverMaster
2020-03-18 17:37:41,871 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22001
2020-03-18 17:37:41,872 [myid:1] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60493
2020-03-18 17:37:41,873 [myid:1] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:41,874 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22002
2020-03-18 17:37:41,895 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60494
2020-03-18 17:37:41,895 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:41,901 [myid:] - INFO  [main:Environment@98] - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 03/18/2020 09:36 GMT
2020-03-18 17:37:41,901 [myid:] - INFO  [main:Environment@98] - Client environment:host.name=172.18.14.34
2020-03-18 17:37:41,901 [myid:] - INFO  [main:Environment@98] - Client environment:java.version=1.8.0_191
2020-03-18 17:37:41,901 [myid:] - INFO  [main:Environment@98] - Client environment:java.vendor=Oracle Corporation
2020-03-18 17:37:41,901 [myid:] - INFO  [main:Environment@98] - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home/jre
2020-03-18 17:37:41,901 [myid:] - INFO  [main:Environment@98] - Client environment:java.class.path=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/test-classes:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/classes:/Users/liaosheng/.m2/repository/com/github/spotbugs/spotbugs-annotations/3.1.9/spotbugs-annotations-3.1.9.jar:/Users/liaosheng/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/Users/liaosheng/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/liaosheng/.m2/repository/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-jute/target/zookeeper-jute-3.6.0.jar:/Users/liaosheng/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/liaosheng/.m2/repository/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/Users/liaosheng/.m2/repository/io/netty/netty-handler/4.1.45.Final/netty-handler-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-common/4.1.45.Final/netty-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-buffer/4.1.45.Final/netty-buffer-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport/4.1.45.Final/netty-transport-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-resolver/4.1.45.Final/netty-resolver-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-codec/4.1.45.Final/netty-codec-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-epoll/4.1.45.Final/netty-transport-native-epoll-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.45.Final/netty-transport-native-unix-common-4.1.45.Final.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/liaosheng/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-server/9.4.24.v20191120/jetty-server-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-http/9.4.24.v20191120/jetty-http-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-util/9.4.24.v20191120/jetty-util-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-io/9.4.24.v20191120/jetty-io-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.24.v20191120/jetty-servlet-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/org/eclipse/jetty/jetty-security/9.4.24.v20191120/jetty-security-9.4.24.v20191120.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.10.3/jackson-databind-2.9.10.3.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.10/jackson-annotations-2.9.10.jar:/Users/liaosheng/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.9.10/jackson-core-2.9.10.jar:/Users/liaosheng/.m2/repository/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/liaosheng/.m2/repository/jline/jline/2.11/jline-2.11.jar:/Users/liaosheng/.m2/repository/io/dropwizard/metrics/metrics-core/3.2.5/metrics-core-3.2.5.jar:/Users/liaosheng/.m2/repository/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-core/2.0.0/kerb-core-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-pkix/2.0.0/kerby-pkix-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-asn1/2.0.0/kerby-asn1-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-util/2.0.0/kerby-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-simplekdc/2.0.0/kerb-simplekdc-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-client/2.0.0/kerb-client-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-common/2.0.0/kerb-common-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-crypto/2.0.0/kerb-crypto-2.0.0.jar:/Users/liaosheng/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-util/2.0.0/kerb-util-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/token-provider/2.0.0/token-provider-2.0.0.jar:/Users/liaosheng/.m2/repository/com/nimbusds/nimbus-jose-jwt/4.41.2/nimbus-jose-jwt-4.41.2.jar:/Users/liaosheng/.m2/repository/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/Users/liaosheng/.m2/repository/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/liaosheng/.m2/repository/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/liaosheng/.m2/repository/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-admin/2.0.0/kerb-admin-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-server/2.0.0/kerb-server-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerb-identity/2.0.0/kerb-identity-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-xdr/2.0.0/kerby-xdr-2.0.0.jar:/Users/liaosheng/.m2/repository/org/apache/kerby/kerby-config/2.0.0/kerby-config-2.0.0.jar:/Users/liaosheng/.m2/repository/org/mockito/mockito-core/2.27.0/mockito-core-2.27.0.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy/1.9.10/byte-buddy-1.9.10.jar:/Users/liaosheng/.m2/repository/net/bytebuddy/byte-buddy-agent/1.9.10/byte-buddy-agent-1.9.10.jar:/Users/liaosheng/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/liaosheng/.m2/repository/org/jmockit/jmockit/1.48/jmockit-1.48.jar:/Users/liaosheng/.m2/repository/junit/junit/4.12/junit-4.12.jar:/Users/liaosheng/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/liaosheng/.m2/repository/org/xerial/snappy/snappy-java/1.1.7/snappy-java-1.1.7.jar:
2020-03-18 17:37:41,902 [myid:] - INFO  [main:Environment@98] - Client environment:java.library.path=/Users/liaosheng/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2020-03-18 17:37:41,902 [myid:] - INFO  [main:Environment@98] - Client environment:java.io.tmpdir=/var/folders/c9/j1lmbpys2t38k93k9_tlj4100000gp/T/
2020-03-18 17:37:41,902 [myid:] - INFO  [main:Environment@98] - Client environment:java.compiler=<NA>
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:os.name=Mac OS X
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:os.arch=x86_64
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:os.version=10.14.5
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:user.name=liaosheng
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:user.home=/Users/liaosheng
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:user.dir=/Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.free=115MB
2020-03-18 17:37:41,903 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.max=455MB
2020-03-18 17:37:41,904 [myid:] - INFO  [main:Environment@98] - Client environment:os.memory.total=123MB
2020-03-18 17:37:41,907 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22002 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@7791a895
2020-03-18 17:37:41,913 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:41,921 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:41,927 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22002.
2020-03-18 17:37:41,927 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:41,930 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:60495, server: localhost/127.0.0.1:22002
2020-03-18 17:37:41,936 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:41,937 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:37:41,937 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:41,945 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015bdc370000
2020-03-18 17:37:41,945 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015bdc370000
2020-03-18 17:37:41,953 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22002, session id = 0x200015bdc370000, negotiated timeout = 30000
2020-03-18 17:37:41,955 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:41,986 [myid:2] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015bdc370000
2020-03-18 17:37:42,089 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:37:42,090 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015bdc370000
2020-03-18 17:37:42,090 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015bdc370000 closed
2020-03-18 17:37:42,091 [myid:] - INFO  [Thread-6:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/zoo.cfg
2020-03-18 17:37:42,091 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-03-18 17:37:42,092 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22003 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:37:42,092 [myid:] - INFO  [Thread-6:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22003
2020-03-18 17:37:42,092 [myid:] - INFO  [Thread-6:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:42,092 [myid:] - INFO  [Thread-6:QuorumPeerConfig@482] - observerMasterPort is 21994
2020-03-18 17:37:42,092 [myid:] - INFO  [Thread-6:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:42,092 [myid:] - WARN  [Thread-6:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:42,093 [myid:3] - WARN  [Thread-6:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:37:42,093 [myid:3] - INFO  [Thread-6:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:42,093 [myid:3] - INFO  [Thread-6:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:42,093 [myid:3] - INFO  [Thread-6:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:42,093 [myid:3] - INFO  [Thread-6:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:42,093 [myid:3] - ERROR [Thread-6:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,094 [myid:3] - WARN  [Thread-6:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,094 [myid:3] - INFO  [Thread-6:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:42,094 [myid:3] - INFO  [Thread-6:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@597a1d53
2020-03-18 17:37:42,095 [myid:3] - INFO  [Thread-6:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:42,095 [myid:3] - WARN  [Thread-6:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:42,095 [myid:3] - INFO  [Thread-6:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:42,095 [myid:3] - INFO  [Thread-6:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22003
2020-03-18 17:37:42,095 [myid:3] - INFO  [Thread-6:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:42,096 [myid:3] - INFO  [Thread-6:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:42,097 [myid:3] - INFO  [Thread-6:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:42,097 [myid:3] - INFO  [Thread-6:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:42,097 [myid:3] - INFO  [Thread-6:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:42,097 [myid:3] - INFO  [Thread-6:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:42,098 [myid:3] - INFO  [Thread-6:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:21994,/127.0.0.1:21994,
2020-03-18 17:37:42,098 [myid:3] - INFO  [Thread-6:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:42,098 [myid:3] - INFO  [Thread-6:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:42,098 [myid:3] - INFO  [Thread-6:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:42,098 [myid:3] - INFO  [Thread-6:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:42,098 [myid:3] - INFO  [Thread-6:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:42,099 [myid:3] - INFO  [Thread-6:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:42,099 [myid:3] - INFO  [Thread-6:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:42,099 [myid:3] - INFO  [Thread-6:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:42,100 [myid:3] - INFO  [Thread-6:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:42,103 [myid:3] - INFO  [Thread-6:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:42,103 [myid:3] - INFO  [Thread-6:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:42,106 [myid:3] - INFO  [Thread-6:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:42,107 [myid:3] - INFO  [Thread-6:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:42,108 [myid:3] - INFO  [Thread-6:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:42,108 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22000:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22000
2020-03-18 17:37:42,109 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:42,109 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:42,111 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:21998:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60498
2020-03-18 17:37:42,112 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:21999:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60499
2020-03-18 17:37:42,113 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:42,113 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:42,114 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:42,114 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@71] - zookeeper.observer.reconnectDelayMs = 0
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@73] - zookeeper.observer.election.DelayMs = 200
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:42,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:42,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:42,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:42,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:42,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:42,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:42,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:42,121 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:42,121 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:21994
2020-03-18 17:37:42,122 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21994
2020-03-18 17:37:42,122 [myid:] - INFO  [Thread-0:PortForwarder@188] - accepted: local:21994 from:60501 to:22004
2020-03-18 17:37:42,123 [myid:] - INFO  [Thread-0:PortForwarder@210] - connected: local:21994 from:60501 to:22004
2020-03-18 17:37:42,125 [myid:] - INFO  [Thread-0:PortForwarder@186] - accepting socket local:21994 to:22004
2020-03-18 17:37:42,125 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60502:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22000:observer;0.0.0.0:22003
2020-03-18 17:37:42,127 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:37:42,127 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60502:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:42,127 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60502:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x10000000c minCommittedLog=0x100000001 lastProcessedZxid=0x10000000c peerLastZxid=0x0
2020-03-18 17:37:42,129 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60502:ZKDatabase@387] - Unable to find proposals from txnlog for zxid: 0x0
2020-03-18 17:37:42,130 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60502:ObserverMaster@318] - finished syncing observer from retained commit queue: sid 3, queue head 0x100000001, queue tail 0x10000000c, sync position 0x10000000c, num packets used 0, num bytes used 76
2020-03-18 17:37:42,130 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60502:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x10000000c, send zxid of db as 0x10000000c, 1 concurrent snapshot sync, snapshot sync was not exempt from throttle
2020-03-18 17:37:42,130 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - snap
2020-03-18 17:37:42,130 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x10000000c
2020-03-18 17:37:42,131 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:42,131 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:42,134 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:42,136 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x10000000c to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2/snapshot.10000000c
2020-03-18 17:37:42,137 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:37:42,138 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:42,139 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:37:42,139 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:42,139 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:42,141 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:37:42,344 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-03-18 17:37:42,345 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60505
2020-03-18 17:37:42,346 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:42,346 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22002 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@7791a895
2020-03-18 17:37:42,347 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:42,348 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:42,349 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22002.
2020-03-18 17:37:42,349 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:42,350 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:60506, server: localhost/127.0.0.1:22002
2020-03-18 17:37:42,351 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015bdc370001
2020-03-18 17:37:42,351 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015bdc370001
2020-03-18 17:37:42,351 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.10000000d
2020-03-18 17:37:42,351 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015bdc370001
2020-03-18 17:37:42,352 [myid:127.0.0.1:22002] - INFO  [main-SendThread(127.0.0.1:22002):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22002, session id = 0x200015bdc370001, negotiated timeout = 30000
2020-03-18 17:37:42,352 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:42,367 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:42,368 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=60501,localport=21994]-->Socket[addr=localhost/127.0.0.1,port=22004,localport=60502]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=60501,localport=21994]
2020-03-18 17:37:42,368 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:60502:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:42,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:21994). Was connected for 245ms. Sync state: true
2020-03-18 17:37:42,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:42,368 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60502:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60502 ********
2020-03-18 17:37:42,368 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22004,localport=60502]-->Socket[addr=/127.0.0.1,port=60501,localport=21994]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22004,localport=60502]
2020-03-18 17:37:42,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:42,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:37:42,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:37:42,369 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:42,369 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:42,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:37:42,369 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:37:42,369 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:37:42,370 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:42,370 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:42,371 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:42,372 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:42,372 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:42,372 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:42,372 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:42,372 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 64 ms before reconnecting with the leader
2020-03-18 17:37:42,437 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:42,437 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:42,439 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:42,440 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:42,440 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:42,440 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:42,441 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:42,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:42,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:42,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:42,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:42,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:42,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:42,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:21994
2020-03-18 17:37:42,443 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,544 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19899, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,645 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19798, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,746 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19697, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,850 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19594, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,850 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:42,851 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:42,851 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:42,851 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:42,851 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:42,851 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 114 ms before reconnecting with the leader
2020-03-18 17:37:42,965 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:42,966 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:42,968 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:42,969 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:42,969 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:42,969 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:42,969 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:42,969 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:42,969 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:42,969 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:42,970 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:42,971 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:21994
2020-03-18 17:37:42,972 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,078 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19895, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,181 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19791, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,282 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19690, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,387 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19585, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,388 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,389 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:43,389 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:43,389 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:43,390 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:43,390 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 99 ms before reconnecting with the leader
2020-03-18 17:37:43,489 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:43,489 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:43,492 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:43,492 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:43,492 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:43,493 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:43,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:43,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:43,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:43,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:43,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:43,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:21994
2020-03-18 17:37:43,496 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,597 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19899, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,698 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19798, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,800 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19696, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,902 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19594, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,902 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:43,902 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:43,903 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:43,903 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:43,903 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:43,903 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 184 ms before reconnecting with the leader
2020-03-18 17:37:44,092 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:44,093 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:44,095 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:44,096 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:44,096 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:44,097 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:44,098 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:21994
2020-03-18 17:37:44,099 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,210 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19889, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,310 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19789, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,414 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19685, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,515 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19584, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,516 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,516 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:44,516 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:44,517 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:44,517 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:44,517 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 197 ms before reconnecting with the leader
2020-03-18 17:37:44,717 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:44,718 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:44,720 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:44,721 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:44,721 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:44,722 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:44,722 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:44,722 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:44,722 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:44,722 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:44,722 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:44,722 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:44,723 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:21994
2020-03-18 17:37:44,724 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,825 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19899, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:44,929 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19795, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,034 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19690, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,139 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19585, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,140 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,140 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:45,140 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:45,140 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:45,140 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:45,140 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 22 ms before reconnecting with the leader
2020-03-18 17:37:45,163 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:45,163 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:45,166 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:45,167 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:45,167 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:45,168 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:21994
2020-03-18 17:37:45,169 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,271 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19899, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,372 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19798, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,472 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19697, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,575 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19595, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,575 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,576 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:45,576 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:45,576 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:45,576 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:45,577 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 197 ms before reconnecting with the leader
2020-03-18 17:37:45,777 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:45,778 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:45,780 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:45,780 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:45,780 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:45,780 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:45,780 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:45,780 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:45,781 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:45,782 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:45,782 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:21994
2020-03-18 17:37:45,783 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,888 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19896, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:45,989 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19794, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,090 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19693, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,195 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19589, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,195 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,195 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:46,195 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:46,196 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:46,196 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:46,196 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 134 ms before reconnecting with the leader
2020-03-18 17:37:46,330 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:46,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:46,333 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:46,333 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:46,333 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:46,333 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:46,334 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:46,335 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:46,335 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:46,335 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:21994
2020-03-18 17:37:46,336 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,438 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19899, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,539 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19798, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,640 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19697, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,741 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19595, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,741 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,742 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:46,743 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:46,743 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:46,743 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:46,743 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 146 ms before reconnecting with the leader
2020-03-18 17:37:46,889 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:46,889 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:46,891 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:46,892 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:46,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:46,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:21994
2020-03-18 17:37:46,894 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:46,996 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=1, remaining init limit=19899, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:47,097 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=2, remaining init limit=19797, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:47,199 [myid:3] - WARN  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@392] - Unexpected exception, tries=3, remaining init limit=19696, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:47,299 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@384] - Unexpected exception, retries exceeded. tries=4, remaining init limit=19595, connecting to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:47,300 [myid:3] - ERROR [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@336] - Failed connect to /127.0.0.1:21994
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:47,300 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.IOException: Failed connect to /127.0.0.1:21994
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:296)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:108)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:47,300 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:47,300 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:47,300 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:47,300 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 127 ms before reconnecting with the leader
2020-03-18 17:37:47,395 [myid:] - INFO  [main:ObserverMasterTest@233] - observer zxid 10000000e leader zxid 10000001a
2020-03-18 17:37:47,395 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-03-18 17:37:47,395 [myid:] - INFO  [Thread-8:PortForwarder@186] - accepting socket local:21994 to:22004
2020-03-18 17:37:47,397 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60773
2020-03-18 17:37:47,427 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:47,428 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:47,430 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:47,430 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:47,430 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:47,430 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:47,430 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4173449021610531931.junit.dir/data/version-2
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:47,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:47,432 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:21994
2020-03-18 17:37:47,433 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:21994:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:21994
2020-03-18 17:37:47,433 [myid:] - INFO  [Thread-8:PortForwarder@188] - accepted: local:21994 from:60775 to:22004
2020-03-18 17:37:47,434 [myid:] - INFO  [Thread-8:PortForwarder@210] - connected: local:21994 from:60775 to:22004
2020-03-18 17:37:47,435 [myid:] - INFO  [Thread-8:PortForwarder@186] - accepting socket local:21994 to:22004
2020-03-18 17:37:47,436 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60776:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:21997:22000:observer;0.0.0.0:22003
2020-03-18 17:37:47,437 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:37:47,437 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60776:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:47,437 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60776:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000018 minCommittedLog=0x100000001 lastProcessedZxid=0x100000018 peerLastZxid=0x10000000e
2020-03-18 17:37:47,437 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60776:LearnerHandler@864] - Using committedLog for peer sid: 3
2020-03-18 17:37:47,437 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60776:LearnerHandler@972] - Sending DIFF zxid=0x100000018  for peer sid: 3
2020-03-18 17:37:47,437 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60776:ObserverMaster@318] - finished syncing observer from retained commit queue: sid 3, queue head 0x100000001, queue tail 0x10000001a, sync position 0x100000018, num packets used 2, num bytes used 326
2020-03-18 17:37:47,440 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000018
2020-03-18 17:37:47,440 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:37:47,442 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Learner@575] - Got zxid 0x10000000f expected 0x1
2020-03-18 17:37:47,442 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:47,447 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:47,447 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:37:47,448 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:47,448 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:47,449 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:37:47,648 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-03-18 17:37:47,649 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60784
2020-03-18 17:37:47,650 [myid:3] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:37:47,650 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22003 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@7791a895
2020-03-18 17:37:47,651 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:47,651 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:47,653 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22003.
2020-03-18 17:37:47,653 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:47,653 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:60789, server: localhost/127.0.0.1:22003
2020-03-18 17:37:47,656 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015bf2fb0000
2020-03-18 17:37:47,656 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015bf2fb0000
2020-03-18 17:37:47,657 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015bf2fb0000
2020-03-18 17:37:47,658 [myid:127.0.0.1:22003] - INFO  [main-SendThread(127.0.0.1:22003):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22003, session id = 0x300015bf2fb0000, negotiated timeout = 30000
2020-03-18 17:37:47,658 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:47,667 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015bf2fb0000
2020-03-18 17:37:47,770 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:37:47,770 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015bf2fb0000
2020-03-18 17:37:47,770 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015bf2fb0000 closed
2020-03-18 17:37:47,771 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:37:47,772 [myid:2] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015bdc370001
2020-03-18 17:37:47,880 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:37:47,881 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015bdc370001 closed
2020-03-18 17:37:47,883 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled)
2020-03-18 17:37:47,883 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:47,883 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015bdc370001
2020-03-18 17:37:47,883 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:47,884 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:47,884 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:47,884 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:60487:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:47,885 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:60487:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60487 ********
2020-03-18 17:37:47,885 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60776:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60776 ********
2020-03-18 17:37:47,886 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60776:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:37:47,886 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:47,886 [myid:] - ERROR [Socket[addr=localhost/127.0.0.1,port=22004,localport=60776]-->Socket[addr=/127.0.0.1,port=60775,localport=21994]:PortForwarder$PortForwardWorker@135] - Unexpected exception
java.io.IOException: read -1
	at org.apache.zookeeper.server.util.PortForwarder$PortForwardWorker.run(PortForwarder.java:121)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:47,887 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:47,886 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:21996). Was connected for 6298ms. Sync state: true
2020-03-18 17:37:47,890 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:47,888 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:47,887 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22004,localport=60776]-->Socket[addr=/127.0.0.1,port=60775,localport=21994]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22004,localport=60776]
2020-03-18 17:37:47,892 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:47,890 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=60775,localport=21994]-->Socket[addr=localhost/127.0.0.1,port=22004,localport=60776]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=60775,localport=21994]
2020-03-18 17:37:47,890 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:47,892 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:47,892 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:47,892 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:21994). Was connected for 458ms. Sync state: true
2020-03-18 17:37:47,892 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:47,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:47,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:47,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:37:47,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:37:47,893 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:47,893 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:47,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:37:47,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:37:47,893 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:37:47,893 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:47,894 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:47,894 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:47,895 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:47,895 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:47,895 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:47,895 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:47,895 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22001:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:47,895 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:47,895 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:47,895 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:47,896 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:47,896 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:47,896 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:47,896 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:47,896 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:47,897 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:47,896 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:47,897 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:47,896 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:47,896 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:47,897 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:47,897 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:47,896 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:47,896 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:47,896 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:47,896 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled)
2020-03-18 17:37:47,899 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:47,899 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:47,898 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:47,899 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:47,899 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:47,899 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22001)(secure=disabled) to exit thread
2020-03-18 17:37:47,899 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:47,899 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled)
2020-03-18 17:37:47,899 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@258] - Waiting for 66 ms before reconnecting with the leader
2020-03-18 17:37:47,900 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:47,900 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:47,900 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:47,900 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:21996:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:47,900 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:47,901 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:47,901 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:47,901 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:47,901 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:47,901 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:47,901 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:47,901 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:47,901 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:47,901 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:47,901 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:47,902 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:47,902 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:47,902 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:47,903 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:47,903 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:47,903 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22002:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:47,904 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:47,904 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:47,904 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:47,904 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled)
2020-03-18 17:37:47,904 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:47,904 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:47,904 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:47,904 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:47,905 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:47,904 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:47,905 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:47,905 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:47,905 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:47,905 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:47,904 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:47,904 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22002)(secure=disabled) to exit thread
2020-03-18 17:37:47,905 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled)
2020-03-18 17:37:47,905 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22003:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:47,905 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:47,905 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:47,924 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):Observer@262] - Interrupted while waiting
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Observer.waitForReconnectDelayHelper(Observer.java:260)
	at org.apache.zookeeper.server.quorum.Observer.waitForObserverElectionDelay(Observer.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1447)
2020-03-18 17:37:47,924 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:47,924 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:47,924 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled)
2020-03-18 17:37:47,925 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22003)(secure=disabled) to exit thread
2020-03-18 17:37:47,925 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22001
2020-03-18 17:37:47,925 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22002
2020-03-18 17:37:47,926 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22003
2020-03-18 17:37:47,962 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:37:47,963 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testLaggingObserverMaster[0]
2020-03-18 17:37:47,963 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testLaggingObserverMaster[0]
2020-03-18 17:37:47,965 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testAdminCommands[0]
2020-03-18 17:37:48,157 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc3AAtVbmljYXN0UmVmMgAADDE3Mi4xOC4xNC4zNAAA7YB56AEmm4cORMCM5EcAAAFw7QGSLIABAHg=
2020-03-18 17:37:48,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:48,461 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22005 from range 21993 - 24685.
2020-03-18 17:37:48,461 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22006 from range 21993 - 24685.
2020-03-18 17:37:48,462 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22007 from range 21993 - 24685.
2020-03-18 17:37:48,462 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22008 from range 21993 - 24685.
2020-03-18 17:37:48,462 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22009 from range 21993 - 24685.
2020-03-18 17:37:48,462 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22010 from range 21993 - 24685.
2020-03-18 17:37:48,462 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22011 from range 21993 - 24685.
2020-03-18 17:37:48,463 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22012 from range 21993 - 24685.
2020-03-18 17:37:48,463 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22013 from range 21993 - 24685.
2020-03-18 17:37:48,463 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22014 from range 21993 - 24685.
2020-03-18 17:37:48,464 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6710311830604294982.junit.dir clientPort = 22011 adminServerPort = 8080
2020-03-18 17:37:48,466 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5100445756485832842.junit.dir clientPort = 22012 adminServerPort = 8080
2020-03-18 17:37:48,468 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir clientPort = 22013 adminServerPort = 8080
2020-03-18 17:37:48,470 [myid:] - INFO  [Thread-11:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6710311830604294982.junit.dir/zoo.cfg
2020-03-18 17:37:48,470 [myid:] - INFO  [Thread-12:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5100445756485832842.junit.dir/zoo.cfg
2020-03-18 17:37:48,470 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22011
2020-03-18 17:37:48,472 [myid:] - INFO  [Thread-11:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22011
2020-03-18 17:37:48,472 [myid:] - INFO  [Thread-11:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:48,472 [myid:] - INFO  [Thread-11:QuorumPeerConfig@482] - observerMasterPort is 22014
2020-03-18 17:37:48,472 [myid:] - INFO  [Thread-11:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:48,472 [myid:] - WARN  [Thread-11:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:48,473 [myid:1] - INFO  [Thread-11:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:48,473 [myid:1] - INFO  [Thread-11:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:48,473 [myid:1] - INFO  [Thread-11:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:48,473 [myid:1] - INFO  [Thread-11:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:48,473 [myid:1] - ERROR [Thread-11:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:48,473 [myid:1] - WARN  [Thread-11:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:48,474 [myid:1] - INFO  [Thread-11:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:48,474 [myid:1] - INFO  [Thread-11:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@251a166a
2020-03-18 17:37:48,474 [myid:] - INFO  [Thread-12:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22012
2020-03-18 17:37:48,474 [myid:] - INFO  [Thread-12:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:48,474 [myid:] - INFO  [Thread-12:QuorumPeerConfig@482] - observerMasterPort is 22014
2020-03-18 17:37:48,474 [myid:] - INFO  [Thread-12:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:48,474 [myid:1] - INFO  [Thread-11:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:48,474 [myid:1] - WARN  [Thread-11:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:48,474 [myid:1] - INFO  [Thread-11:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:48,475 [myid:] - WARN  [Thread-12:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:48,475 [myid:1] - INFO  [Thread-11:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22011
2020-03-18 17:37:48,475 [myid:2] - INFO  [Thread-12:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:48,475 [myid:1] - INFO  [Thread-11:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:48,475 [myid:2] - INFO  [Thread-12:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:48,475 [myid:2] - INFO  [Thread-12:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:48,476 [myid:2] - INFO  [Thread-12:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:48,476 [myid:2] - ERROR [Thread-12:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:48,476 [myid:1] - INFO  [Thread-11:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:48,476 [myid:2] - WARN  [Thread-12:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:48,476 [myid:2] - INFO  [Thread-12:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:48,476 [myid:1] - INFO  [Thread-11:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:48,476 [myid:2] - INFO  [Thread-12:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@53ff2f96
2020-03-18 17:37:48,476 [myid:1] - INFO  [Thread-11:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:48,477 [myid:2] - INFO  [Thread-12:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:48,477 [myid:2] - WARN  [Thread-12:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:48,477 [myid:2] - INFO  [Thread-12:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:48,477 [myid:2] - INFO  [Thread-12:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22012
2020-03-18 17:37:48,477 [myid:1] - INFO  [Thread-11:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22014,/127.0.0.1:22014,
2020-03-18 17:37:48,478 [myid:2] - INFO  [Thread-12:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:48,478 [myid:1] - INFO  [Thread-11:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:48,478 [myid:1] - INFO  [Thread-11:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:48,478 [myid:1] - INFO  [Thread-11:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:48,478 [myid:1] - INFO  [Thread-11:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:48,478 [myid:1] - INFO  [Thread-11:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:48,478 [myid:1] - INFO  [Thread-11:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:48,478 [myid:1] - INFO  [Thread-11:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:48,478 [myid:2] - INFO  [Thread-12:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:48,478 [myid:2] - INFO  [Thread-12:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:48,478 [myid:2] - INFO  [Thread-12:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:48,478 [myid:2] - INFO  [Thread-12:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:48,479 [myid:1] - INFO  [Thread-11:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:48,479 [myid:1] - INFO  [Thread-11:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6710311830604294982.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:48,479 [myid:2] - INFO  [Thread-12:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22014,/127.0.0.1:22014,
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:48,480 [myid:2] - INFO  [Thread-12:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:48,481 [myid:2] - INFO  [Thread-12:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5100445756485832842.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:48,481 [myid:2] - INFO  [Thread-12:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:48,482 [myid:1] - INFO  [Thread-11:ZKDatabase@289] - Snapshot loaded in 4 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:48,482 [myid:1] - INFO  [Thread-11:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:48,483 [myid:1] - INFO  [Thread-11:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:48,480 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22011 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:37:48,482 [myid:2] - INFO  [Thread-12:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:48,484 [myid:1] - INFO  [Thread-11:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:48,484 [myid:1] - INFO  [Thread-11:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:48,484 [myid:2] - INFO  [Thread-12:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:48,485 [myid:2] - INFO  [Thread-12:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:48,485 [myid:2] - INFO  [Thread-12:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:48,486 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:48,486 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:37:48,487 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:48,487 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,487 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:37:48,488 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22009
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:48,489 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22009:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22009
2020-03-18 17:37:48,489 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22008
2020-03-18 17:37:48,489 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60806
2020-03-18 17:37:48,490 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,491 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,491 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,491 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,492 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,694 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:48,696 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:48,696 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:48,696 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:48,696 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:48,696 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:48,696 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:48,696 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5100445756485832842.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5100445756485832842.junit.dir/data/version-2
2020-03-18 17:37:48,697 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:37:48,698 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:48,698 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5100445756485832842.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:48,706 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:48,706 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:48,707 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 9 ms
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:48,707 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:48,708 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6710311830604294982.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6710311830604294982.junit.dir/data/version-2
2020-03-18 17:37:48,708 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 222 MS
2020-03-18 17:37:48,709 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:48,710 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22006:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22006
2020-03-18 17:37:48,713 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60810:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22005:22008:participant;0.0.0.0:22011
2020-03-18 17:37:48,716 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:48,716 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60810:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:48,716 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60810:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:48,717 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60810:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:37:48,718 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:48,718 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:48,718 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:48,719 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:48,722 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:37:48,723 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:48,723 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:48,725 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:48,726 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:48,726 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:48,726 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:48,726 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:48,727 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:48,728 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:48,728 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Follower@115] - Starting ObserverMaster
2020-03-18 17:37:48,737 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22011
2020-03-18 17:37:48,738 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60811
2020-03-18 17:37:48,738 [myid:1] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:48,739 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-03-18 17:37:48,741 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60812
2020-03-18 17:37:48,741 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:48,742 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22013
2020-03-18 17:37:48,742 [myid:] - INFO  [Thread-15:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/zoo.cfg
2020-03-18 17:37:48,743 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22013 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:37:48,743 [myid:] - INFO  [Thread-15:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22013
2020-03-18 17:37:48,743 [myid:] - INFO  [Thread-15:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:48,743 [myid:] - INFO  [Thread-15:QuorumPeerConfig@482] - observerMasterPort is 22014
2020-03-18 17:37:48,743 [myid:] - INFO  [Thread-15:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:48,744 [myid:] - WARN  [Thread-15:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:48,744 [myid:3] - WARN  [Thread-15:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:37:48,744 [myid:3] - INFO  [Thread-15:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:48,744 [myid:3] - INFO  [Thread-15:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:48,744 [myid:3] - INFO  [Thread-15:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:48,744 [myid:3] - INFO  [Thread-15:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:48,745 [myid:3] - ERROR [Thread-15:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:48,745 [myid:3] - WARN  [Thread-15:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:48,745 [myid:3] - INFO  [Thread-15:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:48,745 [myid:3] - INFO  [Thread-15:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@37b8ff02
2020-03-18 17:37:48,745 [myid:3] - INFO  [Thread-15:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:48,745 [myid:3] - WARN  [Thread-15:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:48,746 [myid:3] - INFO  [Thread-15:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:48,746 [myid:3] - INFO  [Thread-15:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22013
2020-03-18 17:37:48,746 [myid:3] - INFO  [Thread-15:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:48,746 [myid:3] - INFO  [Thread-15:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:48,747 [myid:3] - INFO  [Thread-15:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22014,/127.0.0.1:22014,
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:48,748 [myid:3] - INFO  [Thread-15:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:48,749 [myid:3] - INFO  [Thread-15:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:48,749 [myid:3] - INFO  [Thread-15:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:48,750 [myid:3] - INFO  [Thread-15:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:48,750 [myid:3] - INFO  [Thread-15:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:48,751 [myid:3] - INFO  [Thread-15:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:48,752 [myid:3] - INFO  [Thread-15:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:48,752 [myid:3] - INFO  [Thread-15:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:48,753 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22010:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22010
2020-03-18 17:37:48,753 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:48,754 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:48,754 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22008:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60814
2020-03-18 17:37:48,755 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22009:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60815
2020-03-18 17:37:48,757 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,757 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:48,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:48,759 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:48,759 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/data/version-2
2020-03-18 17:37:48,759 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:48,760 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:48,760 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22014
2020-03-18 17:37:48,761 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22014:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22014
2020-03-18 17:37:48,765 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60817:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22007:22010:observer;0.0.0.0:22013
2020-03-18 17:37:48,766 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:37:48,766 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60817:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:48,767 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60817:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:48,767 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60817:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 3
2020-03-18 17:37:48,768 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:48,768 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:37:48,769 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:48,773 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:48,773 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:37:48,773 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:48,773 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:48,774 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:37:48,994 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22013
2020-03-18 17:37:48,996 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60821
2020-03-18 17:37:48,996 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:48,996 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22013 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@4232c52b
2020-03-18 17:37:48,997 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:48,997 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:48,999 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22013.
2020-03-18 17:37:48,999 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:49,000 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:60822, server: localhost/127.0.0.1:22013
2020-03-18 17:37:49,003 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:49,003 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:37:49,004 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:49,005 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015bf82c0000
2020-03-18 17:37:49,005 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015bf82c0000
2020-03-18 17:37:49,006 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015bf82c0000
2020-03-18 17:37:49,006 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:49,007 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22013, session id = 0x300015bf82c0000, negotiated timeout = 30000
2020-03-18 17:37:49,007 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:49,097 [myid:] - INFO  [RMI TCP Connection(1)-172.18.14.34:LearnerHandlerBean@62] - terminating learner handler connection on demand LearnerHandlerBean{remoteIP=127.0.0.1:60817,ServerId=3}
2020-03-18 17:37:49,098 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:49,098 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60817:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60817 ********
2020-03-18 17:37:49,098 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60817:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:37:49,098 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22014). Was connected for 337ms. Sync state: true
2020-03-18 17:37:49,099 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:49,099 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:49,099 [myid:127.0.0.1:22013] - WARN  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1272] - Session 0x300015bf82c0000 for sever localhost/127.0.0.1:22013, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015bf82c0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:49,099 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:37:49,100 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:37:49,100 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:49,100 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:49,100 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:37:49,100 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:37:49,100 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:37:49,101 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:49,101 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:49,102 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:49,102 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:49,102 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:49,102 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:49,102 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:49,102 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@258] - Waiting for 175 ms before reconnecting with the leader
2020-03-18 17:37:49,200 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:37:49,201 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22013
2020-03-18 17:37:49,207 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60829
2020-03-18 17:37:49,279 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:49,280 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:49,281 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:49,281 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:49,282 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/data/version-2
2020-03-18 17:37:49,283 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:49,283 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:49,283 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:22014
2020-03-18 17:37:49,284 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22014:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22014
2020-03-18 17:37:49,285 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60831:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22007:22010:observer;0.0.0.0:22013
2020-03-18 17:37:49,286 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60831:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:49,286 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60831:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000002 minCommittedLog=0x100000001 lastProcessedZxid=0x100000002 peerLastZxid=0x100000002
2020-03-18 17:37:49,286 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60831:LearnerHandler@845] - Sending DIFF zxid=0x100000002 for peer sid: 3
2020-03-18 17:37:49,286 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:37:49,286 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60831:ObserverMaster@318] - finished syncing observer from retained commit queue: sid 3, queue head 0x100000001, queue tail 0x100000002, sync position 0x100000002, num packets used 0, num bytes used 76
2020-03-18 17:37:49,287 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000002
2020-03-18 17:37:49,288 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:37:49,288 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:49,290 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:49,290 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:37:49,290 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:49,291 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:49,292 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:37:49,459 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22013
2020-03-18 17:37:49,460 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60840
2020-03-18 17:37:49,460 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:49,465 [myid:] - INFO  [RMI TCP Connection(1)-172.18.14.34:Observer@285] - Requesting disconnect and reconnect to new learner master sid=2 addr=/127.0.0.1:22014
2020-03-18 17:37:50,431 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:50,431 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:50,431 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:50,431 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:50,431 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:50,431 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:50,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22014). Was connected for 1449ms. Sync state: true
2020-03-18 17:37:50,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:50,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:50,734 [myid:1] - ERROR [LearnerHandler-/127.0.0.1:60831:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:50,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:37:50,734 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60831:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60831 ********
2020-03-18 17:37:50,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:37:50,734 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:50,735 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:50,735 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:37:50,735 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:37:50,735 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:37:50,735 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:50,735 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:50,736 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:50,736 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:50,736 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:50,736 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:50,736 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:50,736 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@258] - Waiting for 122 ms before reconnecting with the leader
2020-03-18 17:37:50,736 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22013.
2020-03-18 17:37:50,736 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:50,737 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:60849, server: localhost/127.0.0.1:22013
2020-03-18 17:37:50,737 [myid:3] - WARN  [NIOWorkerThread-2:NIOServerCnxn@373] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:544)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:332)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:50,738 [myid:127.0.0.1:22013] - WARN  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1272] - Session 0x300015bf82c0000 for sever localhost/127.0.0.1:22013, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015bf82c0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:50,861 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:50,861 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:50,863 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:50,863 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:50,863 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:50,863 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:50,863 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8825098557090522685.junit.dir/data/version-2
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:50,864 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:50,865 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22014
2020-03-18 17:37:50,866 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22014:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22014
2020-03-18 17:37:50,867 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60852:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22007:22010:observer;0.0.0.0:22013
2020-03-18 17:37:50,867 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60852:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:50,867 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:37:50,868 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60852:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000002 minCommittedLog=0x100000001 lastProcessedZxid=0x100000002 peerLastZxid=0x100000002
2020-03-18 17:37:50,868 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60852:LearnerHandler@845] - Sending DIFF zxid=0x100000002 for peer sid: 3
2020-03-18 17:37:50,868 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60852:ObserverMaster@318] - finished syncing observer from retained commit queue: sid 3, queue head 0x100000001, queue tail 0x100000002, sync position 0x100000002, num packets used 0, num bytes used 76
2020-03-18 17:37:50,869 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000002
2020-03-18 17:37:50,869 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:37:50,869 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:50,871 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:50,872 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:37:50,872 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:50,872 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:50,873 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:37:52,838 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22013.
2020-03-18 17:37:52,838 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:52,839 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:60898, server: localhost/127.0.0.1:22013
2020-03-18 17:37:52,839 [myid:3] - INFO  [NIOWorkerThread-3:Learner@137] - Revalidating client: 0x300015bf82c0000
2020-03-18 17:37:52,842 [myid:127.0.0.1:22013] - INFO  [main-SendThread(127.0.0.1:22013):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22013, session id = 0x300015bf82c0000, negotiated timeout = 30000
2020-03-18 17:37:52,842 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:52,842 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22013
2020-03-18 17:37:52,843 [myid:3] - INFO  [NIOWorkerThread-5:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60899
2020-03-18 17:37:52,843 [myid:3] - INFO  [NIOWorkerThread-5:StatCommand@52] - Stat command output
2020-03-18 17:37:52,844 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:37:52,845 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015bf82c0000
2020-03-18 17:37:52,949 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:37:52,949 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015bf82c0000 closed
2020-03-18 17:37:52,950 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015bf82c0000
2020-03-18 17:37:52,950 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled)
2020-03-18 17:37:52,950 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:37:52,950 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:52,951 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:52,950 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:60810:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:37:52,951 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:52,951 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60852:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60852 ********
2020-03-18 17:37:52,951 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:52,951 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:60810:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60810 ********
2020-03-18 17:37:52,952 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22006). Was connected for 4241ms. Sync state: true
2020-03-18 17:37:52,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22014). Was connected for 2085ms. Sync state: true
2020-03-18 17:37:52,952 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60852:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:37:52,952 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:52,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:52,952 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:52,953 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:52,953 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:37:52,953 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:52,953 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:37:52,953 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:52,953 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:52,953 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:52,953 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:52,954 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:52,954 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:52,954 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:52,954 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:52,954 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:37:52,954 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:37:52,954 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:37:52,954 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:52,954 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:52,955 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:52,955 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:52,956 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:52,956 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:52,956 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:52,956 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:52,956 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:52,956 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:52,956 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:52,956 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22011:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:52,957 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:52,957 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:52,957 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:52,957 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:52,957 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@258] - Waiting for 188 ms before reconnecting with the leader
2020-03-18 17:37:52,958 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:52,958 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:52,959 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled)
2020-03-18 17:37:52,958 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:52,958 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:52,959 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:52,958 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:52,959 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:52,958 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:52,960 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:52,958 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:52,960 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:52,960 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:52,959 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22011)(secure=disabled) to exit thread
2020-03-18 17:37:52,959 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:37:52,961 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled)
2020-03-18 17:37:52,961 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:52,960 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:37:52,960 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:52,961 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:52,961 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:52,961 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:52,961 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22006:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:52,962 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:52,962 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:52,962 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:52,963 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:52,963 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:52,963 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:52,963 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:52,963 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:52,963 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:52,963 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:52,964 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:52,964 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:52,963 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:52,964 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:52,965 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:52,965 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22012:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:52,965 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:52,966 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:52,966 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:52,966 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:52,967 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:52,967 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:52,966 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:52,967 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:52,966 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:52,967 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled)
2020-03-18 17:37:52,967 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:52,968 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled) to exit thread
2020-03-18 17:37:52,967 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:52,968 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:52,968 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:52,969 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22012)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:52,969 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:52,970 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled)
2020-03-18 17:37:52,971 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22013:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:52,971 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:52,971 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:52,971 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):Observer@262] - Interrupted while waiting
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Observer.waitForReconnectDelayHelper(Observer.java:260)
	at org.apache.zookeeper.server.quorum.Observer.waitForObserverElectionDelay(Observer.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1447)
2020-03-18 17:37:52,972 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:52,972 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:52,973 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled)
2020-03-18 17:37:52,973 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22013)(secure=disabled) to exit thread
2020-03-18 17:37:52,973 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22011
2020-03-18 17:37:52,974 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22012
2020-03-18 17:37:52,974 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22013
2020-03-18 17:37:52,975 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:37:52,976 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testAdminCommands[0]
2020-03-18 17:37:52,976 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testAdminCommands[0]
2020-03-18 17:37:52,977 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testObserver[0]
2020-03-18 17:37:52,977 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22015 from range 21993 - 24685.
2020-03-18 17:37:52,977 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22016 from range 21993 - 24685.
2020-03-18 17:37:52,977 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22017 from range 21993 - 24685.
2020-03-18 17:37:52,977 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22018 from range 21993 - 24685.
2020-03-18 17:37:52,978 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22019 from range 21993 - 24685.
2020-03-18 17:37:52,978 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22020 from range 21993 - 24685.
2020-03-18 17:37:52,978 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22021 from range 21993 - 24685.
2020-03-18 17:37:52,978 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22022 from range 21993 - 24685.
2020-03-18 17:37:52,978 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22023 from range 21993 - 24685.
2020-03-18 17:37:52,979 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22024 from range 21993 - 24685.
2020-03-18 17:37:52,980 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4115556179254801237.junit.dir clientPort = 22021 adminServerPort = 8080
2020-03-18 17:37:52,984 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir clientPort = 22022 adminServerPort = 8080
2020-03-18 17:37:52,987 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test822510871937613856.junit.dir clientPort = 22023 adminServerPort = 8080
2020-03-18 17:37:52,989 [myid:] - INFO  [Thread-19:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4115556179254801237.junit.dir/zoo.cfg
2020-03-18 17:37:52,989 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:52,990 [myid:] - INFO  [Thread-19:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22021
2020-03-18 17:37:52,990 [myid:] - INFO  [Thread-19:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:52,990 [myid:] - INFO  [Thread-19:QuorumPeerConfig@482] - observerMasterPort is 22024
2020-03-18 17:37:52,990 [myid:] - INFO  [Thread-19:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:52,990 [myid:] - WARN  [Thread-19:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:52,991 [myid:1] - INFO  [Thread-19:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:52,991 [myid:1] - INFO  [Thread-19:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:52,991 [myid:1] - INFO  [Thread-19:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:52,991 [myid:1] - INFO  [Thread-19:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:52,991 [myid:1] - ERROR [Thread-19:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:52,991 [myid:1] - WARN  [Thread-19:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:52,991 [myid:1] - INFO  [Thread-19:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:52,991 [myid:1] - INFO  [Thread-19:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@789cbae1
2020-03-18 17:37:52,992 [myid:1] - INFO  [Thread-19:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:52,992 [myid:1] - WARN  [Thread-19:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:52,992 [myid:1] - INFO  [Thread-19:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:52,992 [myid:1] - INFO  [Thread-19:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22021
2020-03-18 17:37:52,990 [myid:] - INFO  [Thread-20:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/zoo.cfg
2020-03-18 17:37:52,992 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22021 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:37:52,992 [myid:1] - INFO  [Thread-19:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:52,993 [myid:] - INFO  [Thread-20:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22022
2020-03-18 17:37:52,993 [myid:] - INFO  [Thread-20:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:52,993 [myid:1] - INFO  [Thread-19:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:52,993 [myid:] - INFO  [Thread-20:QuorumPeerConfig@482] - observerMasterPort is 22024
2020-03-18 17:37:52,993 [myid:] - INFO  [Thread-20:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:52,993 [myid:1] - INFO  [Thread-19:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:52,993 [myid:1] - INFO  [Thread-19:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:52,993 [myid:1] - INFO  [Thread-19:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:52,993 [myid:1] - INFO  [Thread-19:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:52,993 [myid:1] - INFO  [Thread-19:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:52,993 [myid:] - WARN  [Thread-20:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:52,993 [myid:1] - INFO  [Thread-19:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:52,994 [myid:1] - INFO  [Thread-19:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:52,994 [myid:2] - INFO  [Thread-20:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:52,994 [myid:2] - INFO  [Thread-20:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:52,994 [myid:2] - INFO  [Thread-20:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:52,994 [myid:1] - INFO  [Thread-19:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:52,994 [myid:2] - INFO  [Thread-20:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:52,994 [myid:2] - ERROR [Thread-20:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:52,994 [myid:2] - WARN  [Thread-20:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:52,994 [myid:2] - INFO  [Thread-20:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:52,995 [myid:2] - INFO  [Thread-20:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@5305c501
2020-03-18 17:37:52,994 [myid:1] - INFO  [Thread-19:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:52,995 [myid:1] - INFO  [Thread-19:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:52,995 [myid:1] - INFO  [Thread-19:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:52,995 [myid:1] - INFO  [Thread-19:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22024,/127.0.0.1:22024,
2020-03-18 17:37:52,995 [myid:2] - INFO  [Thread-20:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:52,995 [myid:2] - WARN  [Thread-20:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:52,995 [myid:2] - INFO  [Thread-20:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:52,995 [myid:2] - INFO  [Thread-20:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22022
2020-03-18 17:37:52,995 [myid:1] - INFO  [Thread-19:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:52,995 [myid:1] - INFO  [Thread-19:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:52,996 [myid:1] - INFO  [Thread-19:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:52,996 [myid:1] - INFO  [Thread-19:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:52,996 [myid:1] - INFO  [Thread-19:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:52,996 [myid:1] - INFO  [Thread-19:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:52,995 [myid:2] - INFO  [Thread-20:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:52,996 [myid:1] - INFO  [Thread-19:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:52,996 [myid:1] - INFO  [Thread-19:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:52,996 [myid:2] - INFO  [Thread-20:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:52,997 [myid:1] - INFO  [Thread-19:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4115556179254801237.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:52,997 [myid:1] - INFO  [Thread-19:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:52,997 [myid:1] - INFO  [Thread-19:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:52,997 [myid:2] - INFO  [Thread-20:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22024,/127.0.0.1:22024,
2020-03-18 17:37:52,998 [myid:2] - INFO  [Thread-20:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:52,998 [myid:2] - INFO  [Thread-20:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:52,998 [myid:2] - INFO  [Thread-20:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:52,998 [myid:2] - INFO  [Thread-20:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:52,998 [myid:2] - INFO  [Thread-20:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:52,998 [myid:2] - INFO  [Thread-20:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:52,998 [myid:2] - INFO  [Thread-20:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:52,998 [myid:1] - INFO  [Thread-19:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:52,999 [myid:2] - INFO  [Thread-20:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:52,999 [myid:2] - INFO  [Thread-20:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:53,000 [myid:2] - INFO  [Thread-20:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:53,000 [myid:2] - INFO  [Thread-20:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:53,001 [myid:1] - INFO  [Thread-19:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:53,001 [myid:1] - INFO  [Thread-19:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:53,002 [myid:2] - INFO  [Thread-20:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:53,002 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:53,003 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:37:53,003 [myid:2] - INFO  [Thread-20:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:53,003 [myid:2] - INFO  [Thread-20:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:53,005 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:53,005 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:37:53,006 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22018
2020-03-18 17:37:53,007 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,007 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60907
2020-03-18 17:37:53,007 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,008 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:53,008 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,008 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,008 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,009 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,009 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,210 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:53,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:53,212 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:53,212 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4115556179254801237.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4115556179254801237.junit.dir/data/version-2
2020-03-18 17:37:53,212 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 209 MS
2020-03-18 17:37:53,211 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:53,212 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:53,213 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:53,214 [myid:1] - WARN  [LeaderConnector-/127.0.0.1:22016:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:22016
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,216 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:53,216 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:53,216 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2
2020-03-18 17:37:53,216 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 211 MS
2020-03-18 17:37:53,217 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:53,217 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:53,220 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 3 ms
2020-03-18 17:37:53,245 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:53,247 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60916
2020-03-18 17:37:53,320 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22016:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22016
2020-03-18 17:37:53,321 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60921:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22015:22018:participant;0.0.0.0:22021
2020-03-18 17:37:53,324 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:53,325 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60921:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:53,325 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60921:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:53,325 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:60921:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:37:53,326 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:53,327 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:53,327 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:53,328 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:53,331 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:37:53,331 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:53,331 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:53,332 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:53,332 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:53,332 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:53,333 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:53,333 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:53,333 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:53,334 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:53,334 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@115] - Starting ObserverMaster
2020-03-18 17:37:53,500 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:37:53,501 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60926
2020-03-18 17:37:53,502 [myid:1] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:37:53,502 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:53,503 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60927
2020-03-18 17:37:53,503 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:53,504 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:53,504 [myid:] - INFO  [Thread-23:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test822510871937613856.junit.dir/zoo.cfg
2020-03-18 17:37:53,504 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22023 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:37:53,505 [myid:] - INFO  [Thread-23:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22023
2020-03-18 17:37:53,505 [myid:] - INFO  [Thread-23:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:53,505 [myid:] - INFO  [Thread-23:QuorumPeerConfig@482] - observerMasterPort is 22024
2020-03-18 17:37:53,505 [myid:] - INFO  [Thread-23:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:53,506 [myid:] - WARN  [Thread-23:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:53,506 [myid:3] - WARN  [Thread-23:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:37:53,506 [myid:3] - INFO  [Thread-23:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:53,506 [myid:3] - INFO  [Thread-23:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:53,506 [myid:3] - INFO  [Thread-23:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:53,507 [myid:3] - INFO  [Thread-23:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:53,507 [myid:3] - ERROR [Thread-23:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,507 [myid:3] - WARN  [Thread-23:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,507 [myid:3] - INFO  [Thread-23:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:53,507 [myid:3] - INFO  [Thread-23:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@5bf8f086
2020-03-18 17:37:53,508 [myid:3] - INFO  [Thread-23:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:53,508 [myid:3] - WARN  [Thread-23:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:53,508 [myid:3] - INFO  [Thread-23:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:53,508 [myid:3] - INFO  [Thread-23:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22023
2020-03-18 17:37:53,508 [myid:3] - INFO  [Thread-23:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:53,510 [myid:3] - INFO  [Thread-23:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:53,510 [myid:3] - INFO  [Thread-23:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:53,510 [myid:3] - INFO  [Thread-23:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:53,510 [myid:3] - INFO  [Thread-23:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:53,510 [myid:3] - INFO  [Thread-23:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:53,511 [myid:3] - INFO  [Thread-23:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22024,/127.0.0.1:22024,
2020-03-18 17:37:53,512 [myid:3] - INFO  [Thread-23:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:53,512 [myid:3] - INFO  [Thread-23:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:53,512 [myid:3] - INFO  [Thread-23:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:53,512 [myid:3] - INFO  [Thread-23:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:53,512 [myid:3] - INFO  [Thread-23:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:53,512 [myid:3] - INFO  [Thread-23:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:53,512 [myid:3] - INFO  [Thread-23:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:53,513 [myid:3] - INFO  [Thread-23:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:37:53,513 [myid:3] - INFO  [Thread-23:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test822510871937613856.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:53,514 [myid:3] - INFO  [Thread-23:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:37:53,514 [myid:3] - INFO  [Thread-23:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:53,515 [myid:3] - INFO  [Thread-23:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:37:53,516 [myid:3] - INFO  [Thread-23:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:53,517 [myid:3] - INFO  [Thread-23:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:53,518 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22020:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22020
2020-03-18 17:37:53,518 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:53,518 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:53,519 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60929
2020-03-18 17:37:53,520 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:60930
2020-03-18 17:37:53,522 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,522 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,522 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:53,522 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test822510871937613856.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test822510871937613856.junit.dir/data/version-2
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:53,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:53,524 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:22024
2020-03-18 17:37:53,524 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22024:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22024
2020-03-18 17:37:53,525 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60932:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22017:22020:observer;0.0.0.0:22023
2020-03-18 17:37:53,527 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:37:53,527 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60932:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:53,527 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60932:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:37:53,527 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:60932:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 3
2020-03-18 17:37:53,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:37:53,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:37:53,530 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:53,532 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:53,533 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:37:53,533 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:53,533 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:53,534 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:37:53,755 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:37:53,756 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:60935
2020-03-18 17:37:53,756 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:53,757 [myid:] - INFO  [main:ObserverMasterTest@290] - port 22024 22024
2020-03-18 17:37:53,757 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22023 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@42f93a98
2020-03-18 17:37:53,757 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:53,758 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:53,759 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22023.
2020-03-18 17:37:53,759 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:53,760 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:60936, server: localhost/127.0.0.1:22023
2020-03-18 17:37:53,765 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:53,765 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:37:53,765 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:53,766 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015c0ac50000
2020-03-18 17:37:53,766 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015c0ac50000
2020-03-18 17:37:53,766 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015c0ac50000
2020-03-18 17:37:53,767 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:37:53,768 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22023, session id = 0x300015c0ac50000, negotiated timeout = 30000
2020-03-18 17:37:53,768 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:53,780 [myid:] - INFO  [main:ObserverMasterTest@307] - Shutting down server 2
2020-03-18 17:37:53,781 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled)
2020-03-18 17:37:53,781 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:37:53,781 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:37:53,781 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:37:53,781 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22016:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,781 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:37:53,782 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:53,782 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:53,782 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:37:53,783 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:37:53,783 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:37:53,783 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:37:53,783 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:37:53,783 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:37:53,783 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:37:53,784 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:53,784 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:53,783 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:53,784 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:53,786 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:60921:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60921 ********
2020-03-18 17:37:53,786 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:60921:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:37:53,786 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:37:53,787 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:37:53,786 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:37:53,786 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:37:53,788 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:37:53,788 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:37:53,788 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60932:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:60932 ********
2020-03-18 17:37:53,788 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:60932:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:37:53,788 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22024). Was connected for 263ms. Sync state: true
2020-03-18 17:37:53,788 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:37:53,788 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:53,788 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:53,789 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:53,789 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:53,788 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:37:53,790 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:37:53,790 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:53,790 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:53,791 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:53,790 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:37:53,791 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:37:53,789 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:53,789 [myid:127.0.0.1:22023] - WARN  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1272] - Session 0x300015c0ac50000 for sever localhost/127.0.0.1:22023, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015c0ac50000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:53,789 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:53,789 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:53,792 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:37:53,792 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:37:53,792 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:37:53,791 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:37:53,791 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled)
2020-03-18 17:37:53,790 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:53,793 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:53,793 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:37:53,790 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22016). Was connected for 469ms. Sync state: true
2020-03-18 17:37:53,793 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled) to exit thread
2020-03-18 17:37:53,792 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:37:53,792 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:37:53,793 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:53,793 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:37:53,793 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:37:53,793 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:37:53,793 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:37:53,793 [myid:] - INFO  [main:ObserverMasterTest@315] - Server 2 down
2020-03-18 17:37:53,793 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:53,793 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:37:53,794 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:53,794 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:37:53,794 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:37:53,794 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:37:53,794 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:37:53,794 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:37:53,794 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:37:53,794 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:53,794 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:37:53,794 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:37:53,795 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:53,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:37:53,795 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:37:53,796 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:53,796 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:53,796 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:53,796 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:37:53,796 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:53,796 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:53,796 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:53,796 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:37:53,796 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:37:53,796 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:37:53,796 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x100000003
2020-03-18 17:37:53,796 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@258] - Waiting for 7 ms before reconnecting with the leader
2020-03-18 17:37:53,797 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,798 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,798 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,805 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:53,805 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:37:53,806 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,807 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,807 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,808 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,808 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:53,809 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:53,867 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:53,867 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:53,867 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:53,867 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:53,867 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:53,867 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:53,892 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:37:53,892 [myid:] - INFO  [main:ObserverMasterTest@321] - Latch returned
2020-03-18 17:37:54,000 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):FastLeaderElection@966] - Notification time out: 400
2020-03-18 17:37:54,001 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:54,001 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,001 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,010 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FastLeaderElection@966] - Notification time out: 400
2020-03-18 17:37:54,011 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,011 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,012 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:54,405 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):FastLeaderElection@966] - Notification time out: 800
2020-03-18 17:37:54,406 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,406 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,407 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:54,417 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FastLeaderElection@966] - Notification time out: 800
2020-03-18 17:37:54,418 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,418 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22019
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:54,418 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,048 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22023.
2020-03-18 17:37:55,048 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:55,049 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61036, server: localhost/127.0.0.1:22023
2020-03-18 17:37:55,049 [myid:3] - WARN  [NIOWorkerThread-5:NIOServerCnxn@373] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:544)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:332)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:55,050 [myid:127.0.0.1:22023] - WARN  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1272] - Session 0x300015c0ac50000 for sever localhost/127.0.0.1:22023, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015c0ac50000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:55,151 [myid:] - INFO  [main:ObserverMasterTest@326] - Connection loss exception caught - ensemble not quorate (this is expected)
2020-03-18 17:37:55,152 [myid:] - INFO  [main:ObserverMasterTest@331] - Restarting server 2
2020-03-18 17:37:55,152 [myid:] - INFO  [main:ObserverMasterTest@337] - Waiting for server 2 to come up
2020-03-18 17:37:55,152 [myid:] - INFO  [Thread-25:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/zoo.cfg
2020-03-18 17:37:55,152 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:55,152 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22022 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:37:55,153 [myid:] - INFO  [Thread-25:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22022
2020-03-18 17:37:55,153 [myid:] - INFO  [Thread-25:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:37:55,153 [myid:] - INFO  [Thread-25:QuorumPeerConfig@482] - observerMasterPort is 22024
2020-03-18 17:37:55,153 [myid:] - INFO  [Thread-25:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:37:55,153 [myid:] - WARN  [Thread-25:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:37:55,154 [myid:2] - INFO  [Thread-25:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:37:55,154 [myid:2] - INFO  [Thread-25:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:37:55,154 [myid:2] - INFO  [Thread-25:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:37:55,154 [myid:2] - INFO  [Thread-25:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:37:55,154 [myid:2] - ERROR [Thread-25:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:55,154 [myid:2] - WARN  [Thread-25:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:55,154 [myid:2] - INFO  [Thread-25:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:37:55,154 [myid:2] - INFO  [Thread-25:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@4253b27a
2020-03-18 17:37:55,155 [myid:2] - INFO  [Thread-25:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:37:55,155 [myid:2] - WARN  [Thread-25:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:37:55,155 [myid:2] - INFO  [Thread-25:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:37:55,155 [myid:2] - INFO  [Thread-25:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22022
2020-03-18 17:37:55,155 [myid:2] - INFO  [Thread-25:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:37:55,155 [myid:2] - INFO  [Thread-25:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:37:55,156 [myid:2] - INFO  [Thread-25:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22024,/127.0.0.1:22024,
2020-03-18 17:37:55,157 [myid:2] - INFO  [Thread-25:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:37:55,157 [myid:2] - INFO  [Thread-25:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:37:55,157 [myid:2] - INFO  [Thread-25:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:37:55,157 [myid:2] - INFO  [Thread-25:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:37:55,157 [myid:2] - INFO  [Thread-25:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:37:55,157 [myid:2] - INFO  [Thread-25:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:37:55,157 [myid:2] - INFO  [Thread-25:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:37:55,158 [myid:2] - INFO  [Thread-25:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2/snapshot.0
2020-03-18 17:37:55,158 [myid:2] - INFO  [Thread-25:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:37:55,159 [myid:2] - INFO  [Thread-25:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:37:55,159 [myid:2] - INFO  [Thread-25:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000003, digest is 9402121467
2020-03-18 17:37:55,160 [myid:2] - INFO  [Thread-25:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:37:55,161 [myid:2] - INFO  [Thread-25:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:37:55,161 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22019
2020-03-18 17:37:55,162 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:37:55,162 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x100000003
2020-03-18 17:37:55,163 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22018:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:61040
2020-03-18 17:37:55,164 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,164 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,164 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,165 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,165 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,166 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,166 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,167 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,220 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FastLeaderElection@966] - Notification time out: 1600
2020-03-18 17:37:55,221 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22019:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:61046
2020-03-18 17:37:55,223 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,225 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,230 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,230 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:55,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:37:55,368 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:37:55,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:37:55,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:55,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:55,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:55,368 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:37:55,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:55,368 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:55,368 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:55,369 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:55,370 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:55,369 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 207 MS
2020-03-18 17:37:55,370 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:55,370 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:55,370 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4115556179254801237.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4115556179254801237.junit.dir/data/version-2
2020-03-18 17:37:55,370 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 1574 MS
2020-03-18 17:37:55,371 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:37:55,372 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3074758868560260148.junit.dir/data/version-2/snapshot.100000003
2020-03-18 17:37:55,374 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:37:55,375 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:37:55,377 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22016:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22016
2020-03-18 17:37:55,378 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61056:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22015:22018:participant;0.0.0.0:22021
2020-03-18 17:37:55,381 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61056:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:55,381 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:37:55,381 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61056:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:55,381 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61056:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 1
2020-03-18 17:37:55,382 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:37:55,382 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:55,382 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:37:55,383 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:55,384 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x200000000
2020-03-18 17:37:55,384 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:55,385 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:55,385 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:37:55,386 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:37:55,386 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:55,386 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:37:55,386 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:55,386 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:55,387 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:37:55,387 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@115] - Starting ObserverMaster
2020-03-18 17:37:55,403 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:37:55,405 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:61058
2020-03-18 17:37:55,405 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:37:55,407 [myid:] - INFO  [main:ObserverMasterTest@342] - Server 2 started, waiting for latch
2020-03-18 17:37:56,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:56,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:37:56,522 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:37:56,522 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:37:56,737 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22023.
2020-03-18 17:37:56,737 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:56,737 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61190, server: localhost/127.0.0.1:22023
2020-03-18 17:37:56,738 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:544)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:332)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:56,738 [myid:127.0.0.1:22023] - WARN  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1272] - Session 0x300015c0ac50000 for sever localhost/127.0.0.1:22023, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015c0ac50000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:56,835 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FastLeaderElection@966] - Notification time out: 3200
2020-03-18 17:37:56,836 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:56,836 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:37:56,837 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:37:56,838 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test822510871937613856.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test822510871937613856.junit.dir/data/version-2
2020-03-18 17:37:56,838 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:37:56,838 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:37:56,839 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22024
2020-03-18 17:37:56,840 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22024:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22024
2020-03-18 17:37:56,841 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61195:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22017:22020:observer;0.0.0.0:22023
2020-03-18 17:37:56,843 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:37:56,843 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61195:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:37:56,843 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61195:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:37:56,843 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61195:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 3
2020-03-18 17:37:56,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:37:56,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:37:56,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:37:56,847 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:37:56,848 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:37:56,848 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:37:56,848 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:37:56,849 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:37:58,081 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22023.
2020-03-18 17:37:58,081 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:58,082 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61262, server: localhost/127.0.0.1:22023
2020-03-18 17:37:58,082 [myid:3] - INFO  [NIOWorkerThread-7:Learner@137] - Revalidating client: 0x300015c0ac50000
2020-03-18 17:37:58,085 [myid:127.0.0.1:22023] - INFO  [main-SendThread(127.0.0.1:22023):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22023, session id = 0x300015c0ac50000, negotiated timeout = 30000
2020-03-18 17:37:58,085 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:58,085 [myid:] - INFO  [main:ObserverMasterTest@352] - perform a revalidation test
2020-03-18 17:37:58,086 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22025 from range 21993 - 24685.
2020-03-18 17:37:58,086 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22026 from range 21993 - 24685.
2020-03-18 17:37:58,086 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22025,127.0.0.1:22026 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@42f93a98
2020-03-18 17:37:58,086 [myid:] - INFO  [Thread-29:PortForwarder@186] - accepting socket local:22025 to:22022
2020-03-18 17:37:58,087 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:37:58,087 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:37:58,091 [myid:127.0.0.1:22026] - INFO  [main-SendThread(127.0.0.1:22026):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22026.
2020-03-18 17:37:58,091 [myid:127.0.0.1:22026] - INFO  [main-SendThread(127.0.0.1:22026):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:58,091 [myid:127.0.0.1:22026] - WARN  [main-SendThread(127.0.0.1:22026):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:22026, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:58,195 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22025.
2020-03-18 17:37:58,196 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:58,196 [myid:] - INFO  [Thread-29:PortForwarder@188] - accepted: local:22025 from:61291 to:22022
2020-03-18 17:37:58,196 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61291, server: localhost/127.0.0.1:22025
2020-03-18 17:37:58,196 [myid:] - INFO  [Thread-29:PortForwarder@210] - connected: local:22025 from:61291 to:22022
2020-03-18 17:37:58,197 [myid:] - INFO  [Thread-29:PortForwarder@186] - accepting socket local:22025 to:22022
2020-03-18 17:37:58,198 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.200000001
2020-03-18 17:37:58,198 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@170] - Got zxid 0x200000001 expected 0x1
2020-03-18 17:37:58,199 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015c12030000
2020-03-18 17:37:58,199 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015c12030000
2020-03-18 17:37:58,200 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015c12030000
2020-03-18 17:37:58,202 [myid:127.0.0.1:22025] - INFO  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22025, session id = 0x200015c12030000, negotiated timeout = 30000
2020-03-18 17:37:58,202 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:37:58,209 [myid:] - INFO  [Thread-30:PortForwarder@186] - accepting socket local:22026 to:22023
2020-03-18 17:37:58,210 [myid:127.0.0.1:22025] - WARN  [main-SendThread(127.0.0.1:22025):ClientCnxn$SendThread@1272] - Session 0x200015c12030000 for sever localhost/127.0.0.1:22025, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015c12030000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:37:58,210 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=61291,localport=22025]-->Socket[addr=localhost/127.0.0.1,port=22022,localport=61292]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=61291,localport=22025]
2020-03-18 17:37:58,211 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22022,localport=61292]-->Socket[addr=/127.0.0.1,port=61291,localport=22025]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22022,localport=61292]
2020-03-18 17:37:58,211 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@364] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:61292, session = 0x200015c12030000
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:37:58,314 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:37:58,499 [myid:127.0.0.1:22026] - INFO  [main-SendThread(127.0.0.1:22026):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22026.
2020-03-18 17:37:58,499 [myid:127.0.0.1:22026] - INFO  [main-SendThread(127.0.0.1:22026):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:37:58,499 [myid:127.0.0.1:22026] - INFO  [main-SendThread(127.0.0.1:22026):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61316, server: localhost/127.0.0.1:22026
2020-03-18 17:37:58,499 [myid:] - INFO  [Thread-30:PortForwarder@188] - accepted: local:22026 from:61316 to:22023
2020-03-18 17:37:58,500 [myid:] - INFO  [Thread-30:PortForwarder@210] - connected: local:22026 from:61316 to:22023
2020-03-18 17:37:58,500 [myid:] - INFO  [Thread-30:PortForwarder@186] - accepting socket local:22026 to:22023
2020-03-18 17:37:58,500 [myid:3] - INFO  [NIOWorkerThread-1:Learner@137] - Revalidating client: 0x200015c12030000
2020-03-18 17:37:58,501 [myid:127.0.0.1:22026] - INFO  [main-SendThread(127.0.0.1:22026):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22026, session id = 0x200015c12030000, negotiated timeout = 30000
2020-03-18 17:37:58,502 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:03,215 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015c12030000
2020-03-18 17:38:03,218 [myid:] - ERROR [Socket[addr=localhost/127.0.0.1,port=22023,localport=61317]-->Socket[addr=/127.0.0.1,port=61316,localport=22026]:PortForwarder$PortForwardWorker@135] - Unexpected exception
java.io.IOException: read -1
	at org.apache.zookeeper.server.util.PortForwarder$PortForwardWorker.run(PortForwarder.java:121)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:03,219 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22023,localport=61317]-->Socket[addr=/127.0.0.1,port=61316,localport=22026]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22023,localport=61317]
2020-03-18 17:38:03,219 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=61316,localport=22026]-->Socket[addr=localhost/127.0.0.1,port=22023,localport=61317]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=61316,localport=22026]
2020-03-18 17:38:03,323 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015c12030000 closed
2020-03-18 17:38:03,323 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:03,323 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015c12030000
2020-03-18 17:38:03,324 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:03,324 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015c0ac50000
2020-03-18 17:38:03,426 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:03,427 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015c0ac50000 closed
2020-03-18 17:38:03,427 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled)
2020-03-18 17:38:03,427 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015c0ac50000
2020-03-18 17:38:03,427 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:03,428 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:03,428 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:03,428 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:03,428 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:03,428 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:61056:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:03,428 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:03,429 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:03,429 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:03,429 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:61056:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:61056 ********
2020-03-18 17:38:03,429 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22016). Was connected for 8052ms. Sync state: true
2020-03-18 17:38:03,429 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:03,429 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:03,429 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:61195:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:61195 ********
2020-03-18 17:38:03,429 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:03,429 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:03,429 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22024). Was connected for 6588ms. Sync state: true
2020-03-18 17:38:03,430 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:03,430 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:03,429 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:61195:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:03,430 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:03,430 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:03,430 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:03,430 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:03,431 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:03,431 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:03,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:03,431 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:03,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:03,431 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:03,431 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:03,431 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:03,431 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:03,432 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:03,432 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:03,432 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:03,432 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:03,432 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22021:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:03,432 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:03,433 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:03,433 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:03,433 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:03,433 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,433 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,434 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,434 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,434 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,433 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:03,433 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,433 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:03,435 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:03,435 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:03,434 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:03,435 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:03,434 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled)
2020-03-18 17:38:03,434 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,436 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,434 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:03,436 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:03,436 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22021)(secure=disabled) to exit thread
2020-03-18 17:38:03,437 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled)
2020-03-18 17:38:03,437 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:03,437 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:03,435 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@258] - Waiting for 70 ms before reconnecting with the leader
2020-03-18 17:38:03,435 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:03,437 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22016:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:03,437 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:03,438 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:03,437 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:03,436 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:03,438 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:03,438 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:03,438 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:03,438 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:03,439 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:03,439 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:03,439 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:03,439 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:03,439 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:03,440 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:03,439 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:03,440 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:03,441 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:03,442 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:03,442 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:03,442 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22022:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:03,443 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:03,443 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:03,443 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:03,443 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:03,443 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:03,444 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:03,444 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,445 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,445 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,445 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,445 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled)
2020-03-18 17:38:03,444 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:03,446 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:03,446 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22022)(secure=disabled) to exit thread
2020-03-18 17:38:03,445 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:03,447 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:03,446 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled)
2020-03-18 17:38:03,447 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:03,447 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:03,448 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22023:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:03,448 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):Observer@262] - Interrupted while waiting
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Observer.waitForReconnectDelayHelper(Observer.java:260)
	at org.apache.zookeeper.server.quorum.Observer.waitForObserverElectionDelay(Observer.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1447)
2020-03-18 17:38:03,448 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:03,449 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:03,450 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled)
2020-03-18 17:38:03,450 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22023)(secure=disabled) to exit thread
2020-03-18 17:38:03,450 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22021
2020-03-18 17:38:03,450 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22022
2020-03-18 17:38:03,451 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22023
2020-03-18 17:38:03,451 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:38:03,451 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testObserver[0]
2020-03-18 17:38:03,451 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testObserver[0]
2020-03-18 17:38:03,452 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testInOrderCommits[0]
2020-03-18 17:38:03,452 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22027 from range 21993 - 24685.
2020-03-18 17:38:03,452 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22028 from range 21993 - 24685.
2020-03-18 17:38:03,452 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22029 from range 21993 - 24685.
2020-03-18 17:38:03,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22030 from range 21993 - 24685.
2020-03-18 17:38:03,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22031 from range 21993 - 24685.
2020-03-18 17:38:03,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22032 from range 21993 - 24685.
2020-03-18 17:38:03,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22033 from range 21993 - 24685.
2020-03-18 17:38:03,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22034 from range 21993 - 24685.
2020-03-18 17:38:03,453 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22035 from range 21993 - 24685.
2020-03-18 17:38:03,454 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22036 from range 21993 - 24685.
2020-03-18 17:38:03,454 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6340332289561047871.junit.dir clientPort = 22033 adminServerPort = 8080
2020-03-18 17:38:03,458 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2658391175604693604.junit.dir clientPort = 22034 adminServerPort = 8080
2020-03-18 17:38:03,461 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4103134247230131905.junit.dir clientPort = 22035 adminServerPort = 8080
2020-03-18 17:38:03,464 [myid:] - INFO  [Thread-31:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6340332289561047871.junit.dir/zoo.cfg
2020-03-18 17:38:03,464 [myid:] - INFO  [Thread-32:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2658391175604693604.junit.dir/zoo.cfg
2020-03-18 17:38:03,464 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22033
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-31:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22033
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-31:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-31:QuorumPeerConfig@482] - observerMasterPort is 22036
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-31:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-32:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22034
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-32:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-32:QuorumPeerConfig@482] - observerMasterPort is 22036
2020-03-18 17:38:03,465 [myid:] - INFO  [Thread-32:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:03,465 [myid:] - WARN  [Thread-31:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:03,465 [myid:] - WARN  [Thread-32:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:03,465 [myid:1] - INFO  [Thread-31:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:03,465 [myid:1] - INFO  [Thread-31:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:03,465 [myid:1] - INFO  [Thread-31:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:03,466 [myid:2] - INFO  [Thread-32:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:03,466 [myid:2] - INFO  [Thread-32:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:03,466 [myid:2] - INFO  [Thread-32:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:03,466 [myid:2] - INFO  [Thread-32:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:03,466 [myid:2] - ERROR [Thread-32:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:03,466 [myid:2] - WARN  [Thread-32:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:03,466 [myid:2] - INFO  [Thread-32:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:03,466 [myid:2] - INFO  [Thread-32:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@531b272f
2020-03-18 17:38:03,467 [myid:2] - INFO  [Thread-32:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:03,465 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22033 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:03,467 [myid:2] - WARN  [Thread-32:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:03,466 [myid:1] - INFO  [Thread-31:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:03,467 [myid:2] - INFO  [Thread-32:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:03,467 [myid:1] - ERROR [Thread-31:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:03,467 [myid:1] - WARN  [Thread-31:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:03,467 [myid:1] - INFO  [Thread-31:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:03,467 [myid:2] - INFO  [Thread-32:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22034
2020-03-18 17:38:03,468 [myid:1] - INFO  [Thread-31:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@fa0bf72
2020-03-18 17:38:03,468 [myid:2] - INFO  [Thread-32:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:03,468 [myid:1] - INFO  [Thread-31:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:03,468 [myid:1] - WARN  [Thread-31:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:03,468 [myid:1] - INFO  [Thread-31:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:03,468 [myid:2] - INFO  [Thread-32:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:03,468 [myid:1] - INFO  [Thread-31:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22033
2020-03-18 17:38:03,468 [myid:2] - INFO  [Thread-32:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:03,468 [myid:2] - INFO  [Thread-32:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:03,469 [myid:1] - INFO  [Thread-31:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22036,/127.0.0.1:22036,
2020-03-18 17:38:03,469 [myid:1] - INFO  [Thread-31:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:03,469 [myid:1] - INFO  [Thread-31:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:03,469 [myid:1] - INFO  [Thread-31:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:03,469 [myid:1] - INFO  [Thread-31:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:03,469 [myid:2] - INFO  [Thread-32:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:03,470 [myid:2] - INFO  [Thread-32:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:03,469 [myid:1] - INFO  [Thread-31:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:03,470 [myid:2] - INFO  [Thread-32:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:03,470 [myid:2] - INFO  [Thread-32:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:03,470 [myid:2] - INFO  [Thread-32:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:03,470 [myid:2] - INFO  [Thread-32:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:03,470 [myid:2] - INFO  [Thread-32:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:03,470 [myid:1] - INFO  [Thread-31:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22036,/127.0.0.1:22036,
2020-03-18 17:38:03,471 [myid:2] - INFO  [Thread-32:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:03,471 [myid:2] - INFO  [Thread-32:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2658391175604693604.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:03,471 [myid:1] - INFO  [Thread-31:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:03,472 [myid:2] - INFO  [Thread-32:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:03,472 [myid:1] - INFO  [Thread-31:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6340332289561047871.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:03,472 [myid:2] - INFO  [Thread-32:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:03,472 [myid:1] - INFO  [Thread-31:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:03,472 [myid:1] - INFO  [Thread-31:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:03,473 [myid:2] - INFO  [Thread-32:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:03,473 [myid:1] - INFO  [Thread-31:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:03,474 [myid:2] - INFO  [Thread-32:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:03,474 [myid:2] - INFO  [Thread-32:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:03,475 [myid:1] - INFO  [Thread-31:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:03,475 [myid:1] - INFO  [Thread-31:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:03,475 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22031:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22031
2020-03-18 17:38:03,475 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22030:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22030
2020-03-18 17:38:03,476 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:03,476 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:03,476 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:38:03,476 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:38:03,477 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22030:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:61729
2020-03-18 17:38:03,477 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22031:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:61730
2020-03-18 17:38:03,477 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (2, 1)
2020-03-18 17:38:03,477 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:03,478 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:03,478 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,478 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,478 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:03,479 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1266] - Exception when using channel: for id 1 my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1209)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1259)
2020-03-18 17:38:03,479 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22030:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:61731
2020-03-18 17:38:03,479 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:03,479 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:03,480 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:03,480 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:03,481 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:03,481 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:03,482 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:03,482 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:03,684 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:03,684 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:03,684 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:03,684 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:03,684 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:03,684 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6340332289561047871.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6340332289561047871.junit.dir/data/version-2
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 209 MS
2020-03-18 17:38:03,685 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:03,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:03,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:03,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:03,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:03,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:03,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:03,686 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:03,687 [myid:1] - WARN  [LeaderConnector-/127.0.0.1:22028:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:22028
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2658391175604693604.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2658391175604693604.junit.dir/data/version-2
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 211 MS
2020-03-18 17:38:03,687 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:03,688 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2658391175604693604.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:03,689 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:38:03,719 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22033
2020-03-18 17:38:03,721 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:61743
2020-03-18 17:38:03,788 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22028:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22028
2020-03-18 17:38:03,789 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61745:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22027:22030:participant;0.0.0.0:22033
2020-03-18 17:38:03,792 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:03,792 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61745:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:03,792 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61745:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:03,793 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:61745:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:38:03,794 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:03,794 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:03,794 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:03,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:03,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:38:03,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:03,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:03,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:03,799 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:03,799 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:03,799 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:03,799 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:03,799 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:03,800 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:03,800 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Follower@115] - Starting ObserverMaster
2020-03-18 17:38:03,972 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22033
2020-03-18 17:38:03,973 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:61752
2020-03-18 17:38:03,973 [myid:1] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:38:03,975 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22034
2020-03-18 17:38:03,979 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:61753
2020-03-18 17:38:03,979 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:03,981 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22033 sessionTimeout=30000 watcher=null
2020-03-18 17:38:03,981 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:03,981 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:03,983 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22033.
2020-03-18 17:38:03,983 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:03,983 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61754, server: localhost/127.0.0.1:22033
2020-03-18 17:38:03,985 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:03,985 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:38:03,985 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:03,986 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x100015c32de0000
2020-03-18 17:38:03,986 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x100015c32de0000
2020-03-18 17:38:03,988 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22033, session id = 0x100015c32de0000, negotiated timeout = 30000
2020-03-18 17:38:03,988 [myid:] - ERROR [main-EventThread:ClientCnxn$EventThread@578] - Error while calling watcher 
java.lang.NullPointerException
	at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:576)
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:551)
2020-03-18 17:38:04,004 [myid:1] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x100015c32de0000
2020-03-18 17:38:04,107 [myid:] - ERROR [main-EventThread:ClientCnxn$EventThread@578] - Error while calling watcher 
java.lang.NullPointerException
	at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:576)
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:551)
2020-03-18 17:38:04,107 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x100015c32de0000
2020-03-18 17:38:04,107 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x100015c32de0000 closed
2020-03-18 17:38:04,107 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22035
2020-03-18 17:38:04,107 [myid:] - INFO  [Thread-35:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4103134247230131905.junit.dir/zoo.cfg
2020-03-18 17:38:04,108 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22035 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:04,108 [myid:] - INFO  [Thread-35:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22035
2020-03-18 17:38:04,108 [myid:] - INFO  [Thread-35:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:04,108 [myid:] - INFO  [Thread-35:QuorumPeerConfig@482] - observerMasterPort is 22036
2020-03-18 17:38:04,108 [myid:] - INFO  [Thread-35:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:04,109 [myid:] - WARN  [Thread-35:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:04,109 [myid:3] - WARN  [Thread-35:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:38:04,109 [myid:3] - INFO  [Thread-35:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:04,109 [myid:3] - INFO  [Thread-35:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:04,109 [myid:3] - INFO  [Thread-35:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:04,109 [myid:3] - INFO  [Thread-35:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:04,109 [myid:3] - ERROR [Thread-35:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:04,109 [myid:3] - WARN  [Thread-35:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:04,110 [myid:3] - INFO  [Thread-35:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:04,110 [myid:3] - INFO  [Thread-35:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@391802cd
2020-03-18 17:38:04,110 [myid:3] - INFO  [Thread-35:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:04,110 [myid:3] - WARN  [Thread-35:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:04,110 [myid:3] - INFO  [Thread-35:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:04,110 [myid:3] - INFO  [Thread-35:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22035
2020-03-18 17:38:04,111 [myid:3] - INFO  [Thread-35:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:04,111 [myid:3] - INFO  [Thread-35:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:04,111 [myid:3] - INFO  [Thread-35:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:04,111 [myid:3] - INFO  [Thread-35:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:04,111 [myid:3] - INFO  [Thread-35:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:04,111 [myid:3] - INFO  [Thread-35:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:04,111 [myid:3] - INFO  [Thread-35:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22036,/127.0.0.1:22036,
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:04,112 [myid:3] - INFO  [Thread-35:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:04,113 [myid:3] - INFO  [Thread-35:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:04,113 [myid:3] - INFO  [Thread-35:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:04,113 [myid:3] - INFO  [Thread-35:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:04,113 [myid:3] - INFO  [Thread-35:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:04,113 [myid:3] - INFO  [Thread-35:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:04,114 [myid:3] - INFO  [Thread-35:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4103134247230131905.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:04,114 [myid:3] - INFO  [Thread-35:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:04,114 [myid:3] - INFO  [Thread-35:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:04,115 [myid:3] - INFO  [Thread-35:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:04,117 [myid:3] - INFO  [Thread-35:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:04,117 [myid:3] - INFO  [Thread-35:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:04,118 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22032:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22032
2020-03-18 17:38:04,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:04,118 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:04,119 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22030:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:61760
2020-03-18 17:38:04,121 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22031:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:61761
2020-03-18 17:38:04,122 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:04,123 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4103134247230131905.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4103134247230131905.junit.dir/data/version-2
2020-03-18 17:38:04,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:04,125 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:04,125 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Observer@162] - Observing new leader sid=1 addr=/127.0.0.1:22036
2020-03-18 17:38:04,126 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22036:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22036
2020-03-18 17:38:04,128 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61763:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22029:22032:observer;0.0.0.0:22035
2020-03-18 17:38:04,130 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:04,130 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61763:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:04,131 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61763:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x10000000c minCommittedLog=0x100000001 lastProcessedZxid=0x10000000c peerLastZxid=0x0
2020-03-18 17:38:04,131 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:61763:ZKDatabase@387] - Unable to find proposals from txnlog for zxid: 0x0
2020-03-18 17:38:04,132 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61763:ObserverMaster@318] - finished syncing observer from retained commit queue: sid 3, queue head 0x100000001, queue tail 0x10000000c, sync position 0x10000000c, num packets used 0, num bytes used 76
2020-03-18 17:38:04,132 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:61763:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x10000000c, send zxid of db as 0x10000000c, 1 concurrent snapshot sync, snapshot sync was not exempt from throttle
2020-03-18 17:38:04,132 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - snap
2020-03-18 17:38:04,133 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x10000000c
2020-03-18 17:38:04,134 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:04,134 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:04,135 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:04,136 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x10000000c to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4103134247230131905.junit.dir/data/version-2/snapshot.10000000c
2020-03-18 17:38:04,138 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:38:04,139 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:04,139 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:04,140 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:04,140 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:04,140 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:04,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:04,360 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22035
2020-03-18 17:38:04,361 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:61775
2020-03-18 17:38:04,361 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:04,362 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22033 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@5bb21b69
2020-03-18 17:38:04,362 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:04,363 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:04,364 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22033.
2020-03-18 17:38:04,364 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:04,365 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61776, server: localhost/127.0.0.1:22033
2020-03-18 17:38:04,366 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x100015c32de0001
2020-03-18 17:38:04,366 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x100015c32de0001
2020-03-18 17:38:04,366 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.10000000d
2020-03-18 17:38:04,366 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x100015c32de0001
2020-03-18 17:38:04,367 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22033, session id = 0x100015c32de0001, negotiated timeout = 30000
2020-03-18 17:38:04,367 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:04,370 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22035 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@5bb21b69
2020-03-18 17:38:04,371 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:04,371 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:04,371 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22033 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@5bb21b69
2020-03-18 17:38:04,372 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:04,372 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:04,374 [myid:] - INFO  [main:ObserverMasterTest@453] - ASYNC WRITES
2020-03-18 17:38:04,374 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22033.
2020-03-18 17:38:04,374 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:04,375 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower0
2020-03-18 17:38:04,375 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61777, server: localhost/127.0.0.1:22033
2020-03-18 17:38:04,375 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs0
2020-03-18 17:38:04,376 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs100
2020-03-18 17:38:04,376 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower100
2020-03-18 17:38:04,377 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x100015c32de0002
2020-03-18 17:38:04,377 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs200
2020-03-18 17:38:04,377 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x100015c32de0002
2020-03-18 17:38:04,377 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x100015c32de0002
2020-03-18 17:38:04,378 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower200
2020-03-18 17:38:04,378 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs300
2020-03-18 17:38:04,378 [myid:127.0.0.1:22033] - INFO  [main-SendThread(127.0.0.1:22033):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22033, session id = 0x100015c32de0002, negotiated timeout = 30000
2020-03-18 17:38:04,378 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:04,378 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs400
2020-03-18 17:38:04,379 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower300
2020-03-18 17:38:04,379 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs500
2020-03-18 17:38:04,380 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower400
2020-03-18 17:38:04,380 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs600
2020-03-18 17:38:04,381 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower500
2020-03-18 17:38:04,381 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs700
2020-03-18 17:38:04,382 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower600
2020-03-18 17:38:04,382 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower700
2020-03-18 17:38:04,383 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower800
2020-03-18 17:38:04,382 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs800
2020-03-18 17:38:04,384 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower900
2020-03-18 17:38:04,384 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs900
2020-03-18 17:38:04,384 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1000
2020-03-18 17:38:04,385 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1000
2020-03-18 17:38:04,385 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1100
2020-03-18 17:38:04,385 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1100
2020-03-18 17:38:04,386 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1200
2020-03-18 17:38:04,387 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1300
2020-03-18 17:38:04,387 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1400
2020-03-18 17:38:04,388 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1500
2020-03-18 17:38:04,389 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1600
2020-03-18 17:38:04,390 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1700
2020-03-18 17:38:04,390 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1200
2020-03-18 17:38:04,390 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1800
2020-03-18 17:38:04,391 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1300
2020-03-18 17:38:04,391 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1900
2020-03-18 17:38:04,392 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1400
2020-03-18 17:38:04,392 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2000
2020-03-18 17:38:04,393 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1500
2020-03-18 17:38:04,393 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2100
2020-03-18 17:38:04,394 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2200
2020-03-18 17:38:04,394 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1600
2020-03-18 17:38:04,395 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2300
2020-03-18 17:38:04,395 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower0
2020-03-18 17:38:04,395 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1700
2020-03-18 17:38:04,396 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2400
2020-03-18 17:38:04,396 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1800
2020-03-18 17:38:04,396 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2500
2020-03-18 17:38:04,397 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2600
2020-03-18 17:38:04,397 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1900
2020-03-18 17:38:04,397 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2700
2020-03-18 17:38:04,398 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2800
2020-03-18 17:38:04,399 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2900
2020-03-18 17:38:04,399 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3000
2020-03-18 17:38:04,400 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3100
2020-03-18 17:38:04,400 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2000
2020-03-18 17:38:04,400 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3200
2020-03-18 17:38:04,401 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2100
2020-03-18 17:38:04,401 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3300
2020-03-18 17:38:04,402 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3400
2020-03-18 17:38:04,402 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2200
2020-03-18 17:38:04,402 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3500
2020-03-18 17:38:04,403 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2300
2020-03-18 17:38:04,403 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3600
2020-03-18 17:38:04,404 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2400
2020-03-18 17:38:04,404 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3700
2020-03-18 17:38:04,404 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2500
2020-03-18 17:38:04,405 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3800
2020-03-18 17:38:04,405 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2600
2020-03-18 17:38:04,406 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3900
2020-03-18 17:38:04,406 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2700
2020-03-18 17:38:04,406 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4000
2020-03-18 17:38:04,407 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2800
2020-03-18 17:38:04,407 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4100
2020-03-18 17:38:04,408 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2900
2020-03-18 17:38:04,408 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4200
2020-03-18 17:38:04,409 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3000
2020-03-18 17:38:04,409 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4300
2020-03-18 17:38:04,409 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3100
2020-03-18 17:38:04,409 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4400
2020-03-18 17:38:04,410 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3200
2020-03-18 17:38:04,411 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4500
2020-03-18 17:38:04,411 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3300
2020-03-18 17:38:04,411 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4600
2020-03-18 17:38:04,412 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3400
2020-03-18 17:38:04,412 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4700
2020-03-18 17:38:04,413 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3500
2020-03-18 17:38:04,413 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4800
2020-03-18 17:38:04,414 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4900
2020-03-18 17:38:04,414 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3600
2020-03-18 17:38:04,415 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5000
2020-03-18 17:38:04,415 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3700
2020-03-18 17:38:04,415 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5100
2020-03-18 17:38:04,416 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3800
2020-03-18 17:38:04,416 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5200
2020-03-18 17:38:04,417 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3900
2020-03-18 17:38:04,417 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5300
2020-03-18 17:38:04,417 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4000
2020-03-18 17:38:04,418 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5400
2020-03-18 17:38:04,418 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4100
2020-03-18 17:38:04,418 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5500
2020-03-18 17:38:04,419 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4200
2020-03-18 17:38:04,419 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5600
2020-03-18 17:38:04,420 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4300
2020-03-18 17:38:04,420 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5700
2020-03-18 17:38:04,421 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4400
2020-03-18 17:38:04,421 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5800
2020-03-18 17:38:04,422 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4500
2020-03-18 17:38:04,422 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5900
2020-03-18 17:38:04,422 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4600
2020-03-18 17:38:04,422 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6000
2020-03-18 17:38:04,423 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4700
2020-03-18 17:38:04,423 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6100
2020-03-18 17:38:04,424 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4800
2020-03-18 17:38:04,424 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6200
2020-03-18 17:38:04,425 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4900
2020-03-18 17:38:04,425 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6300
2020-03-18 17:38:04,426 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6400
2020-03-18 17:38:04,426 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5000
2020-03-18 17:38:04,426 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6500
2020-03-18 17:38:04,427 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5100
2020-03-18 17:38:04,427 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6600
2020-03-18 17:38:04,428 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6700
2020-03-18 17:38:04,428 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5200
2020-03-18 17:38:04,428 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6800
2020-03-18 17:38:04,429 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5300
2020-03-18 17:38:04,429 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6900
2020-03-18 17:38:04,429 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5400
2020-03-18 17:38:04,430 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7000
2020-03-18 17:38:04,430 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5500
2020-03-18 17:38:04,431 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7100
2020-03-18 17:38:04,431 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5600
2020-03-18 17:38:04,432 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7200
2020-03-18 17:38:04,432 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5700
2020-03-18 17:38:04,432 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7300
2020-03-18 17:38:04,433 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5800
2020-03-18 17:38:04,433 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7400
2020-03-18 17:38:04,434 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7500
2020-03-18 17:38:04,434 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7600
2020-03-18 17:38:04,434 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5900
2020-03-18 17:38:04,435 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7700
2020-03-18 17:38:04,435 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6000
2020-03-18 17:38:04,436 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7800
2020-03-18 17:38:04,436 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6100
2020-03-18 17:38:04,437 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7900
2020-03-18 17:38:04,437 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6200
2020-03-18 17:38:04,437 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8000
2020-03-18 17:38:04,438 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8100
2020-03-18 17:38:04,438 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6300
2020-03-18 17:38:04,439 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8200
2020-03-18 17:38:04,439 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6400
2020-03-18 17:38:04,440 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8300
2020-03-18 17:38:04,440 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6500
2020-03-18 17:38:04,440 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8400
2020-03-18 17:38:04,441 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8500
2020-03-18 17:38:04,442 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6600
2020-03-18 17:38:04,442 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8600
2020-03-18 17:38:04,442 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6700
2020-03-18 17:38:04,443 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8700
2020-03-18 17:38:04,443 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8800
2020-03-18 17:38:04,444 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6800
2020-03-18 17:38:04,444 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8900
2020-03-18 17:38:04,445 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9000
2020-03-18 17:38:04,445 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6900
2020-03-18 17:38:04,445 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9100
2020-03-18 17:38:04,446 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7000
2020-03-18 17:38:04,446 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9200
2020-03-18 17:38:04,447 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9300
2020-03-18 17:38:04,447 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7100
2020-03-18 17:38:04,447 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9400
2020-03-18 17:38:04,448 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7200
2020-03-18 17:38:04,448 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9500
2020-03-18 17:38:04,449 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7300
2020-03-18 17:38:04,449 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9600
2020-03-18 17:38:04,449 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7400
2020-03-18 17:38:04,450 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9700
2020-03-18 17:38:04,451 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7500
2020-03-18 17:38:04,451 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9800
2020-03-18 17:38:04,451 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7600
2020-03-18 17:38:04,452 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9900
2020-03-18 17:38:04,452 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7700
2020-03-18 17:38:04,452 [myid:] - INFO  [Thread-37:ObserverMasterTest$AsyncWriter@734] - async wrote /obs10000
2020-03-18 17:38:04,453 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7800
2020-03-18 17:38:04,454 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7900
2020-03-18 17:38:04,455 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8000
2020-03-18 17:38:04,456 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8100
2020-03-18 17:38:04,641 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower100
2020-03-18 17:38:04,709 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8200
2020-03-18 17:38:04,709 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8300
2020-03-18 17:38:04,709 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8400
2020-03-18 17:38:04,709 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8500
2020-03-18 17:38:04,709 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8600
2020-03-18 17:38:04,709 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8700
2020-03-18 17:38:04,710 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8800
2020-03-18 17:38:04,710 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8900
2020-03-18 17:38:04,710 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9000
2020-03-18 17:38:04,710 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9100
2020-03-18 17:38:04,711 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9200
2020-03-18 17:38:04,711 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9300
2020-03-18 17:38:04,712 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9400
2020-03-18 17:38:04,712 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9500
2020-03-18 17:38:04,712 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9600
2020-03-18 17:38:04,714 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9700
2020-03-18 17:38:04,714 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9800
2020-03-18 17:38:04,714 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9900
2020-03-18 17:38:04,714 [myid:] - INFO  [Thread-38:ObserverMasterTest$AsyncWriter@734] - async wrote /follower10000
2020-03-18 17:38:04,838 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower200
2020-03-18 17:38:04,967 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower300
2020-03-18 17:38:04,967 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower400
2020-03-18 17:38:05,088 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower500
2020-03-18 17:38:05,211 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower600
2020-03-18 17:38:05,218 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower700
2020-03-18 17:38:05,223 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower800
2020-03-18 17:38:05,391 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower900
2020-03-18 17:38:05,680 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1000
2020-03-18 17:38:05,702 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1100
2020-03-18 17:38:05,751 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1200
2020-03-18 17:38:05,758 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1300
2020-03-18 17:38:05,843 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:05,843 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:05,843 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:05,843 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:05,843 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:05,843 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:05,873 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1400
2020-03-18 17:38:05,878 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1500
2020-03-18 17:38:05,884 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1600
2020-03-18 17:38:05,889 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1700
2020-03-18 17:38:05,894 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1800
2020-03-18 17:38:06,271 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1900
2020-03-18 17:38:06,287 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2000
2020-03-18 17:38:06,293 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2100
2020-03-18 17:38:06,458 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2200
2020-03-18 17:38:06,476 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2300
2020-03-18 17:38:06,480 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2400
2020-03-18 17:38:06,482 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2500
2020-03-18 17:38:06,484 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2600
2020-03-18 17:38:06,486 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2700
2020-03-18 17:38:06,488 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2800
2020-03-18 17:38:06,491 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2900
2020-03-18 17:38:06,492 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3000
2020-03-18 17:38:06,494 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3100
2020-03-18 17:38:06,496 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3200
2020-03-18 17:38:06,498 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3300
2020-03-18 17:38:06,715 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3400
2020-03-18 17:38:06,717 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3500
2020-03-18 17:38:06,718 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3600
2020-03-18 17:38:06,720 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3700
2020-03-18 17:38:06,724 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3800
2020-03-18 17:38:06,840 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3900
2020-03-18 17:38:06,840 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4000
2020-03-18 17:38:06,840 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4100
2020-03-18 17:38:06,870 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4200
2020-03-18 17:38:06,871 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4300
2020-03-18 17:38:06,873 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4400
2020-03-18 17:38:06,983 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4500
2020-03-18 17:38:06,984 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4600
2020-03-18 17:38:06,987 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4700
2020-03-18 17:38:06,988 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4800
2020-03-18 17:38:07,256 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4900
2020-03-18 17:38:07,259 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5000
2020-03-18 17:38:07,260 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5100
2020-03-18 17:38:07,262 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5200
2020-03-18 17:38:07,264 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5300
2020-03-18 17:38:07,294 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5400
2020-03-18 17:38:07,299 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5500
2020-03-18 17:38:07,362 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5600
2020-03-18 17:38:07,373 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5700
2020-03-18 17:38:07,374 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5800
2020-03-18 17:38:07,375 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5900
2020-03-18 17:38:07,377 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6000
2020-03-18 17:38:07,383 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6100
2020-03-18 17:38:07,601 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6200
2020-03-18 17:38:07,620 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6300
2020-03-18 17:38:07,621 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6400
2020-03-18 17:38:07,636 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6500
2020-03-18 17:38:07,652 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6600
2020-03-18 17:38:07,658 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6700
2020-03-18 17:38:07,663 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6800
2020-03-18 17:38:07,666 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6900
2020-03-18 17:38:07,669 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7000
2020-03-18 17:38:07,674 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7100
2020-03-18 17:38:07,677 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7200
2020-03-18 17:38:07,681 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7300
2020-03-18 17:38:07,868 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7400
2020-03-18 17:38:07,884 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7500
2020-03-18 17:38:07,942 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7600
2020-03-18 17:38:07,944 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7700
2020-03-18 17:38:08,017 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7800
2020-03-18 17:38:08,021 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7900
2020-03-18 17:38:08,049 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8000
2020-03-18 17:38:08,215 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8100
2020-03-18 17:38:08,216 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8200
2020-03-18 17:38:08,217 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8300
2020-03-18 17:38:08,219 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8400
2020-03-18 17:38:08,223 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8500
2020-03-18 17:38:08,228 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8600
2020-03-18 17:38:08,289 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8700
2020-03-18 17:38:08,294 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8800
2020-03-18 17:38:08,296 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8900
2020-03-18 17:38:08,305 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9000
2020-03-18 17:38:08,308 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9100
2020-03-18 17:38:08,311 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9200
2020-03-18 17:38:08,313 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9300
2020-03-18 17:38:08,316 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9400
2020-03-18 17:38:08,318 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9500
2020-03-18 17:38:08,321 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9600
2020-03-18 17:38:08,325 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9700
2020-03-18 17:38:08,327 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9800
2020-03-18 17:38:08,329 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9900
2020-03-18 17:38:08,332 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower10000
2020-03-18 17:38:09,374 [myid:127.0.0.1:22035] - INFO  [main-SendThread(127.0.0.1:22035):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22035.
2020-03-18 17:38:09,374 [myid:127.0.0.1:22035] - INFO  [main-SendThread(127.0.0.1:22035):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:09,375 [myid:127.0.0.1:22035] - INFO  [main-SendThread(127.0.0.1:22035):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:61960, server: localhost/127.0.0.1:22035
2020-03-18 17:38:09,377 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015c34320000
2020-03-18 17:38:09,377 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015c34320000
2020-03-18 17:38:09,377 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015c34320000
2020-03-18 17:38:09,378 [myid:127.0.0.1:22035] - INFO  [main-SendThread(127.0.0.1:22035):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22035, session id = 0x300015c34320000, negotiated timeout = 30000
2020-03-18 17:38:09,379 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:09,383 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs0
2020-03-18 17:38:09,714 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs100
2020-03-18 17:38:09,721 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs200
2020-03-18 17:38:09,731 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs300
2020-03-18 17:38:09,942 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs400
2020-03-18 17:38:09,944 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs500
2020-03-18 17:38:09,984 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs600
2020-03-18 17:38:09,995 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs700
2020-03-18 17:38:09,997 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs800
2020-03-18 17:38:10,000 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs900
2020-03-18 17:38:10,004 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1000
2020-03-18 17:38:10,006 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1100
2020-03-18 17:38:10,008 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1200
2020-03-18 17:38:10,009 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1300
2020-03-18 17:38:10,011 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1400
2020-03-18 17:38:10,012 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1500
2020-03-18 17:38:10,014 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1600
2020-03-18 17:38:10,015 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1700
2020-03-18 17:38:10,017 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1800
2020-03-18 17:38:10,019 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1900
2020-03-18 17:38:10,020 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2000
2020-03-18 17:38:10,022 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2100
2020-03-18 17:38:10,085 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2200
2020-03-18 17:38:10,191 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2300
2020-03-18 17:38:10,192 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2400
2020-03-18 17:38:10,195 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2500
2020-03-18 17:38:10,196 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2600
2020-03-18 17:38:10,198 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2700
2020-03-18 17:38:10,239 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2800
2020-03-18 17:38:10,240 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2900
2020-03-18 17:38:10,241 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3000
2020-03-18 17:38:10,242 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3100
2020-03-18 17:38:10,243 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3200
2020-03-18 17:38:10,244 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3300
2020-03-18 17:38:10,245 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3400
2020-03-18 17:38:10,273 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3500
2020-03-18 17:38:10,323 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3600
2020-03-18 17:38:10,337 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3700
2020-03-18 17:38:10,339 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3800
2020-03-18 17:38:10,517 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3900
2020-03-18 17:38:10,518 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4000
2020-03-18 17:38:10,518 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4100
2020-03-18 17:38:10,526 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4200
2020-03-18 17:38:10,526 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4300
2020-03-18 17:38:10,527 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4400
2020-03-18 17:38:10,528 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4500
2020-03-18 17:38:10,530 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4600
2020-03-18 17:38:10,531 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4700
2020-03-18 17:38:10,550 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4800
2020-03-18 17:38:10,552 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4900
2020-03-18 17:38:10,567 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5000
2020-03-18 17:38:10,740 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5100
2020-03-18 17:38:10,741 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5200
2020-03-18 17:38:10,742 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5300
2020-03-18 17:38:10,744 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5400
2020-03-18 17:38:10,794 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5500
2020-03-18 17:38:10,795 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5600
2020-03-18 17:38:10,811 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5700
2020-03-18 17:38:10,818 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5800
2020-03-18 17:38:10,836 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5900
2020-03-18 17:38:10,968 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6000
2020-03-18 17:38:10,972 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6100
2020-03-18 17:38:11,023 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6200
2020-03-18 17:38:11,055 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6300
2020-03-18 17:38:11,134 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6400
2020-03-18 17:38:11,146 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6500
2020-03-18 17:38:11,153 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6600
2020-03-18 17:38:11,162 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6700
2020-03-18 17:38:11,177 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6800
2020-03-18 17:38:11,194 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6900
2020-03-18 17:38:11,203 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7000
2020-03-18 17:38:11,243 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7100
2020-03-18 17:38:11,272 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7200
2020-03-18 17:38:11,290 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7300
2020-03-18 17:38:11,304 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7400
2020-03-18 17:38:11,318 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7500
2020-03-18 17:38:11,333 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7600
2020-03-18 17:38:11,378 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7700
2020-03-18 17:38:11,414 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7800
2020-03-18 17:38:11,434 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7900
2020-03-18 17:38:11,675 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8000
2020-03-18 17:38:11,700 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8100
2020-03-18 17:38:11,747 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8200
2020-03-18 17:38:11,751 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8300
2020-03-18 17:38:11,751 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8400
2020-03-18 17:38:11,751 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8500
2020-03-18 17:38:11,751 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8600
2020-03-18 17:38:11,753 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8700
2020-03-18 17:38:11,753 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8800
2020-03-18 17:38:11,788 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8900
2020-03-18 17:38:11,793 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9000
2020-03-18 17:38:11,802 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9100
2020-03-18 17:38:11,803 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9200
2020-03-18 17:38:11,808 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9300
2020-03-18 17:38:11,820 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9400
2020-03-18 17:38:11,834 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9500
2020-03-18 17:38:11,921 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9600
2020-03-18 17:38:11,923 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9700
2020-03-18 17:38:11,926 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9800
2020-03-18 17:38:11,929 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9900
2020-03-18 17:38:11,933 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs10000
2020-03-18 17:38:11,933 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015c34320000
2020-03-18 17:38:12,036 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:12,036 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015c34320000 closed
2020-03-18 17:38:12,036 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015c34320000
2020-03-18 17:38:12,037 [myid:1] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x100015c32de0002
2020-03-18 17:38:12,143 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:12,143 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x100015c32de0002 closed
2020-03-18 17:38:12,143 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:12,143 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x100015c32de0002
2020-03-18 17:38:12,145 [myid:1] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x100015c32de0001
2020-03-18 17:38:12,246 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x100015c32de0001 closed
2020-03-18 17:38:12,246 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:12,247 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled)
2020-03-18 17:38:12,247 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:12,247 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x100015c32de0001
2020-03-18 17:38:12,247 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:12,248 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:12,248 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:61745:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:12,248 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:12,248 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:61745:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:61745 ********
2020-03-18 17:38:12,248 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:12,248 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:12,249 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:12,249 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:12,249 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:12,249 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:61763:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:61763 ********
2020-03-18 17:38:12,249 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:12,249 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:61763:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:12,249 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:12,249 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22028). Was connected for 8460ms. Sync state: true
2020-03-18 17:38:12,249 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:12,249 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:12,253 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:12,253 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22036). Was connected for 8125ms. Sync state: true
2020-03-18 17:38:12,253 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:12,253 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:12,253 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:12,253 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:12,253 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:12,253 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:12,253 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:12,253 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:12,253 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:12,254 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:12,254 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:12,323 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:12,325 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:12,365 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:12,365 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:12,378 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:12,378 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:12,381 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22033:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:12,381 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:12,383 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:12,388 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,388 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,390 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:12,392 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:12,396 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,396 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:12,396 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,411 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:12,412 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,412 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,412 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:12,424 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:12,424 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,425 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,425 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:12,425 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:12,426 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:12,426 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:12,426 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:12,426 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:12,426 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled)
2020-03-18 17:38:12,426 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:12,426 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Observer@258] - Waiting for 147 ms before reconnecting with the leader
2020-03-18 17:38:12,426 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22033)(secure=disabled) to exit thread
2020-03-18 17:38:12,427 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled)
2020-03-18 17:38:12,427 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:12,427 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:12,427 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22028:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:12,428 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:12,428 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:12,428 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:12,428 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:12,429 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:12,429 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:12,429 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:12,429 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:12,429 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:12,430 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:12,429 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:12,430 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:12,430 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:12,430 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:12,431 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:12,551 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:12,551 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22034:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:12,551 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:12,552 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:12,552 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:12,552 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:12,552 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:12,552 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:12,553 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:12,554 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,554 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,554 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:12,554 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:12,554 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:12,555 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,555 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,555 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:12,555 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled)
2020-03-18 17:38:12,556 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22034)(secure=disabled) to exit thread
2020-03-18 17:38:12,556 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled)
2020-03-18 17:38:12,556 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:12,556 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22035:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:12,556 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:12,557 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):Observer@262] - Interrupted while waiting
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Observer.waitForReconnectDelayHelper(Observer.java:260)
	at org.apache.zookeeper.server.quorum.Observer.waitForObserverElectionDelay(Observer.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1447)
2020-03-18 17:38:12,557 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:12,557 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:12,558 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled)
2020-03-18 17:38:12,558 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22035)(secure=disabled) to exit thread
2020-03-18 17:38:12,558 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22033
2020-03-18 17:38:12,559 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22034
2020-03-18 17:38:12,559 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22035
2020-03-18 17:38:12,560 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:38:12,560 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testInOrderCommits[0]
2020-03-18 17:38:12,560 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testInOrderCommits[0]
2020-03-18 17:38:12,561 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testRevalidation[0]
2020-03-18 17:38:12,561 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22037 from range 21993 - 24685.
2020-03-18 17:38:12,561 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22038 from range 21993 - 24685.
2020-03-18 17:38:12,561 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22039 from range 21993 - 24685.
2020-03-18 17:38:12,562 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22040 from range 21993 - 24685.
2020-03-18 17:38:12,562 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22041 from range 21993 - 24685.
2020-03-18 17:38:12,562 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22042 from range 21993 - 24685.
2020-03-18 17:38:12,563 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22043 from range 21993 - 24685.
2020-03-18 17:38:12,563 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22044 from range 21993 - 24685.
2020-03-18 17:38:12,563 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22045 from range 21993 - 24685.
2020-03-18 17:38:12,563 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22046 from range 21993 - 24685.
2020-03-18 17:38:12,564 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4141248969435031850.junit.dir clientPort = 22043 adminServerPort = 8080
2020-03-18 17:38:12,567 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8941090429651996931.junit.dir clientPort = 22044 adminServerPort = 8080
2020-03-18 17:38:12,569 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5155556384718413740.junit.dir clientPort = 22045 adminServerPort = 8080
2020-03-18 17:38:12,571 [myid:] - INFO  [Thread-39:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4141248969435031850.junit.dir/zoo.cfg
2020-03-18 17:38:12,571 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22043
2020-03-18 17:38:12,571 [myid:] - INFO  [Thread-40:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8941090429651996931.junit.dir/zoo.cfg
2020-03-18 17:38:12,571 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22043 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-39:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22043
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-39:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-39:QuorumPeerConfig@482] - observerMasterPort is 22046
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-39:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-40:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22044
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-40:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-40:QuorumPeerConfig@482] - observerMasterPort is 22046
2020-03-18 17:38:12,572 [myid:] - INFO  [Thread-40:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:12,572 [myid:] - WARN  [Thread-39:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:12,572 [myid:] - WARN  [Thread-40:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:12,572 [myid:1] - INFO  [Thread-39:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:12,573 [myid:1] - INFO  [Thread-39:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:12,573 [myid:1] - INFO  [Thread-39:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:12,573 [myid:1] - INFO  [Thread-39:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:12,573 [myid:2] - INFO  [Thread-40:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:12,573 [myid:2] - INFO  [Thread-40:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:12,573 [myid:2] - INFO  [Thread-40:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:12,573 [myid:2] - INFO  [Thread-40:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:12,573 [myid:1] - ERROR [Thread-39:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:12,573 [myid:2] - ERROR [Thread-40:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:12,573 [myid:1] - WARN  [Thread-39:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:12,573 [myid:1] - INFO  [Thread-39:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:12,573 [myid:2] - WARN  [Thread-40:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:12,573 [myid:2] - INFO  [Thread-40:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:12,573 [myid:1] - INFO  [Thread-39:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@6db9c733
2020-03-18 17:38:12,573 [myid:2] - INFO  [Thread-40:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@53064653
2020-03-18 17:38:12,574 [myid:2] - INFO  [Thread-40:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:12,574 [myid:1] - INFO  [Thread-39:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:12,574 [myid:2] - WARN  [Thread-40:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:12,574 [myid:1] - WARN  [Thread-39:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:12,574 [myid:2] - INFO  [Thread-40:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:12,574 [myid:1] - INFO  [Thread-39:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:12,574 [myid:2] - INFO  [Thread-40:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22044
2020-03-18 17:38:12,574 [myid:1] - INFO  [Thread-39:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22043
2020-03-18 17:38:12,574 [myid:2] - INFO  [Thread-40:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:12,574 [myid:1] - INFO  [Thread-39:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:12,575 [myid:2] - INFO  [Thread-40:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:12,575 [myid:2] - INFO  [Thread-40:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:12,575 [myid:1] - INFO  [Thread-39:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:12,575 [myid:2] - INFO  [Thread-40:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:12,576 [myid:1] - INFO  [Thread-39:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:12,576 [myid:1] - INFO  [Thread-39:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:12,576 [myid:1] - INFO  [Thread-39:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:12,576 [myid:1] - INFO  [Thread-39:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:12,576 [myid:1] - INFO  [Thread-39:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22046,/127.0.0.1:22046,
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:12,576 [myid:2] - INFO  [Thread-40:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22046,/127.0.0.1:22046,
2020-03-18 17:38:12,577 [myid:1] - INFO  [Thread-39:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:12,577 [myid:1] - INFO  [Thread-39:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:12,577 [myid:2] - INFO  [Thread-40:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:12,577 [myid:1] - INFO  [Thread-39:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:12,577 [myid:2] - INFO  [Thread-40:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:12,577 [myid:2] - INFO  [Thread-40:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:12,577 [myid:2] - INFO  [Thread-40:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:12,577 [myid:2] - INFO  [Thread-40:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:12,577 [myid:2] - INFO  [Thread-40:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:12,577 [myid:2] - INFO  [Thread-40:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:12,577 [myid:1] - INFO  [Thread-39:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:12,577 [myid:1] - INFO  [Thread-39:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:12,577 [myid:1] - INFO  [Thread-39:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:12,577 [myid:1] - INFO  [Thread-39:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:12,578 [myid:2] - INFO  [Thread-40:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:12,578 [myid:1] - INFO  [Thread-39:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:12,578 [myid:2] - INFO  [Thread-40:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8941090429651996931.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:12,578 [myid:1] - INFO  [Thread-39:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4141248969435031850.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:12,579 [myid:1] - INFO  [Thread-39:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:12,579 [myid:2] - INFO  [Thread-40:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:12,579 [myid:1] - INFO  [Thread-39:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:12,579 [myid:2] - INFO  [Thread-40:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:12,580 [myid:2] - INFO  [Thread-40:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:12,580 [myid:1] - INFO  [Thread-39:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:12,583 [myid:1] - INFO  [Thread-39:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:12,583 [myid:2] - INFO  [Thread-40:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:12,583 [myid:2] - INFO  [Thread-40:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:12,583 [myid:1] - INFO  [Thread-39:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:12,584 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22041
2020-03-18 17:38:12,585 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:12,585 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:38:12,585 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22040:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22040
2020-03-18 17:38:12,585 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:12,586 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:38:12,586 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22040:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:62123
2020-03-18 17:38:12,587 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:62124
2020-03-18 17:38:12,587 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (2, 1)
2020-03-18 17:38:12,587 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:12,587 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:12,588 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,589 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,589 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:12,589 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:12,589 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:12,589 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:12,590 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1266] - Exception when using channel: for id 1 my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:118)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:134)
	at java.io.DataOutputStream.writeInt(DataOutputStream.java:197)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.send(QuorumCnxManager.java:1209)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1259)
2020-03-18 17:38:12,590 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:12,590 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22040:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:62125
2020-03-18 17:38:12,592 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:12,592 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:12,592 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:12,593 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:12,794 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:12,795 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:12,796 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4141248969435031850.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4141248969435031850.junit.dir/data/version-2
2020-03-18 17:38:12,796 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:38:12,796 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:12,797 [myid:1] - WARN  [LeaderConnector-/127.0.0.1:22038:Learner$LeaderConnector@392] - Unexpected exception, tries=0, remaining init limit=20000, connecting to /127.0.0.1:22038
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:255)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:366)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:324)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:12,797 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:12,797 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8941090429651996931.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8941090429651996931.junit.dir/data/version-2
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 213 MS
2020-03-18 17:38:12,798 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:12,799 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8941090429651996931.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:12,800 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:12,824 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22043
2020-03-18 17:38:12,825 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:62129
2020-03-18 17:38:12,900 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22038:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22038
2020-03-18 17:38:12,901 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:62132:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22037:22040:participant;0.0.0.0:22043
2020-03-18 17:38:12,903 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:12,903 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:62132:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:12,904 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:62132:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:12,904 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:62132:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:38:12,905 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:12,905 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:12,905 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:12,906 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:12,908 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:38:12,908 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:12,908 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:12,910 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:12,911 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:12,911 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:12,911 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:12,911 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:12,911 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:12,912 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:12,912 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Follower@115] - Starting ObserverMaster
2020-03-18 17:38:13,076 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22043
2020-03-18 17:38:13,078 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:62137
2020-03-18 17:38:13,078 [myid:1] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:38:13,078 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22044
2020-03-18 17:38:13,079 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:62138
2020-03-18 17:38:13,079 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:13,080 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22045
2020-03-18 17:38:13,080 [myid:] - INFO  [Thread-43:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5155556384718413740.junit.dir/zoo.cfg
2020-03-18 17:38:13,081 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22045 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:13,081 [myid:] - INFO  [Thread-43:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22045
2020-03-18 17:38:13,081 [myid:] - INFO  [Thread-43:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:13,081 [myid:] - INFO  [Thread-43:QuorumPeerConfig@482] - observerMasterPort is 22046
2020-03-18 17:38:13,081 [myid:] - INFO  [Thread-43:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:13,081 [myid:] - WARN  [Thread-43:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:13,082 [myid:3] - WARN  [Thread-43:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:38:13,082 [myid:3] - INFO  [Thread-43:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:13,082 [myid:3] - INFO  [Thread-43:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:13,082 [myid:3] - INFO  [Thread-43:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:13,082 [myid:3] - INFO  [Thread-43:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:13,082 [myid:3] - ERROR [Thread-43:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:13,083 [myid:3] - WARN  [Thread-43:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:13,083 [myid:3] - INFO  [Thread-43:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:13,083 [myid:3] - INFO  [Thread-43:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@73569118
2020-03-18 17:38:13,083 [myid:3] - INFO  [Thread-43:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:13,083 [myid:3] - WARN  [Thread-43:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:13,084 [myid:3] - INFO  [Thread-43:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:13,084 [myid:3] - INFO  [Thread-43:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22045
2020-03-18 17:38:13,084 [myid:3] - INFO  [Thread-43:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:13,084 [myid:3] - INFO  [Thread-43:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:13,085 [myid:3] - INFO  [Thread-43:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@2260] - Updated learner master list to be /127.0.0.1:22046,/127.0.0.1:22046,
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:13,086 [myid:3] - INFO  [Thread-43:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:13,087 [myid:3] - INFO  [Thread-43:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:13,087 [myid:3] - INFO  [Thread-43:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5155556384718413740.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:13,088 [myid:3] - INFO  [Thread-43:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:13,088 [myid:3] - INFO  [Thread-43:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:13,089 [myid:3] - INFO  [Thread-43:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:13,092 [myid:3] - INFO  [Thread-43:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:13,092 [myid:3] - INFO  [Thread-43:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:13,093 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:13,093 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:13,094 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22040:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:62140
2020-03-18 17:38:13,096 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22042:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22042
2020-03-18 17:38:13,109 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22041:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:62141
2020-03-18 17:38:13,111 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:13,112 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:13,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:13,114 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5155556384718413740.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5155556384718413740.junit.dir/data/version-2
2020-03-18 17:38:13,114 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:13,114 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:13,114 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22046
2020-03-18 17:38:13,115 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22046:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22046
2020-03-18 17:38:13,116 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:62143:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22039:22042:observer;0.0.0.0:22045
2020-03-18 17:38:13,117 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:13,118 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:62143:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:13,118 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:62143:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:13,118 [myid:1] - INFO  [LearnerHandler-/127.0.0.1:62143:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 3
2020-03-18 17:38:13,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:13,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:38:13,119 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:13,123 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:13,123 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:13,123 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:13,123 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:13,124 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:13,127 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:13,127 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:13,127 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:13,134 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:13,134 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:13,134 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:13,334 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22045
2020-03-18 17:38:13,335 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:62144
2020-03-18 17:38:13,335 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:13,337 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22047 from range 21993 - 24685.
2020-03-18 17:38:13,337 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22048 from range 21993 - 24685.
2020-03-18 17:38:13,337 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22047,127.0.0.1:22048 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@23d2a7e8
2020-03-18 17:38:13,337 [myid:] - INFO  [Thread-45:PortForwarder@186] - accepting socket local:22047 to:22044
2020-03-18 17:38:13,338 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:13,338 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:13,341 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22048.
2020-03-18 17:38:13,341 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:13,341 [myid:127.0.0.1:22048] - WARN  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:22048, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:13,445 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22047.
2020-03-18 17:38:13,445 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:13,446 [myid:] - INFO  [Thread-45:PortForwarder@188] - accepted: local:22047 from:62146 to:22044
2020-03-18 17:38:13,446 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:62146, server: localhost/127.0.0.1:22047
2020-03-18 17:38:13,446 [myid:] - INFO  [Thread-45:PortForwarder@210] - connected: local:22047 from:62146 to:22044
2020-03-18 17:38:13,446 [myid:] - INFO  [Thread-45:PortForwarder@186] - accepting socket local:22047 to:22044
2020-03-18 17:38:13,448 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:13,448 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:38:13,448 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:13,449 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015c56770000
2020-03-18 17:38:13,449 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015c56770000
2020-03-18 17:38:13,450 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015c56770000
2020-03-18 17:38:13,450 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:13,451 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22047, session id = 0x200015c56770000, negotiated timeout = 30000
2020-03-18 17:38:13,451 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:13,455 [myid:] - INFO  [Thread-46:PortForwarder@186] - accepting socket local:22048 to:22045
2020-03-18 17:38:13,456 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=62146,localport=22047]-->Socket[addr=localhost/127.0.0.1,port=22044,localport=62147]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=62146,localport=22047]
2020-03-18 17:38:13,456 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22044,localport=62147]-->Socket[addr=/127.0.0.1,port=62146,localport=22047]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22044,localport=62147]
2020-03-18 17:38:13,456 [myid:127.0.0.1:22047] - WARN  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1272] - Session 0x200015c56770000 for sever localhost/127.0.0.1:22047, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015c56770000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:13,456 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@364] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:62147, session = 0x200015c56770000
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:13,557 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:38:14,419 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22048.
2020-03-18 17:38:14,419 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:14,420 [myid:] - INFO  [Thread-46:PortForwarder@188] - accepted: local:22048 from:62154 to:22045
2020-03-18 17:38:14,420 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:62154, server: localhost/127.0.0.1:22048
2020-03-18 17:38:14,421 [myid:] - INFO  [Thread-46:PortForwarder@210] - connected: local:22048 from:62154 to:22045
2020-03-18 17:38:14,421 [myid:] - INFO  [Thread-46:PortForwarder@186] - accepting socket local:22048 to:22045
2020-03-18 17:38:14,425 [myid:3] - INFO  [NIOWorkerThread-2:Learner@137] - Revalidating client: 0x200015c56770000
2020-03-18 17:38:14,428 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22048, session id = 0x200015c56770000, negotiated timeout = 30000
2020-03-18 17:38:14,428 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:16,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:18,459 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=62154,localport=22048]-->Socket[addr=localhost/127.0.0.1,port=22045,localport=62155]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=62154,localport=22048]
2020-03-18 17:38:18,459 [myid:127.0.0.1:22048] - WARN  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1272] - Session 0x200015c56770000 for sever localhost/127.0.0.1:22048, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015c56770000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:18,459 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@364] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:62155, session = 0x200015c56770000
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:18,459 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22045,localport=62155]-->Socket[addr=/127.0.0.1,port=62154,localport=22048]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22045,localport=62155]
2020-03-18 17:38:18,560 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:38:19,073 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22047.
2020-03-18 17:38:19,073 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:19,074 [myid:127.0.0.1:22047] - WARN  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1272] - Session 0x200015c56770000 for sever localhost/127.0.0.1:22047, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:20,371 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22048.
2020-03-18 17:38:20,371 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:20,799 [myid:127.0.0.1:22048] - WARN  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1272] - Session 0x200015c56770000 for sever localhost/127.0.0.1:22048, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:21,379 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22047.
2020-03-18 17:38:21,379 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:21,379 [myid:127.0.0.1:22047] - WARN  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1272] - Session 0x200015c56770000 for sever localhost/127.0.0.1:22047, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:23,099 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22048.
2020-03-18 17:38:23,099 [myid:127.0.0.1:22048] - INFO  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:23,100 [myid:127.0.0.1:22048] - WARN  [main-SendThread(127.0.0.1:22048):ClientCnxn$SendThread@1272] - Session 0x200015c56770000 for sever localhost/127.0.0.1:22048, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:23,461 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:23,827 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22047.
2020-03-18 17:38:23,827 [myid:127.0.0.1:22047] - INFO  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:23,827 [myid:127.0.0.1:22047] - WARN  [main-SendThread(127.0.0.1:22047):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x200015c56770000.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:23,931 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:23,931 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015c56770000 closed
2020-03-18 17:38:23,931 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled)
2020-03-18 17:38:23,932 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:23,931 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015c56770000
2020-03-18 17:38:23,932 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:62132:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:23,933 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:62132:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:62132 ********
2020-03-18 17:38:23,932 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:23,932 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:23,934 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:23,934 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:23,934 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22038). Was connected for 11033ms. Sync state: true
2020-03-18 17:38:23,935 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:23,936 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:23,936 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:23,936 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:23,937 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:23,936 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:62143:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:62143 ********
2020-03-18 17:38:23,937 [myid:1] - WARN  [LearnerHandler-/127.0.0.1:62143:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:23,936 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:23,937 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22046). Was connected for 10822ms. Sync state: true
2020-03-18 17:38:23,937 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:23,937 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:23,937 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:23,937 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:23,937 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:23,938 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:23,937 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:23,937 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:23,938 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:23,939 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:23,939 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:23,939 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:23,939 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:23,940 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:23,940 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:23,941 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:23,941 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:23,941 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:23,941 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:23,941 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:23,941 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:23,942 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22043:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:23,942 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:23,942 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:23,944 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:23,944 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:23,944 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:23,944 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Observer@258] - Waiting for 177 ms before reconnecting with the leader
2020-03-18 17:38:23,945 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:23,945 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:23,945 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:23,945 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:23,946 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:23,946 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:23,945 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:23,946 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:23,945 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:23,946 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:23,947 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:23,946 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:23,947 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:23,947 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:23,947 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled)
2020-03-18 17:38:23,948 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22043)(secure=disabled) to exit thread
2020-03-18 17:38:23,948 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled)
2020-03-18 17:38:23,948 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:23,948 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:23,948 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:23,947 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:23,949 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22038:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:23,949 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:23,949 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:23,949 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:23,950 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:23,950 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:23,950 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:23,950 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:23,950 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:23,950 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:23,951 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:23,950 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:23,951 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:23,951 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:23,951 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:23,951 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:23,951 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:23,953 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:23,953 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22044:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:23,953 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:23,954 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:23,954 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:23,954 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:23,955 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:23,955 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:23,955 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:23,955 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:23,956 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:23,956 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled)
2020-03-18 17:38:23,955 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:23,956 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:23,955 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:23,957 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:23,956 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:23,956 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22044)(secure=disabled) to exit thread
2020-03-18 17:38:23,957 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:23,957 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled)
2020-03-18 17:38:23,958 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22045:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:23,958 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:23,958 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:23,959 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):Observer@262] - Interrupted while waiting
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Observer.waitForReconnectDelayHelper(Observer.java:260)
	at org.apache.zookeeper.server.quorum.Observer.waitForObserverElectionDelay(Observer.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1447)
2020-03-18 17:38:23,959 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:23,959 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:23,960 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled)
2020-03-18 17:38:23,960 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22045)(secure=disabled) to exit thread
2020-03-18 17:38:23,960 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22043
2020-03-18 17:38:23,961 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22044
2020-03-18 17:38:23,961 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22045
2020-03-18 17:38:23,962 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:38:23,962 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testRevalidation[0]
2020-03-18 17:38:23,962 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testRevalidation[0]
2020-03-18 17:38:23,962 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testLaggingObserverMaster[1]
2020-03-18 17:38:23,962 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22049 from range 21993 - 24685.
2020-03-18 17:38:23,963 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22050 from range 21993 - 24685.
2020-03-18 17:38:23,963 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22051 from range 21993 - 24685.
2020-03-18 17:38:23,963 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22052 from range 21993 - 24685.
2020-03-18 17:38:23,963 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22053 from range 21993 - 24685.
2020-03-18 17:38:23,963 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22054 from range 21993 - 24685.
2020-03-18 17:38:23,964 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22055 from range 21993 - 24685.
2020-03-18 17:38:23,964 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22056 from range 21993 - 24685.
2020-03-18 17:38:23,964 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22057 from range 21993 - 24685.
2020-03-18 17:38:23,964 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22058 from range 21993 - 24685.
2020-03-18 17:38:23,964 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22059 from range 21993 - 24685.
2020-03-18 17:38:23,965 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2511448996601533966.junit.dir clientPort = 22056 adminServerPort = 8080
2020-03-18 17:38:23,970 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3605105795300638975.junit.dir clientPort = 22057 adminServerPort = 8080
2020-03-18 17:38:23,973 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6592792220607113110.junit.dir clientPort = 22058 adminServerPort = 8080
2020-03-18 17:38:23,977 [myid:] - INFO  [Thread-47:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2511448996601533966.junit.dir/zoo.cfg
2020-03-18 17:38:23,977 [myid:] - INFO  [Thread-47:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22056
2020-03-18 17:38:23,977 [myid:] - INFO  [Thread-47:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:23,977 [myid:] - INFO  [Thread-47:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:23,977 [myid:] - INFO  [Thread-47:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:23,978 [myid:] - WARN  [Thread-47:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:23,978 [myid:1] - INFO  [Thread-47:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:23,978 [myid:1] - INFO  [Thread-47:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:23,978 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22056
2020-03-18 17:38:23,978 [myid:] - INFO  [Thread-48:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3605105795300638975.junit.dir/zoo.cfg
2020-03-18 17:38:23,979 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22056 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:23,978 [myid:1] - INFO  [Thread-47:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:23,979 [myid:1] - INFO  [Thread-47:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:23,979 [myid:] - INFO  [Thread-48:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22057
2020-03-18 17:38:23,979 [myid:] - INFO  [Thread-48:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:23,979 [myid:] - INFO  [Thread-48:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:23,979 [myid:] - INFO  [Thread-48:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:23,979 [myid:1] - ERROR [Thread-47:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:23,979 [myid:1] - WARN  [Thread-47:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:23,980 [myid:] - WARN  [Thread-48:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:23,980 [myid:2] - INFO  [Thread-48:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:23,980 [myid:2] - INFO  [Thread-48:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:23,980 [myid:2] - INFO  [Thread-48:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:23,980 [myid:2] - INFO  [Thread-48:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:23,981 [myid:2] - ERROR [Thread-48:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:23,981 [myid:2] - WARN  [Thread-48:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:23,981 [myid:2] - INFO  [Thread-48:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:23,981 [myid:2] - INFO  [Thread-48:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@6ef62e20
2020-03-18 17:38:23,981 [myid:2] - INFO  [Thread-48:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:23,981 [myid:2] - WARN  [Thread-48:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:23,981 [myid:2] - INFO  [Thread-48:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:23,982 [myid:2] - INFO  [Thread-48:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22057
2020-03-18 17:38:23,982 [myid:2] - INFO  [Thread-48:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:23,982 [myid:2] - INFO  [Thread-48:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:23,982 [myid:2] - INFO  [Thread-48:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:23,983 [myid:2] - INFO  [Thread-48:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:23,984 [myid:2] - INFO  [Thread-48:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:23,980 [myid:1] - INFO  [Thread-47:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:23,984 [myid:1] - INFO  [Thread-47:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@36fd6b38
2020-03-18 17:38:23,984 [myid:2] - INFO  [Thread-48:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:23,984 [myid:2] - INFO  [Thread-48:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3605105795300638975.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:23,984 [myid:1] - INFO  [Thread-47:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:23,985 [myid:1] - WARN  [Thread-47:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:23,985 [myid:1] - INFO  [Thread-47:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:23,985 [myid:1] - INFO  [Thread-47:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22056
2020-03-18 17:38:23,985 [myid:1] - INFO  [Thread-47:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:23,985 [myid:2] - INFO  [Thread-48:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:23,985 [myid:2] - INFO  [Thread-48:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:23,986 [myid:1] - INFO  [Thread-47:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:23,987 [myid:1] - INFO  [Thread-47:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:23,987 [myid:1] - INFO  [Thread-47:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:23,987 [myid:1] - INFO  [Thread-47:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:23,987 [myid:1] - INFO  [Thread-47:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:23,987 [myid:1] - INFO  [Thread-47:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:23,987 [myid:1] - INFO  [Thread-47:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:23,987 [myid:2] - INFO  [Thread-48:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:23,987 [myid:1] - INFO  [Thread-47:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:23,988 [myid:1] - INFO  [Thread-47:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2511448996601533966.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:23,988 [myid:1] - INFO  [Thread-47:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:23,988 [myid:1] - INFO  [Thread-47:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:23,989 [myid:2] - INFO  [Thread-48:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:23,990 [myid:1] - INFO  [Thread-47:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:23,990 [myid:2] - INFO  [Thread-48:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:23,991 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22054:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22054
2020-03-18 17:38:23,991 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:23,992 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:38:23,992 [myid:1] - INFO  [Thread-47:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:23,992 [myid:1] - INFO  [Thread-47:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:23,993 [myid:2] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@716] - Cannot open channel to 1 at election address /127.0.0.1:22053
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:23,993 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:23,994 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22053:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22053
2020-03-18 17:38:23,994 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:23,994 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:38:23,996 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22054:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63510
2020-03-18 17:38:23,996 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (2, 1)
2020-03-18 17:38:23,996 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:23,997 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22053:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63511
2020-03-18 17:38:23,998 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:23,998 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:23,998 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:23,998 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:24,200 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:24,201 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:24,201 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:24,201 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:24,201 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:24,201 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:24,201 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:24,201 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:24,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:24,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:24,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:24,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:24,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:24,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:24,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:24,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:24,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:24,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:24,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:24,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2511448996601533966.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2511448996601533966.junit.dir/data/version-2
2020-03-18 17:38:24,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:24,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 209 MS
2020-03-18 17:38:24,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3605105795300638975.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3605105795300638975.junit.dir/data/version-2
2020-03-18 17:38:24,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:24,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 212 MS
2020-03-18 17:38:24,204 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:24,204 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3605105795300638975.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:24,205 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22051:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22051
2020-03-18 17:38:24,205 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:38:24,206 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63591:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22050:22053:participant;0.0.0.0:22056
2020-03-18 17:38:24,209 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:24,209 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63591:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:24,209 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63591:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:24,209 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63591:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:38:24,210 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:24,210 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:24,210 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:24,211 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:24,214 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:38:24,214 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:24,214 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:24,215 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:24,215 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:24,215 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:24,215 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:24,215 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:24,215 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:24,216 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:24,231 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22056
2020-03-18 17:38:24,232 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63592
2020-03-18 17:38:24,232 [myid:1] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:24,232 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22057
2020-03-18 17:38:24,233 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63593
2020-03-18 17:38:24,233 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:24,234 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22057 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@26a7b76d
2020-03-18 17:38:24,234 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:24,235 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:24,236 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22057.
2020-03-18 17:38:24,236 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:24,237 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:63594, server: localhost/127.0.0.1:22057
2020-03-18 17:38:24,238 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:24,238 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:38:24,238 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:24,240 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015c82a00000
2020-03-18 17:38:24,240 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015c82a00000
2020-03-18 17:38:24,241 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22057, session id = 0x200015c82a00000, negotiated timeout = 30000
2020-03-18 17:38:24,241 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:24,249 [myid:2] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015c82a00000
2020-03-18 17:38:24,251 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:24,350 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:24,350 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015c82a00000 closed
2020-03-18 17:38:24,350 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015c82a00000
2020-03-18 17:38:24,351 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22058
2020-03-18 17:38:24,351 [myid:] - INFO  [Thread-51:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6592792220607113110.junit.dir/zoo.cfg
2020-03-18 17:38:24,352 [myid:] - INFO  [Thread-51:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22058
2020-03-18 17:38:24,352 [myid:] - INFO  [Thread-51:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:24,352 [myid:] - INFO  [Thread-51:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:24,352 [myid:] - INFO  [Thread-51:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:24,352 [myid:] - WARN  [Thread-51:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:24,353 [myid:3] - WARN  [Thread-51:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:38:24,353 [myid:3] - INFO  [Thread-51:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:24,353 [myid:3] - INFO  [Thread-51:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:24,353 [myid:3] - INFO  [Thread-51:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:24,353 [myid:3] - INFO  [Thread-51:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:24,353 [myid:3] - ERROR [Thread-51:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:24,353 [myid:3] - WARN  [Thread-51:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:24,353 [myid:3] - INFO  [Thread-51:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:24,353 [myid:3] - INFO  [Thread-51:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@7ad7f1c8
2020-03-18 17:38:24,354 [myid:3] - INFO  [Thread-51:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:24,354 [myid:3] - WARN  [Thread-51:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:24,354 [myid:3] - INFO  [Thread-51:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:24,354 [myid:3] - INFO  [Thread-51:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22058
2020-03-18 17:38:24,354 [myid:3] - INFO  [Thread-51:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:24,356 [myid:3] - INFO  [Thread-51:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:24,357 [myid:3] - INFO  [Thread-51:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:24,358 [myid:3] - INFO  [Thread-51:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:24,358 [myid:3] - INFO  [Thread-51:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6592792220607113110.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:24,359 [myid:3] - INFO  [Thread-51:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:24,360 [myid:3] - INFO  [Thread-51:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:24,361 [myid:3] - INFO  [Thread-51:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:24,365 [myid:3] - INFO  [Thread-51:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:24,365 [myid:3] - INFO  [Thread-51:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:24,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:24,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:24,368 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22055:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22055
2020-03-18 17:38:24,369 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22053:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63607
2020-03-18 17:38:24,372 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22054:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63608
2020-03-18 17:38:24,373 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:24,375 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:24,375 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:24,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:24,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:24,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6592792220607113110.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6592792220607113110.junit.dir/data/version-2
2020-03-18 17:38:24,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:24,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:24,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22051
2020-03-18 17:38:24,472 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63606
2020-03-18 17:38:24,725 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22058
2020-03-18 17:38:24,743 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63616
2020-03-18 17:38:24,805 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22051:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22051
2020-03-18 17:38:24,806 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63623:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22052:22055:observer;0.0.0.0:22058
2020-03-18 17:38:24,807 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:24,807 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63623:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:24,807 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63623:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x10000000c minCommittedLog=0x100000001 lastProcessedZxid=0x10000000c peerLastZxid=0x0
2020-03-18 17:38:24,808 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63623:ZKDatabase@387] - Unable to find proposals from txnlog for zxid: 0x0
2020-03-18 17:38:24,808 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63623:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x10000000c, send zxid of db as 0x10000000c, 1 concurrent snapshot sync, snapshot sync was not exempt from throttle
2020-03-18 17:38:24,808 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - snap
2020-03-18 17:38:24,808 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x10000000c
2020-03-18 17:38:24,809 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:24,809 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:24,810 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:24,811 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x10000000c to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test6592792220607113110.junit.dir/data/version-2/snapshot.10000000c
2020-03-18 17:38:24,813 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:24,814 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:24,814 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:24,814 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:24,814 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:24,815 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:24,997 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22058
2020-03-18 17:38:24,999 [myid:3] - INFO  [NIOWorkerThread-3:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63705
2020-03-18 17:38:24,999 [myid:3] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-03-18 17:38:25,000 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22057 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@26a7b76d
2020-03-18 17:38:25,000 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:25,001 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:25,010 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22057.
2020-03-18 17:38:25,010 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:25,010 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:63706, server: localhost/127.0.0.1:22057
2020-03-18 17:38:25,012 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015c82a00001
2020-03-18 17:38:25,012 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015c82a00001
2020-03-18 17:38:25,012 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015c82a00001
2020-03-18 17:38:25,013 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.10000000d
2020-03-18 17:38:25,013 [myid:127.0.0.1:22057] - INFO  [main-SendThread(127.0.0.1:22057):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22057, session id = 0x200015c82a00001, negotiated timeout = 30000
2020-03-18 17:38:25,013 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:25,026 [myid:] - INFO  [main:ObserverMasterTest@233] - observer zxid 10000001a observer master zxid 10000001a leader zxid 10000001a
2020-03-18 17:38:25,026 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22058
2020-03-18 17:38:25,028 [myid:3] - INFO  [NIOWorkerThread-4:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63707
2020-03-18 17:38:25,028 [myid:3] - INFO  [NIOWorkerThread-4:StatCommand@52] - Stat command output
2020-03-18 17:38:25,028 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22058 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@26a7b76d
2020-03-18 17:38:25,029 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:25,029 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:25,039 [myid:127.0.0.1:22058] - INFO  [main-SendThread(127.0.0.1:22058):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22058.
2020-03-18 17:38:25,039 [myid:127.0.0.1:22058] - INFO  [main-SendThread(127.0.0.1:22058):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:25,039 [myid:127.0.0.1:22058] - INFO  [main-SendThread(127.0.0.1:22058):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:63708, server: localhost/127.0.0.1:22058
2020-03-18 17:38:25,041 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015c84f40000
2020-03-18 17:38:25,041 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015c84f40000
2020-03-18 17:38:25,041 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015c84f40000
2020-03-18 17:38:25,043 [myid:127.0.0.1:22058] - INFO  [main-SendThread(127.0.0.1:22058):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22058, session id = 0x300015c84f40000, negotiated timeout = 30000
2020-03-18 17:38:25,043 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:25,047 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015c84f40000
2020-03-18 17:38:25,111 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:25,111 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:25,116 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:25,116 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:25,116 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:25,120 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:25,151 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:25,151 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015c84f40000
2020-03-18 17:38:25,151 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015c84f40000 closed
2020-03-18 17:38:25,152 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:25,152 [myid:2] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015c82a00001
2020-03-18 17:38:25,254 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015c82a00001 closed
2020-03-18 17:38:25,254 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:25,255 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled)
2020-03-18 17:38:25,255 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:25,255 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015c82a00001
2020-03-18 17:38:25,255 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:25,255 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:25,255 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:25,255 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:63591:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:25,256 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:25,256 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22051). Was connected for 1051ms. Sync state: true
2020-03-18 17:38:25,256 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:25,256 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63591:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:63591 ********
2020-03-18 17:38:25,256 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:25,256 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:25,256 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:25,256 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:25,256 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:25,257 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:25,257 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:25,258 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:25,258 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:25,258 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:25,258 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:25,258 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:25,258 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:25,258 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:25,258 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22056:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:25,260 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:25,260 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:25,260 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:25,261 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:25,261 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,260 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,260 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:25,262 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:25,262 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:25,262 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled)
2020-03-18 17:38:25,261 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:25,263 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,261 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:25,261 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,263 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:25,262 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22056)(secure=disabled) to exit thread
2020-03-18 17:38:25,262 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:25,262 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:25,262 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:25,263 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled)
2020-03-18 17:38:25,263 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:25,263 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:25,264 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:25,264 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22051:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:25,264 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:25,265 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:25,265 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:25,265 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:25,265 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:25,265 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:25,265 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:25,266 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:25,265 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:25,266 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:25,266 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:25,266 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:25,266 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:25,266 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:25,267 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:25,268 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:25,268 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22057:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:25,267 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63623:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:63623 ********
2020-03-18 17:38:25,268 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63623:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:25,268 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22051). Was connected for 463ms. Sync state: true
2020-03-18 17:38:25,268 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:25,269 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:25,269 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:25,269 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:25,269 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:25,269 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:25,269 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:25,270 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:25,270 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled)
2020-03-18 17:38:25,270 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled) to exit thread
2020-03-18 17:38:25,270 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:25,270 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,270 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:25,269 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:25,269 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:25,271 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,270 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:25,271 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:25,270 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:25,270 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:25,271 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:25,271 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:25,271 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:25,271 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:25,271 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:25,271 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22057)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:25,272 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:25,272 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:25,272 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled)
2020-03-18 17:38:25,272 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:25,272 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:25,272 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22058:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:25,272 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:25,273 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:25,273 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:25,273 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:25,273 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:25,273 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:25,274 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:25,274 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled)
2020-03-18 17:38:25,274 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22058)(secure=disabled) to exit thread
2020-03-18 17:38:25,274 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22056
2020-03-18 17:38:25,275 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22057
2020-03-18 17:38:25,275 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22058
2020-03-18 17:38:25,275 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:38:25,276 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testLaggingObserverMaster[1]
2020-03-18 17:38:25,276 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testLaggingObserverMaster[1]
2020-03-18 17:38:25,276 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testAdminCommands[1]
2020-03-18 17:38:25,277 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc3AAtVbmljYXN0UmVmMgAADDE3Mi4xOC4xNC4zNAAA7YDnvGvbvWGVpcCM5EcAAAFw7QGSLIAOAHg=
2020-03-18 17:38:25,282 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22060 from range 21993 - 24685.
2020-03-18 17:38:25,282 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22061 from range 21993 - 24685.
2020-03-18 17:38:25,283 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22062 from range 21993 - 24685.
2020-03-18 17:38:25,283 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22063 from range 21993 - 24685.
2020-03-18 17:38:25,283 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22064 from range 21993 - 24685.
2020-03-18 17:38:25,283 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22065 from range 21993 - 24685.
2020-03-18 17:38:25,283 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22066 from range 21993 - 24685.
2020-03-18 17:38:25,283 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22067 from range 21993 - 24685.
2020-03-18 17:38:25,283 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22068 from range 21993 - 24685.
2020-03-18 17:38:25,284 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22069 from range 21993 - 24685.
2020-03-18 17:38:25,284 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7420793418182768711.junit.dir clientPort = 22066 adminServerPort = 8080
2020-03-18 17:38:25,287 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3435624416036131526.junit.dir clientPort = 22067 adminServerPort = 8080
2020-03-18 17:38:25,289 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir clientPort = 22068 adminServerPort = 8080
2020-03-18 17:38:25,290 [myid:] - INFO  [Thread-54:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7420793418182768711.junit.dir/zoo.cfg
2020-03-18 17:38:25,290 [myid:] - INFO  [Thread-55:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3435624416036131526.junit.dir/zoo.cfg
2020-03-18 17:38:25,290 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22066
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-55:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22067
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-55:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-55:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-55:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:25,291 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22066 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-54:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22066
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-54:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-54:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:25,291 [myid:] - WARN  [Thread-55:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:25,291 [myid:] - INFO  [Thread-54:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:25,291 [myid:2] - INFO  [Thread-55:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:25,291 [myid:2] - INFO  [Thread-55:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:25,291 [myid:2] - INFO  [Thread-55:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:25,291 [myid:] - WARN  [Thread-54:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:25,292 [myid:2] - INFO  [Thread-55:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:25,292 [myid:1] - INFO  [Thread-54:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:25,292 [myid:1] - INFO  [Thread-54:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:25,292 [myid:1] - INFO  [Thread-54:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:25,292 [myid:2] - ERROR [Thread-55:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:25,292 [myid:1] - INFO  [Thread-54:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:25,292 [myid:2] - WARN  [Thread-55:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:25,292 [myid:2] - INFO  [Thread-55:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:25,292 [myid:1] - ERROR [Thread-54:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:25,292 [myid:2] - INFO  [Thread-55:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@780c6c3
2020-03-18 17:38:25,292 [myid:1] - WARN  [Thread-54:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:25,293 [myid:1] - INFO  [Thread-54:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:25,293 [myid:2] - INFO  [Thread-55:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:25,293 [myid:1] - INFO  [Thread-54:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@43c8c6da
2020-03-18 17:38:25,293 [myid:2] - WARN  [Thread-55:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:25,293 [myid:2] - INFO  [Thread-55:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:25,293 [myid:1] - INFO  [Thread-54:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:25,293 [myid:1] - WARN  [Thread-54:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:25,293 [myid:2] - INFO  [Thread-55:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22067
2020-03-18 17:38:25,293 [myid:1] - INFO  [Thread-54:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:25,293 [myid:2] - INFO  [Thread-55:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:25,293 [myid:1] - INFO  [Thread-54:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22066
2020-03-18 17:38:25,293 [myid:1] - INFO  [Thread-54:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:25,294 [myid:1] - INFO  [Thread-54:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:25,294 [myid:1] - INFO  [Thread-54:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,294 [myid:1] - INFO  [Thread-54:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,294 [myid:1] - INFO  [Thread-54:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:25,294 [myid:1] - INFO  [Thread-54:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:25,294 [myid:2] - INFO  [Thread-55:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:25,294 [myid:1] - INFO  [Thread-54:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,295 [myid:2] - INFO  [Thread-55:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:25,295 [myid:2] - INFO  [Thread-55:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:25,295 [myid:2] - INFO  [Thread-55:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:25,295 [myid:2] - INFO  [Thread-55:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:25,295 [myid:2] - INFO  [Thread-55:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:25,295 [myid:2] - INFO  [Thread-55:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:25,295 [myid:2] - INFO  [Thread-55:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:25,295 [myid:1] - INFO  [Thread-54:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:25,296 [myid:1] - INFO  [Thread-54:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:25,296 [myid:1] - INFO  [Thread-54:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:25,296 [myid:1] - INFO  [Thread-54:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:25,296 [myid:2] - INFO  [Thread-55:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:25,296 [myid:1] - INFO  [Thread-54:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:25,296 [myid:2] - INFO  [Thread-55:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3435624416036131526.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:25,296 [myid:1] - INFO  [Thread-54:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7420793418182768711.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:25,297 [myid:2] - INFO  [Thread-55:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:25,297 [myid:1] - INFO  [Thread-54:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:25,297 [myid:2] - INFO  [Thread-55:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:25,297 [myid:1] - INFO  [Thread-54:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:25,298 [myid:2] - INFO  [Thread-55:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:25,298 [myid:1] - INFO  [Thread-54:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:25,299 [myid:1] - INFO  [Thread-54:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:25,299 [myid:2] - INFO  [Thread-55:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:25,300 [myid:1] - INFO  [Thread-54:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:25,300 [myid:2] - INFO  [Thread-55:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:25,301 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22064:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22064
2020-03-18 17:38:25,301 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22063:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22063
2020-03-18 17:38:25,301 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:25,301 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:25,301 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:38:25,301 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:38:25,302 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22064:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63739
2020-03-18 17:38:25,302 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (2, 1)
2020-03-18 17:38:25,302 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22063:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63740
2020-03-18 17:38:25,303 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,303 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,303 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:25,303 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,303 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22063:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63741
2020-03-18 17:38:25,304 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:25,304 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:25,304 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:25,304 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,304 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,304 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:25,305 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,305 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,510 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:25,510 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:25,510 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:25,510 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:25,510 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:25,510 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:25,510 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:25,510 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:25,510 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,510 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,510 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:25,511 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3435624416036131526.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3435624416036131526.junit.dir/data/version-2
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:25,511 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:25,512 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7420793418182768711.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7420793418182768711.junit.dir/data/version-2
2020-03-18 17:38:25,512 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:38:25,512 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 210 MS
2020-03-18 17:38:25,512 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:25,512 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test3435624416036131526.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:25,512 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:25,513 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:25,515 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22061:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22061
2020-03-18 17:38:25,516 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63746:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22060:22063:participant;0.0.0.0:22066
2020-03-18 17:38:25,518 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63746:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:25,518 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:25,519 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63746:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:25,519 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63746:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:38:25,519 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:25,520 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:25,520 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:25,520 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:25,523 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:38:25,523 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:25,523 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:25,523 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:25,524 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:25,524 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:25,524 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:25,524 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:25,524 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:25,525 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:25,545 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22066
2020-03-18 17:38:25,546 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63747
2020-03-18 17:38:25,546 [myid:1] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:25,547 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22067
2020-03-18 17:38:25,547 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63748
2020-03-18 17:38:25,548 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:25,548 [myid:] - INFO  [Thread-58:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir/zoo.cfg
2020-03-18 17:38:25,549 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22068
2020-03-18 17:38:25,549 [myid:] - INFO  [Thread-58:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22068
2020-03-18 17:38:25,549 [myid:] - INFO  [Thread-58:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:25,549 [myid:] - INFO  [Thread-58:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:25,549 [myid:] - INFO  [Thread-58:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:25,549 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22068 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:25,549 [myid:] - WARN  [Thread-58:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:25,550 [myid:3] - WARN  [Thread-58:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:38:25,550 [myid:3] - INFO  [Thread-58:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:25,550 [myid:3] - INFO  [Thread-58:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:25,550 [myid:3] - INFO  [Thread-58:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:25,550 [myid:3] - INFO  [Thread-58:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:25,550 [myid:3] - ERROR [Thread-58:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:25,550 [myid:3] - WARN  [Thread-58:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:25,550 [myid:3] - INFO  [Thread-58:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:25,550 [myid:3] - INFO  [Thread-58:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@213a1064
2020-03-18 17:38:25,551 [myid:3] - INFO  [Thread-58:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:25,551 [myid:3] - WARN  [Thread-58:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:25,551 [myid:3] - INFO  [Thread-58:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:25,551 [myid:3] - INFO  [Thread-58:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22068
2020-03-18 17:38:25,551 [myid:3] - INFO  [Thread-58:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:25,551 [myid:3] - INFO  [Thread-58:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:25,552 [myid:3] - INFO  [Thread-58:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:25,553 [myid:3] - INFO  [Thread-58:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:25,553 [myid:3] - INFO  [Thread-58:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:25,553 [myid:3] - INFO  [Thread-58:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:25,554 [myid:3] - INFO  [Thread-58:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:25,554 [myid:3] - INFO  [Thread-58:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:25,555 [myid:3] - INFO  [Thread-58:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:25,556 [myid:3] - INFO  [Thread-58:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:25,557 [myid:3] - INFO  [Thread-58:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:25,557 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22065:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22065
2020-03-18 17:38:25,557 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:25,558 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:25,558 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22063:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63750
2020-03-18 17:38:25,559 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22064:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63751
2020-03-18 17:38:25,560 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,560 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir/data/version-2
2020-03-18 17:38:25,561 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:25,562 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:25,562 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22061
2020-03-18 17:38:25,563 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22061:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22061
2020-03-18 17:38:25,564 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63753:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22062:22065:observer;0.0.0.0:22068
2020-03-18 17:38:25,566 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63753:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:25,566 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:25,567 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63753:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2020-03-18 17:38:25,567 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63753:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was not exempt from throttle
2020-03-18 17:38:25,568 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - snap
2020-03-18 17:38:25,568 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x100000000
2020-03-18 17:38:25,569 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,569 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:25,570 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:25,571 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir/data/version-2/snapshot.100000000
2020-03-18 17:38:25,572 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:25,573 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:25,573 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:25,574 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:25,574 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:25,574 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:25,802 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22068
2020-03-18 17:38:25,803 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63761
2020-03-18 17:38:25,803 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:25,806 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22068 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@670b40af
2020-03-18 17:38:25,806 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:25,807 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:25,809 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22068.
2020-03-18 17:38:25,810 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:25,810 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:63762, server: localhost/127.0.0.1:22068
2020-03-18 17:38:25,812 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:25,812 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:38:25,812 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:25,813 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015c87ed0000
2020-03-18 17:38:25,814 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015c87ed0000
2020-03-18 17:38:25,814 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:25,814 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015c87ed0000
2020-03-18 17:38:25,815 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22068, session id = 0x300015c87ed0000, negotiated timeout = 30000
2020-03-18 17:38:25,815 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:25,823 [myid:] - INFO  [RMI TCP Connection(3)-172.18.14.34:LearnerHandlerBean@62] - terminating learner handler connection on demand LearnerHandlerBean{remoteIP=127.0.0.1:63753,ServerId=3}
2020-03-18 17:38:25,823 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:25,823 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63753:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:63753 ********
2020-03-18 17:38:25,823 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63753:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:25,823 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22061). Was connected for 259ms. Sync state: true
2020-03-18 17:38:25,823 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:25,824 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:25,824 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:25,824 [myid:127.0.0.1:22068] - WARN  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1272] - Session 0x300015c87ed0000 for sever localhost/127.0.0.1:22068, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015c87ed0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:25,824 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:25,824 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:25,824 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:25,824 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:25,824 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:25,824 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:25,824 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:25,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:25,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:25,825 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:25,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:25,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:25,825 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:25,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@258] - Waiting for 82 ms before reconnecting with the leader
2020-03-18 17:38:25,913 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:25,913 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:25,914 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,914 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:25,914 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:25,915 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:25,915 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:25,915 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test7533037606740242777.junit.dir/data/version-2
2020-03-18 17:38:25,915 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:25,915 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:25,915 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22061
2020-03-18 17:38:25,916 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22061:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22061
2020-03-18 17:38:25,917 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63765:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22062:22065:observer;0.0.0.0:22068
2020-03-18 17:38:25,917 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:25,917 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63765:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:25,918 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63765:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000002 minCommittedLog=0x100000001 lastProcessedZxid=0x100000002 peerLastZxid=0x100000002
2020-03-18 17:38:25,918 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63765:LearnerHandler@845] - Sending DIFF zxid=0x100000002 for peer sid: 3
2020-03-18 17:38:25,919 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000002
2020-03-18 17:38:25,919 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:38:25,919 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:25,920 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:25,920 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:25,920 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:25,920 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:25,921 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:25,926 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:38:25,926 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22068
2020-03-18 17:38:25,927 [myid:3] - INFO  [NIOWorkerThread-8:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63766
2020-03-18 17:38:25,927 [myid:3] - INFO  [NIOWorkerThread-8:StatCommand@52] - Stat command output
2020-03-18 17:38:25,929 [myid:] - INFO  [RMI TCP Connection(3)-172.18.14.34:QuorumPeer@2329] - cannot validate request, observer masters not enabled
2020-03-18 17:38:25,939 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:27,078 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22068.
2020-03-18 17:38:27,078 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:27,079 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:63843, server: localhost/127.0.0.1:22068
2020-03-18 17:38:27,079 [myid:3] - INFO  [NIOWorkerThread-1:Learner@137] - Revalidating client: 0x300015c87ed0000
2020-03-18 17:38:27,081 [myid:127.0.0.1:22068] - INFO  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22068, session id = 0x300015c87ed0000, negotiated timeout = 30000
2020-03-18 17:38:27,081 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:27,081 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015c87ed0000
2020-03-18 17:38:27,084 [myid:127.0.0.1:22068] - WARN  [main-SendThread(127.0.0.1:22068):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x300015c87ed0000.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015c87ed0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:27,186 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:27,186 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015c87ed0000 closed
2020-03-18 17:38:27,186 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015c87ed0000
2020-03-18 17:38:27,186 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled)
2020-03-18 17:38:27,187 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:27,187 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:27,187 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:27,187 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:27,187 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:63746:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:27,188 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22061). Was connected for 1673ms. Sync state: true
2020-03-18 17:38:27,187 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:27,188 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:27,188 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63746:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:63746 ********
2020-03-18 17:38:27,189 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:27,189 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:27,189 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:27,189 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:27,189 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:27,189 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:27,190 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:27,191 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,191 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:27,191 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:27,191 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:27,192 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:27,191 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:27,192 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:27,191 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22066:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:27,193 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:27,193 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,193 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,194 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,193 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,195 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,195 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled)
2020-03-18 17:38:27,194 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,195 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,194 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,194 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,196 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,193 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:27,196 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,196 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:27,195 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:27,195 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22066)(secure=disabled) to exit thread
2020-03-18 17:38:27,195 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,196 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled)
2020-03-18 17:38:27,196 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:27,196 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:27,196 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:27,197 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:27,197 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22061:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,197 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:27,197 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:27,198 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:27,198 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:27,198 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:27,198 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:27,198 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:27,198 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:27,198 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:27,198 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:27,199 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:27,199 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,198 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:27,199 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:27,200 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:27,200 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:27,200 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22061). Was connected for 1283ms. Sync state: true
2020-03-18 17:38:27,200 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63765:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:63765 ********
2020-03-18 17:38:27,200 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:27,200 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22067:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:27,200 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:27,200 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:27,200 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:27,200 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63765:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:27,201 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:27,200 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:27,200 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:27,201 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:27,201 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:27,201 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:27,201 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:27,201 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,202 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,201 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,203 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:27,201 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:27,204 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:27,203 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,204 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:27,201 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,204 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,201 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled)
2020-03-18 17:38:27,205 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22067)(secure=disabled) to exit thread
2020-03-18 17:38:27,205 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled)
2020-03-18 17:38:27,204 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:27,205 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:27,205 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:27,205 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:27,205 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22068:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:27,205 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:27,206 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,206 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:27,205 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:27,206 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:27,207 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):SyncRequestProcessor@262] - Interrupted while wating for Thread[SyncThread:3,5,] to finish
2020-03-18 17:38:27,207 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,207 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:27,207 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:27,207 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:27,207 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:27,207 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled)
2020-03-18 17:38:27,207 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22068)(secure=disabled) to exit thread
2020-03-18 17:38:27,208 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22066
2020-03-18 17:38:27,208 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22067
2020-03-18 17:38:27,208 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22068
2020-03-18 17:38:27,210 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:38:27,210 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testAdminCommands[1]
2020-03-18 17:38:27,210 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testAdminCommands[1]
2020-03-18 17:38:27,210 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testObserver[1]
2020-03-18 17:38:27,211 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22070 from range 21993 - 24685.
2020-03-18 17:38:27,211 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22071 from range 21993 - 24685.
2020-03-18 17:38:27,211 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22072 from range 21993 - 24685.
2020-03-18 17:38:27,211 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22073 from range 21993 - 24685.
2020-03-18 17:38:27,211 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22074 from range 21993 - 24685.
2020-03-18 17:38:27,211 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22075 from range 21993 - 24685.
2020-03-18 17:38:27,212 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22076 from range 21993 - 24685.
2020-03-18 17:38:27,212 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22077 from range 21993 - 24685.
2020-03-18 17:38:27,212 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22078 from range 21993 - 24685.
2020-03-18 17:38:27,212 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22079 from range 21993 - 24685.
2020-03-18 17:38:27,213 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5263625390764268762.junit.dir clientPort = 22076 adminServerPort = 8080
2020-03-18 17:38:27,215 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir clientPort = 22077 adminServerPort = 8080
2020-03-18 17:38:27,218 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir clientPort = 22078 adminServerPort = 8080
2020-03-18 17:38:27,219 [myid:] - INFO  [Thread-61:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5263625390764268762.junit.dir/zoo.cfg
2020-03-18 17:38:27,219 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22076
2020-03-18 17:38:27,219 [myid:] - INFO  [Thread-62:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/zoo.cfg
2020-03-18 17:38:27,220 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22076 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-61:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22076
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-61:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-61:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-61:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-62:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22077
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-62:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-62:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:27,220 [myid:] - INFO  [Thread-62:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:27,220 [myid:] - WARN  [Thread-61:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:27,220 [myid:] - WARN  [Thread-62:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:27,220 [myid:1] - INFO  [Thread-61:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:27,220 [myid:1] - INFO  [Thread-61:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:27,220 [myid:1] - INFO  [Thread-61:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:27,220 [myid:2] - INFO  [Thread-62:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:27,221 [myid:2] - INFO  [Thread-62:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:27,221 [myid:2] - INFO  [Thread-62:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:27,221 [myid:1] - INFO  [Thread-61:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:27,221 [myid:2] - INFO  [Thread-62:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:27,221 [myid:2] - ERROR [Thread-62:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,221 [myid:1] - ERROR [Thread-61:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,221 [myid:2] - WARN  [Thread-62:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,222 [myid:2] - INFO  [Thread-62:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:27,222 [myid:2] - INFO  [Thread-62:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@2811255e
2020-03-18 17:38:27,221 [myid:1] - WARN  [Thread-61:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,222 [myid:1] - INFO  [Thread-61:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:27,222 [myid:1] - INFO  [Thread-61:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@472f4e10
2020-03-18 17:38:27,222 [myid:2] - INFO  [Thread-62:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:27,222 [myid:2] - WARN  [Thread-62:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:27,222 [myid:1] - INFO  [Thread-61:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:27,222 [myid:2] - INFO  [Thread-62:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:27,222 [myid:1] - WARN  [Thread-61:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:27,222 [myid:1] - INFO  [Thread-61:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:27,222 [myid:2] - INFO  [Thread-62:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22077
2020-03-18 17:38:27,223 [myid:1] - INFO  [Thread-61:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22076
2020-03-18 17:38:27,223 [myid:2] - INFO  [Thread-62:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:27,223 [myid:1] - INFO  [Thread-61:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:27,223 [myid:1] - INFO  [Thread-61:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:27,223 [myid:1] - INFO  [Thread-61:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:27,223 [myid:2] - INFO  [Thread-62:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:27,223 [myid:2] - INFO  [Thread-62:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:27,223 [myid:2] - INFO  [Thread-62:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:27,223 [myid:2] - INFO  [Thread-62:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:27,223 [myid:2] - INFO  [Thread-62:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:27,223 [myid:1] - INFO  [Thread-61:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:27,224 [myid:1] - INFO  [Thread-61:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,224 [myid:1] - INFO  [Thread-61:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:27,224 [myid:1] - INFO  [Thread-61:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:27,224 [myid:1] - INFO  [Thread-61:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:27,224 [myid:1] - INFO  [Thread-61:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:27,224 [myid:2] - INFO  [Thread-62:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:27,225 [myid:2] - INFO  [Thread-62:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:27,225 [myid:2] - INFO  [Thread-62:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:27,225 [myid:2] - INFO  [Thread-62:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:27,225 [myid:2] - INFO  [Thread-62:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:27,225 [myid:2] - INFO  [Thread-62:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:27,225 [myid:2] - INFO  [Thread-62:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:27,225 [myid:1] - INFO  [Thread-61:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,225 [myid:1] - INFO  [Thread-61:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,225 [myid:1] - INFO  [Thread-61:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:27,225 [myid:1] - INFO  [Thread-61:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:27,225 [myid:2] - INFO  [Thread-62:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:27,226 [myid:2] - INFO  [Thread-62:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:27,225 [myid:1] - INFO  [Thread-61:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:27,226 [myid:1] - INFO  [Thread-61:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:27,226 [myid:1] - INFO  [Thread-61:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:27,226 [myid:1] - INFO  [Thread-61:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:27,226 [myid:1] - INFO  [Thread-61:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:27,226 [myid:1] - INFO  [Thread-61:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:27,226 [myid:1] - INFO  [Thread-61:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:27,227 [myid:1] - INFO  [Thread-61:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:27,226 [myid:2] - INFO  [Thread-62:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:27,227 [myid:2] - INFO  [Thread-62:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:27,227 [myid:1] - INFO  [Thread-61:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5263625390764268762.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:27,228 [myid:1] - INFO  [Thread-61:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:27,228 [myid:1] - INFO  [Thread-61:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:27,229 [myid:1] - INFO  [Thread-61:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:27,230 [myid:2] - INFO  [Thread-62:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:27,231 [myid:1] - INFO  [Thread-61:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:27,232 [myid:1] - INFO  [Thread-61:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:27,232 [myid:2] - INFO  [Thread-62:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:27,232 [myid:2] - INFO  [Thread-62:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:27,233 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22073:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22073
2020-03-18 17:38:27,234 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22074:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22074
2020-03-18 17:38:27,234 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:27,234 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:38:27,234 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:27,234 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:38:27,235 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (2, 1)
2020-03-18 17:38:27,235 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22074:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63857
2020-03-18 17:38:27,235 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,235 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22073:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63858
2020-03-18 17:38:27,236 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,236 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,237 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,237 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,237 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,374 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:27,374 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:27,374 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:27,378 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:27,378 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:27,378 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:27,438 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:27,439 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2
2020-03-18 17:38:27,439 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:27,440 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:27,440 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 205 MS
2020-03-18 17:38:27,440 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:27,440 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:27,440 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:27,440 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:27,440 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:27,440 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:27,441 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:27,441 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:27,441 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:27,441 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:27,441 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:27,441 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:27,442 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:27,442 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:27,442 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5263625390764268762.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5263625390764268762.junit.dir/data/version-2
2020-03-18 17:38:27,442 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 209 MS
2020-03-18 17:38:27,443 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 2 ms
2020-03-18 17:38:27,443 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:27,448 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22071:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22071
2020-03-18 17:38:27,450 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63863:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22070:22073:participant;0.0.0.0:22076
2020-03-18 17:38:27,454 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63863:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:27,454 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63863:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:27,454 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:27,455 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63863:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:38:27,456 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:27,457 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:27,457 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:27,458 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:27,461 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:38:27,461 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:27,461 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:27,462 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:27,462 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:27,462 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:27,462 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:27,463 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:27,463 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:27,463 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:27,472 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22076
2020-03-18 17:38:27,474 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63864
2020-03-18 17:38:27,474 [myid:1] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:27,474 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22077
2020-03-18 17:38:27,475 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63865
2020-03-18 17:38:27,475 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:27,475 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22078
2020-03-18 17:38:27,476 [myid:] - INFO  [Thread-65:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir/zoo.cfg
2020-03-18 17:38:27,476 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22078 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:27,476 [myid:] - INFO  [Thread-65:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22078
2020-03-18 17:38:27,476 [myid:] - INFO  [Thread-65:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:27,476 [myid:] - INFO  [Thread-65:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:27,476 [myid:] - INFO  [Thread-65:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:27,477 [myid:] - WARN  [Thread-65:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:27,477 [myid:3] - WARN  [Thread-65:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:38:27,477 [myid:3] - INFO  [Thread-65:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:27,477 [myid:3] - INFO  [Thread-65:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:27,477 [myid:3] - INFO  [Thread-65:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:27,477 [myid:3] - INFO  [Thread-65:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:27,477 [myid:3] - ERROR [Thread-65:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,477 [myid:3] - WARN  [Thread-65:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,477 [myid:3] - INFO  [Thread-65:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:27,478 [myid:3] - INFO  [Thread-65:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@5324d2eb
2020-03-18 17:38:27,478 [myid:3] - INFO  [Thread-65:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:27,478 [myid:3] - WARN  [Thread-65:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:27,478 [myid:3] - INFO  [Thread-65:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:27,478 [myid:3] - INFO  [Thread-65:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22078
2020-03-18 17:38:27,478 [myid:3] - INFO  [Thread-65:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:27,479 [myid:3] - INFO  [Thread-65:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:27,480 [myid:3] - INFO  [Thread-65:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:27,481 [myid:3] - INFO  [Thread-65:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:27,481 [myid:3] - INFO  [Thread-65:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:27,482 [myid:3] - INFO  [Thread-65:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:27,483 [myid:3] - INFO  [Thread-65:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:27,484 [myid:3] - INFO  [Thread-65:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:27,486 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:27,486 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:27,487 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22075:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22075
2020-03-18 17:38:27,487 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22073:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63867
2020-03-18 17:38:27,488 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22074:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:63868
2020-03-18 17:38:27,489 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,490 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,490 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:27,490 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:27,490 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:27,490 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:27,490 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir/data/version-2
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:27,491 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22071
2020-03-18 17:38:27,492 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22071:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22071
2020-03-18 17:38:27,494 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63870:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22072:22075:observer;0.0.0.0:22078
2020-03-18 17:38:27,495 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63870:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:27,495 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63870:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2020-03-18 17:38:27,495 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:27,496 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:63870:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was not exempt from throttle
2020-03-18 17:38:27,496 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - snap
2020-03-18 17:38:27,496 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x100000000
2020-03-18 17:38:27,496 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,496 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:27,498 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:27,499 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir/data/version-2/snapshot.100000000
2020-03-18 17:38:27,500 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:27,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:27,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:27,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:27,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:27,502 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:27,731 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22078
2020-03-18 17:38:27,732 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:63874
2020-03-18 17:38:27,732 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:27,732 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22078 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@76a3e297
2020-03-18 17:38:27,733 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:27,733 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:27,735 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22078.
2020-03-18 17:38:27,735 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:27,736 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:63875, server: localhost/127.0.0.1:22078
2020-03-18 17:38:27,738 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:27,738 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:38:27,738 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:27,740 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:27,741 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015c8f740000
2020-03-18 17:38:27,741 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015c8f740000
2020-03-18 17:38:27,740 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015c8f740000
2020-03-18 17:38:27,742 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22078, session id = 0x300015c8f740000, negotiated timeout = 30000
2020-03-18 17:38:27,742 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:27,747 [myid:] - INFO  [main:ObserverMasterTest@307] - Shutting down server 2
2020-03-18 17:38:27,747 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled)
2020-03-18 17:38:27,747 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:27,748 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:27,748 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:27,748 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22071:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,748 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:27,748 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:27,749 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:27,749 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:27,749 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:27,749 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:27,749 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:27,749 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:27,749 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:27,750 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:27,749 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:27,750 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:27,750 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,750 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:27,751 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:27,751 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63863:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:63863 ********
2020-03-18 17:38:27,751 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22071). Was connected for 258ms. Sync state: true
2020-03-18 17:38:27,751 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:27,751 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:27,752 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:27,752 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:27,751 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63870:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:63870 ********
2020-03-18 17:38:27,753 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63870:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:27,752 [myid:127.0.0.1:22078] - WARN  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1272] - Session 0x300015c8f740000 for sever localhost/127.0.0.1:22078, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015c8f740000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:27,752 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:27,752 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:27,753 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:27,753 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:27,751 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22077:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:27,754 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:27,754 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:27,751 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:63863:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:27,754 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:27,751 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@129] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:27,754 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:27,755 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,755 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22071). Was connected for 305ms. Sync state: true
2020-03-18 17:38:27,754 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:27,756 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:27,754 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:27,757 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:27,757 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:27,757 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:27,756 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:27,756 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:27,756 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:27,757 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:27,757 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:27,757 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:27,757 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,757 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,758 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,757 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:27,758 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:27,757 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,758 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,758 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:27,758 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,759 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:27,758 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,758 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,758 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:27,759 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,757 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,759 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:27,757 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:27,759 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:27,759 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:27,759 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:27,759 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:27,758 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:27,758 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:27,759 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:27,759 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@258] - Waiting for 147 ms before reconnecting with the leader
2020-03-18 17:38:27,762 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:27,762 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:27,763 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:27,763 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:27,763 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:27,763 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:27,763 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:27,763 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x100000003
2020-03-18 17:38:27,764 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,764 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,764 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,765 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled)
2020-03-18 17:38:27,765 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled) to exit thread
2020-03-18 17:38:27,765 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22077
2020-03-18 17:38:27,766 [myid:] - INFO  [main:ObserverMasterTest@315] - Server 2 down
2020-03-18 17:38:27,854 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:38:27,854 [myid:] - INFO  [main:ObserverMasterTest@321] - Latch returned
2020-03-18 17:38:27,911 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:27,911 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:27,912 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,912 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,913 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,913 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,914 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,914 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:27,966 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):FastLeaderElection@966] - Notification time out: 400
2020-03-18 17:38:27,966 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,967 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:27,967 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:28,115 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FastLeaderElection@966] - Notification time out: 400
2020-03-18 17:38:28,115 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:28,116 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:28,116 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:28,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:28,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:28,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:28,368 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):FastLeaderElection@966] - Notification time out: 800
2020-03-18 17:38:28,368 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:28,369 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:28,369 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:28,516 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FastLeaderElection@966] - Notification time out: 800
2020-03-18 17:38:28,517 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:28,517 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:28,517 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:28,913 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:28,914 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:28,914 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:28,914 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:28,914 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:28,914 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:29,171 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):FastLeaderElection@966] - Notification time out: 1600
2020-03-18 17:38:29,171 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,173 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:29,174 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:29,318 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FastLeaderElection@966] - Notification time out: 1600
2020-03-18 17:38:29,318 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:29,318 [myid:3] - WARN  [WorkerSender[myid=3]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22074
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:757)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:29,319 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,728 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22078.
2020-03-18 17:38:29,728 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:29,729 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64095, server: localhost/127.0.0.1:22078
2020-03-18 17:38:29,730 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@373] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:544)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:332)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:29,731 [myid:127.0.0.1:22078] - WARN  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1272] - Session 0x300015c8f740000 for sever localhost/127.0.0.1:22078, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x300015c8f740000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:29,832 [myid:] - INFO  [main:ObserverMasterTest@326] - Connection loss exception caught - ensemble not quorate (this is expected)
2020-03-18 17:38:29,832 [myid:] - INFO  [main:ObserverMasterTest@331] - Restarting server 2
2020-03-18 17:38:29,832 [myid:] - INFO  [main:ObserverMasterTest@337] - Waiting for server 2 to come up
2020-03-18 17:38:29,832 [myid:] - INFO  [Thread-67:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/zoo.cfg
2020-03-18 17:38:29,832 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22077
2020-03-18 17:38:29,833 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22077 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:29,833 [myid:] - INFO  [Thread-67:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22077
2020-03-18 17:38:29,833 [myid:] - INFO  [Thread-67:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:29,833 [myid:] - INFO  [Thread-67:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:29,833 [myid:] - INFO  [Thread-67:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:29,833 [myid:] - WARN  [Thread-67:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:29,834 [myid:2] - INFO  [Thread-67:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:29,834 [myid:2] - INFO  [Thread-67:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:29,834 [myid:2] - INFO  [Thread-67:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:29,834 [myid:2] - INFO  [Thread-67:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:29,834 [myid:2] - ERROR [Thread-67:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:29,834 [myid:2] - WARN  [Thread-67:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:29,834 [myid:2] - INFO  [Thread-67:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:29,834 [myid:2] - INFO  [Thread-67:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@52e102b9
2020-03-18 17:38:29,835 [myid:2] - INFO  [Thread-67:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:29,835 [myid:2] - WARN  [Thread-67:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:29,835 [myid:2] - INFO  [Thread-67:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:29,835 [myid:2] - INFO  [Thread-67:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22077
2020-03-18 17:38:29,835 [myid:2] - INFO  [Thread-67:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:29,835 [myid:2] - INFO  [Thread-67:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:29,835 [myid:2] - INFO  [Thread-67:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:29,835 [myid:2] - INFO  [Thread-67:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:29,836 [myid:2] - INFO  [Thread-67:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:29,837 [myid:2] - INFO  [Thread-67:FileSnap@85] - Reading snapshot /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:29,838 [myid:2] - INFO  [Thread-67:DataTree@1737] - The digest value is empty in snapshot
2020-03-18 17:38:29,838 [myid:2] - INFO  [Thread-67:FileTxnSnapLog@363] - 3 txns loaded in 0 ms
2020-03-18 17:38:29,838 [myid:2] - INFO  [Thread-67:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000003, digest is 7498959222
2020-03-18 17:38:29,839 [myid:2] - INFO  [Thread-67:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:29,840 [myid:2] - INFO  [Thread-67:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:29,840 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22074:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22074
2020-03-18 17:38:29,840 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:29,840 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x100000003
2020-03-18 17:38:29,841 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22073:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64147
2020-03-18 17:38:29,842 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,842 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,842 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,843 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,843 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,843 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,843 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:29,843 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:30,044 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:30,044 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:30,045 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:30,045 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:30,045 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2
2020-03-18 17:38:30,045 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:30,045 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:30,045 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 205 MS
2020-03-18 17:38:30,045 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:30,046 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:30,046 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000003 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test770869673984914590.junit.dir/data/version-2/snapshot.100000003
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:30,046 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:30,047 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5263625390764268762.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5263625390764268762.junit.dir/data/version-2
2020-03-18 17:38:30,047 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2283 MS
2020-03-18 17:38:30,047 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:30,047 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:30,048 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22071:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22071
2020-03-18 17:38:30,049 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64166:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22070:22073:participant;0.0.0.0:22076
2020-03-18 17:38:30,051 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:30,051 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64166:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:30,051 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64166:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x100000003 peerLastZxid=0x100000003
2020-03-18 17:38:30,051 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64166:LearnerHandler@845] - Sending DIFF zxid=0x100000003 for peer sid: 1
2020-03-18 17:38:30,053 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:30,053 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:38:30,053 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:30,053 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:30,054 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x200000000
2020-03-18 17:38:30,054 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:30,054 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:30,055 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:30,055 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:30,055 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:30,056 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:30,056 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:30,056 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:30,056 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:30,087 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22077
2020-03-18 17:38:30,088 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64172
2020-03-18 17:38:30,088 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:30,088 [myid:] - INFO  [main:ObserverMasterTest@342] - Server 2 started, waiting for latch
2020-03-18 17:38:30,493 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:30,493 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:30,919 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FastLeaderElection@966] - Notification time out: 3200
2020-03-18 17:38:30,920 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22074:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64285
2020-03-18 17:38:30,920 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:30,921 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000003, message format version:0x2, n.config version:0x0
2020-03-18 17:38:30,921 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:30,921 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:30,921 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test5636412579093665011.junit.dir/data/version-2
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:30,922 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22071
2020-03-18 17:38:30,923 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22071:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22071
2020-03-18 17:38:30,925 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64287:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22072:22075:observer;0.0.0.0:22078
2020-03-18 17:38:30,926 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:30,926 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64287:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:30,926 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64287:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 lastProcessedZxid=0x200000000 peerLastZxid=0x100000003
2020-03-18 17:38:30,926 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64287:LearnerHandler@864] - Using committedLog for peer sid: 3
2020-03-18 17:38:30,926 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64287:LearnerHandler@972] - Sending DIFF zxid=0x100000003  for peer sid: 3
2020-03-18 17:38:30,927 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Learner@509] - Getting a diff from the leader 0x100000003
2020-03-18 17:38:30,927 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - diff
2020-03-18 17:38:30,927 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:30,929 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:30,929 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:30,929 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:30,929 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:30,930 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:31,637 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22078.
2020-03-18 17:38:31,638 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:31,638 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64327, server: localhost/127.0.0.1:22078
2020-03-18 17:38:31,638 [myid:3] - INFO  [NIOWorkerThread-7:Learner@137] - Revalidating client: 0x300015c8f740000
2020-03-18 17:38:31,640 [myid:127.0.0.1:22078] - INFO  [main-SendThread(127.0.0.1:22078):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22078, session id = 0x300015c8f740000, negotiated timeout = 30000
2020-03-18 17:38:31,640 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:31,641 [myid:] - INFO  [main:ObserverMasterTest@352] - perform a revalidation test
2020-03-18 17:38:31,641 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22080 from range 21993 - 24685.
2020-03-18 17:38:31,641 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22081 from range 21993 - 24685.
2020-03-18 17:38:31,641 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22080,127.0.0.1:22081 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@76a3e297
2020-03-18 17:38:31,641 [myid:] - INFO  [Thread-71:PortForwarder@186] - accepting socket local:22080 to:22077
2020-03-18 17:38:31,642 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:31,642 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:31,644 [myid:127.0.0.1:22081] - INFO  [main-SendThread(127.0.0.1:22081):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22081.
2020-03-18 17:38:31,644 [myid:127.0.0.1:22081] - INFO  [main-SendThread(127.0.0.1:22081):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:31,644 [myid:127.0.0.1:22081] - WARN  [main-SendThread(127.0.0.1:22081):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:22081, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:31,746 [myid:127.0.0.1:22080] - INFO  [main-SendThread(127.0.0.1:22080):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22080.
2020-03-18 17:38:31,747 [myid:127.0.0.1:22080] - INFO  [main-SendThread(127.0.0.1:22080):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:31,747 [myid:127.0.0.1:22080] - INFO  [main-SendThread(127.0.0.1:22080):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64330, server: localhost/127.0.0.1:22080
2020-03-18 17:38:31,747 [myid:] - INFO  [Thread-71:PortForwarder@188] - accepted: local:22080 from:64330 to:22077
2020-03-18 17:38:31,748 [myid:] - INFO  [Thread-71:PortForwarder@210] - connected: local:22080 from:64330 to:22077
2020-03-18 17:38:31,748 [myid:] - INFO  [Thread-71:PortForwarder@186] - accepting socket local:22080 to:22077
2020-03-18 17:38:31,749 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.200000001
2020-03-18 17:38:31,749 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@170] - Got zxid 0x200000001 expected 0x1
2020-03-18 17:38:31,751 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015c99710000
2020-03-18 17:38:31,751 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015c99710000
2020-03-18 17:38:31,751 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015c99710000
2020-03-18 17:38:31,753 [myid:127.0.0.1:22080] - INFO  [main-SendThread(127.0.0.1:22080):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22080, session id = 0x200015c99710000, negotiated timeout = 30000
2020-03-18 17:38:31,753 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:31,758 [myid:] - INFO  [Thread-72:PortForwarder@186] - accepting socket local:22081 to:22078
2020-03-18 17:38:31,759 [myid:127.0.0.1:22080] - WARN  [main-SendThread(127.0.0.1:22080):ClientCnxn$SendThread@1272] - Session 0x200015c99710000 for sever localhost/127.0.0.1:22080, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015c99710000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:31,759 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22077,localport=64331]-->Socket[addr=/127.0.0.1,port=64330,localport=22080]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22077,localport=64331]
2020-03-18 17:38:31,759 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=64330,localport=22080]-->Socket[addr=localhost/127.0.0.1,port=22077,localport=64331]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=64330,localport=22080]
2020-03-18 17:38:31,759 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@364] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:64331, session = 0x200015c99710000
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:31,859 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:38:32,772 [myid:127.0.0.1:22081] - INFO  [main-SendThread(127.0.0.1:22081):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22081.
2020-03-18 17:38:32,772 [myid:127.0.0.1:22081] - INFO  [main-SendThread(127.0.0.1:22081):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:32,773 [myid:127.0.0.1:22081] - INFO  [main-SendThread(127.0.0.1:22081):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64367, server: localhost/127.0.0.1:22081
2020-03-18 17:38:32,773 [myid:] - INFO  [Thread-72:PortForwarder@188] - accepted: local:22081 from:64367 to:22078
2020-03-18 17:38:32,773 [myid:] - INFO  [Thread-72:PortForwarder@210] - connected: local:22081 from:64367 to:22078
2020-03-18 17:38:32,774 [myid:] - INFO  [Thread-72:PortForwarder@186] - accepting socket local:22081 to:22078
2020-03-18 17:38:32,774 [myid:3] - INFO  [NIOWorkerThread-1:Learner@137] - Revalidating client: 0x200015c99710000
2020-03-18 17:38:32,775 [myid:127.0.0.1:22081] - INFO  [main-SendThread(127.0.0.1:22081):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22081, session id = 0x200015c99710000, negotiated timeout = 30000
2020-03-18 17:38:32,775 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:36,765 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x200015c99710000
2020-03-18 17:38:36,767 [myid:] - ERROR [Socket[addr=/127.0.0.1,port=64367,localport=22081]-->Socket[addr=localhost/127.0.0.1,port=22078,localport=64368]:PortForwarder$PortForwardWorker@135] - Unexpected exception
java.io.IOException: read -1
	at org.apache.zookeeper.server.util.PortForwarder$PortForwardWorker.run(PortForwarder.java:121)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:36,767 [myid:] - ERROR [Socket[addr=localhost/127.0.0.1,port=22078,localport=64368]-->Socket[addr=/127.0.0.1,port=64367,localport=22081]:PortForwarder$PortForwardWorker@135] - Unexpected exception
java.io.IOException: read -1
	at org.apache.zookeeper.server.util.PortForwarder$PortForwardWorker.run(PortForwarder.java:121)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:36,768 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=64367,localport=22081]-->Socket[addr=localhost/127.0.0.1,port=22078,localport=64368]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=64367,localport=22081]
2020-03-18 17:38:36,768 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22078,localport=64368]-->Socket[addr=/127.0.0.1,port=64367,localport=22081]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22078,localport=64368]
2020-03-18 17:38:36,868 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:36,868 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015c99710000 closed
2020-03-18 17:38:36,868 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015c99710000
2020-03-18 17:38:36,868 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:36,869 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015c8f740000
2020-03-18 17:38:36,971 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:36,971 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015c8f740000 closed
2020-03-18 17:38:36,971 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015c8f740000
2020-03-18 17:38:36,971 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled)
2020-03-18 17:38:36,971 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:36,971 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:36,972 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:36,972 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:36,972 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:64166:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:36,972 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:36,972 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64166:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64166 ********
2020-03-18 17:38:36,972 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22071). Was connected for 6924ms. Sync state: true
2020-03-18 17:38:36,972 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:36,972 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:36,973 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:36,973 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:36,974 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:36,974 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:36,974 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:36,974 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:36,975 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:36,975 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:36,975 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:36,976 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:36,976 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22076:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:36,976 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:36,976 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:36,976 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:36,976 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:36,977 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:36,977 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:36,977 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:36,977 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:36,977 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled)
2020-03-18 17:38:36,977 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:36,977 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:36,977 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:36,978 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:36,977 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:36,978 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:36,977 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22076)(secure=disabled) to exit thread
2020-03-18 17:38:36,977 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:36,977 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:36,978 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:36,978 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled)
2020-03-18 17:38:36,978 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:36,978 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:36,978 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:36,978 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:36,979 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22071:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:36,979 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:36,979 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:36,979 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:36,980 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:36,980 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:36,980 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:36,980 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:36,980 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:36,981 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:36,981 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:36,981 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:36,981 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:36,981 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:36,982 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:36,982 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:36,982 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:36,983 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:36,984 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22077:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:36,984 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22071). Was connected for 6060ms. Sync state: true
2020-03-18 17:38:36,984 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:36,984 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:36,984 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:36,984 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:36,983 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64287:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64287 ********
2020-03-18 17:38:36,984 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64287:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:36,984 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:36,984 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:36,984 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:36,984 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:36,985 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:36,985 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:36,985 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:36,985 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:36,985 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:36,985 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:36,986 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:36,987 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:36,987 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:36,985 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:36,987 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled)
2020-03-18 17:38:36,986 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:36,986 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:36,987 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:36,987 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:36,986 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:36,988 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:36,988 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:36,988 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:36,987 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled) to exit thread
2020-03-18 17:38:36,987 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:36,988 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22077)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:36,988 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:36,988 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:36,988 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:36,988 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:36,988 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled)
2020-03-18 17:38:36,989 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@258] - Waiting for 53 ms before reconnecting with the leader
2020-03-18 17:38:36,989 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22078:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:36,989 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:36,989 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:36,990 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):Observer@262] - Interrupted while waiting
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Observer.waitForReconnectDelayHelper(Observer.java:260)
	at org.apache.zookeeper.server.quorum.Observer.waitForObserverElectionDelay(Observer.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1447)
2020-03-18 17:38:36,990 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:36,990 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:36,991 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled)
2020-03-18 17:38:36,991 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22078)(secure=disabled) to exit thread
2020-03-18 17:38:36,991 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22076
2020-03-18 17:38:36,992 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22077
2020-03-18 17:38:36,992 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22078
2020-03-18 17:38:36,992 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:38:36,992 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testObserver[1]
2020-03-18 17:38:36,992 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testObserver[1]
2020-03-18 17:38:36,993 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testInOrderCommits[1]
2020-03-18 17:38:36,993 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22082 from range 21993 - 24685.
2020-03-18 17:38:36,993 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22083 from range 21993 - 24685.
2020-03-18 17:38:36,993 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22084 from range 21993 - 24685.
2020-03-18 17:38:36,994 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22085 from range 21993 - 24685.
2020-03-18 17:38:36,994 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22086 from range 21993 - 24685.
2020-03-18 17:38:36,994 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22087 from range 21993 - 24685.
2020-03-18 17:38:36,994 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22088 from range 21993 - 24685.
2020-03-18 17:38:36,994 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22089 from range 21993 - 24685.
2020-03-18 17:38:36,994 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22090 from range 21993 - 24685.
2020-03-18 17:38:36,994 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22091 from range 21993 - 24685.
2020-03-18 17:38:36,995 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4628226946078846194.junit.dir clientPort = 22088 adminServerPort = 8080
2020-03-18 17:38:36,998 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8674762428819050781.junit.dir clientPort = 22089 adminServerPort = 8080
2020-03-18 17:38:37,000 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test663149567715670985.junit.dir clientPort = 22090 adminServerPort = 8080
2020-03-18 17:38:37,002 [myid:] - INFO  [Thread-73:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4628226946078846194.junit.dir/zoo.cfg
2020-03-18 17:38:37,002 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22088
2020-03-18 17:38:37,002 [myid:] - INFO  [Thread-74:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8674762428819050781.junit.dir/zoo.cfg
2020-03-18 17:38:37,002 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22088 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-73:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22088
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-73:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-74:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22089
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-74:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-74:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-74:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-73:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:37,003 [myid:] - INFO  [Thread-73:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:37,003 [myid:] - WARN  [Thread-74:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:37,003 [myid:] - WARN  [Thread-73:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:37,003 [myid:2] - INFO  [Thread-74:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:37,003 [myid:2] - INFO  [Thread-74:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:37,003 [myid:2] - INFO  [Thread-74:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:37,003 [myid:1] - INFO  [Thread-73:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:37,004 [myid:1] - INFO  [Thread-73:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:37,004 [myid:1] - INFO  [Thread-73:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:37,003 [myid:2] - INFO  [Thread-74:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:37,004 [myid:1] - INFO  [Thread-73:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:37,004 [myid:2] - ERROR [Thread-74:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:37,004 [myid:2] - WARN  [Thread-74:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:37,004 [myid:2] - INFO  [Thread-74:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:37,004 [myid:1] - ERROR [Thread-73:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:37,004 [myid:1] - WARN  [Thread-73:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:37,004 [myid:1] - INFO  [Thread-73:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:37,004 [myid:1] - INFO  [Thread-73:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@27068d09
2020-03-18 17:38:37,004 [myid:2] - INFO  [Thread-74:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@c3c9dee
2020-03-18 17:38:37,005 [myid:1] - INFO  [Thread-73:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:37,005 [myid:1] - WARN  [Thread-73:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:37,005 [myid:1] - INFO  [Thread-73:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:37,005 [myid:2] - INFO  [Thread-74:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:37,005 [myid:2] - WARN  [Thread-74:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:37,005 [myid:1] - INFO  [Thread-73:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22088
2020-03-18 17:38:37,005 [myid:2] - INFO  [Thread-74:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:37,005 [myid:2] - INFO  [Thread-74:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22089
2020-03-18 17:38:37,005 [myid:2] - INFO  [Thread-74:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:37,005 [myid:1] - INFO  [Thread-73:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:37,006 [myid:2] - INFO  [Thread-74:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:37,006 [myid:1] - INFO  [Thread-73:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:37,007 [myid:2] - INFO  [Thread-74:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:37,007 [myid:2] - INFO  [Thread-74:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,007 [myid:2] - INFO  [Thread-74:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:37,007 [myid:2] - INFO  [Thread-74:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:37,007 [myid:1] - INFO  [Thread-73:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:37,007 [myid:2] - INFO  [Thread-74:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:37,008 [myid:2] - INFO  [Thread-74:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:37,008 [myid:2] - INFO  [Thread-74:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:37,008 [myid:2] - INFO  [Thread-74:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:37,008 [myid:2] - INFO  [Thread-74:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:37,008 [myid:2] - INFO  [Thread-74:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:37,008 [myid:2] - INFO  [Thread-74:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:37,008 [myid:1] - INFO  [Thread-73:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:37,008 [myid:2] - INFO  [Thread-74:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:37,009 [myid:1] - INFO  [Thread-73:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4628226946078846194.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:37,009 [myid:2] - INFO  [Thread-74:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8674762428819050781.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:37,009 [myid:1] - INFO  [Thread-73:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:37,009 [myid:2] - INFO  [Thread-74:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:37,010 [myid:1] - INFO  [Thread-73:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:37,010 [myid:2] - INFO  [Thread-74:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:37,011 [myid:1] - INFO  [Thread-73:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:37,011 [myid:2] - INFO  [Thread-74:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:37,012 [myid:1] - INFO  [Thread-73:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:37,012 [myid:2] - INFO  [Thread-74:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:37,012 [myid:1] - INFO  [Thread-73:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:37,013 [myid:2] - INFO  [Thread-74:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:37,013 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22086:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22086
2020-03-18 17:38:37,013 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22085:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22085
2020-03-18 17:38:37,015 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:37,015 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:38:37,015 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:37,015 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:38:37,016 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22086:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64535
2020-03-18 17:38:37,016 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@462] - Have smaller server identifier, so dropping the connection: (2, 1)
2020-03-18 17:38:37,016 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,016 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22085:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64536
2020-03-18 17:38:37,016 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,017 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,017 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,017 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,017 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,222 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:37,222 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:37,222 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:37,222 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:37,222 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:37,222 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:37,223 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:37,223 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:37,223 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:37,222 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:37,223 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:37,223 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:37,223 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4628226946078846194.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test4628226946078846194.junit.dir/data/version-2
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:37,223 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 209 MS
2020-03-18 17:38:37,223 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:37,224 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8674762428819050781.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8674762428819050781.junit.dir/data/version-2
2020-03-18 17:38:37,224 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:37,224 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 208 MS
2020-03-18 17:38:37,225 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:37,225 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8674762428819050781.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:37,225 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22083:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22083
2020-03-18 17:38:37,226 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:37,227 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64544:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22082:22085:participant;0.0.0.0:22088
2020-03-18 17:38:37,229 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:37,229 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64544:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:37,229 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64544:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:37,230 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64544:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:38:37,231 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:37,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:37,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:37,231 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:37,234 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:38:37,234 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:37,234 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:37,235 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:37,235 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:37,235 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:37,235 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:37,235 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:37,235 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:37,236 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:37,256 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22088
2020-03-18 17:38:37,257 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64545
2020-03-18 17:38:37,257 [myid:1] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:37,258 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22089
2020-03-18 17:38:37,258 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64546
2020-03-18 17:38:37,258 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:37,259 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22088 sessionTimeout=30000 watcher=null
2020-03-18 17:38:37,259 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:37,259 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:37,261 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22088.
2020-03-18 17:38:37,261 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:37,262 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64547, server: localhost/127.0.0.1:22088
2020-03-18 17:38:37,263 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:37,263 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:38:37,263 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:37,264 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x100015cb57a0000
2020-03-18 17:38:37,264 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x100015cb57a0000
2020-03-18 17:38:37,265 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22088, session id = 0x100015cb57a0000, negotiated timeout = 30000
2020-03-18 17:38:37,266 [myid:] - ERROR [main-EventThread:ClientCnxn$EventThread@578] - Error while calling watcher 
java.lang.NullPointerException
	at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:576)
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:551)
2020-03-18 17:38:37,329 [myid:1] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x100015cb57a0000
2020-03-18 17:38:37,331 [myid:127.0.0.1:22088] - WARN  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x100015cb57a0000.
EndOfStreamException: Unable to read additional data from server sessionid 0x100015cb57a0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:37,433 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x100015cb57a0000 closed
2020-03-18 17:38:37,434 [myid:] - ERROR [main-EventThread:ClientCnxn$EventThread@578] - Error while calling watcher 
java.lang.NullPointerException
	at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:576)
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:551)
2020-03-18 17:38:37,434 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x100015cb57a0000
2020-03-18 17:38:37,434 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22090
2020-03-18 17:38:37,435 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22090 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:37,435 [myid:] - INFO  [Thread-77:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test663149567715670985.junit.dir/zoo.cfg
2020-03-18 17:38:37,436 [myid:] - INFO  [Thread-77:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22090
2020-03-18 17:38:37,436 [myid:] - INFO  [Thread-77:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:37,436 [myid:] - INFO  [Thread-77:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:37,436 [myid:] - INFO  [Thread-77:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:37,437 [myid:] - WARN  [Thread-77:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:37,437 [myid:3] - WARN  [Thread-77:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:38:37,438 [myid:3] - INFO  [Thread-77:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:37,438 [myid:3] - INFO  [Thread-77:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:37,438 [myid:3] - INFO  [Thread-77:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:37,438 [myid:3] - INFO  [Thread-77:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:37,438 [myid:3] - ERROR [Thread-77:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:37,438 [myid:3] - WARN  [Thread-77:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:37,438 [myid:3] - INFO  [Thread-77:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:37,438 [myid:3] - INFO  [Thread-77:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@2749fa90
2020-03-18 17:38:37,439 [myid:3] - INFO  [Thread-77:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:37,439 [myid:3] - WARN  [Thread-77:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:37,439 [myid:3] - INFO  [Thread-77:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:37,439 [myid:3] - INFO  [Thread-77:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22090
2020-03-18 17:38:37,439 [myid:3] - INFO  [Thread-77:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:37,440 [myid:3] - INFO  [Thread-77:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:37,441 [myid:3] - INFO  [Thread-77:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:37,442 [myid:3] - INFO  [Thread-77:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:37,442 [myid:3] - INFO  [Thread-77:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test663149567715670985.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:37,443 [myid:3] - INFO  [Thread-77:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:37,443 [myid:3] - INFO  [Thread-77:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:37,445 [myid:3] - INFO  [Thread-77:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:37,446 [myid:3] - INFO  [Thread-77:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:37,446 [myid:3] - INFO  [Thread-77:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:37,448 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22087:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22087
2020-03-18 17:38:37,448 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:37,448 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:37,449 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22085:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64553
2020-03-18 17:38:37,450 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22086:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64554
2020-03-18 17:38:37,451 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,451 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:37,451 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:37,451 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:37,451 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:37,451 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:37,451 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test663149567715670985.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test663149567715670985.junit.dir/data/version-2
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:37,452 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:37,453 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22083
2020-03-18 17:38:37,454 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22083:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22083
2020-03-18 17:38:37,455 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64556:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22084:22087:observer;0.0.0.0:22090
2020-03-18 17:38:37,457 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:37,457 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64556:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:37,457 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64556:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x10000000c minCommittedLog=0x100000001 lastProcessedZxid=0x10000000c peerLastZxid=0x0
2020-03-18 17:38:37,458 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64556:ZKDatabase@387] - Unable to find proposals from txnlog for zxid: 0x0
2020-03-18 17:38:37,458 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64556:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x10000000c, send zxid of db as 0x10000000c, 1 concurrent snapshot sync, snapshot sync was not exempt from throttle
2020-03-18 17:38:37,458 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - snap
2020-03-18 17:38:37,458 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x10000000c
2020-03-18 17:38:37,458 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,458 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:37,461 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:37,463 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x10000000c to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test663149567715670985.junit.dir/data/version-2/snapshot.10000000c
2020-03-18 17:38:37,465 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:37,466 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:37,466 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:37,466 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:37,466 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:37,467 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:37,686 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22090
2020-03-18 17:38:37,687 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64563
2020-03-18 17:38:37,687 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:37,687 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22088 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@4eb7f003
2020-03-18 17:38:37,688 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:37,688 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:37,690 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22088.
2020-03-18 17:38:37,690 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:37,690 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64564, server: localhost/127.0.0.1:22088
2020-03-18 17:38:37,691 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x100015cb57a0001
2020-03-18 17:38:37,691 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x100015cb57a0001
2020-03-18 17:38:37,691 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x100015cb57a0001
2020-03-18 17:38:37,692 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.10000000d
2020-03-18 17:38:37,693 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22088, session id = 0x100015cb57a0001, negotiated timeout = 30000
2020-03-18 17:38:37,694 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:37,696 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22090 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@4eb7f003
2020-03-18 17:38:37,696 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:37,696 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:37,696 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22088 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@4eb7f003
2020-03-18 17:38:37,697 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:37,697 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:37,698 [myid:] - INFO  [main:ObserverMasterTest@453] - ASYNC WRITES
2020-03-18 17:38:37,698 [myid:127.0.0.1:22090] - INFO  [main-SendThread(127.0.0.1:22090):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22090.
2020-03-18 17:38:37,698 [myid:127.0.0.1:22090] - INFO  [main-SendThread(127.0.0.1:22090):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:37,698 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower0
2020-03-18 17:38:37,699 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs0
2020-03-18 17:38:37,699 [myid:127.0.0.1:22090] - INFO  [main-SendThread(127.0.0.1:22090):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64565, server: localhost/127.0.0.1:22090
2020-03-18 17:38:37,699 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower100
2020-03-18 17:38:37,699 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs100
2020-03-18 17:38:37,700 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs200
2020-03-18 17:38:37,700 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower200
2020-03-18 17:38:37,700 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs300
2020-03-18 17:38:37,700 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower300
2020-03-18 17:38:37,700 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22088.
2020-03-18 17:38:37,700 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:37,700 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower400
2020-03-18 17:38:37,700 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs400
2020-03-18 17:38:37,701 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64566, server: localhost/127.0.0.1:22088
2020-03-18 17:38:37,701 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower500
2020-03-18 17:38:37,701 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs500
2020-03-18 17:38:37,702 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower600
2020-03-18 17:38:37,702 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs600
2020-03-18 17:38:37,702 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower700
2020-03-18 17:38:37,703 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs700
2020-03-18 17:38:37,703 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x300015cb65e0000
2020-03-18 17:38:37,703 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower800
2020-03-18 17:38:37,703 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x300015cb65e0000
2020-03-18 17:38:37,703 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x300015cb65e0000
2020-03-18 17:38:37,703 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower900
2020-03-18 17:38:37,703 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs800
2020-03-18 17:38:37,704 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1000
2020-03-18 17:38:37,704 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x100015cb57a0002
2020-03-18 17:38:37,704 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x100015cb57a0002
2020-03-18 17:38:37,704 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1100
2020-03-18 17:38:37,705 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1200
2020-03-18 17:38:37,704 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs900
2020-03-18 17:38:37,705 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1000
2020-03-18 17:38:37,705 [myid:127.0.0.1:22090] - INFO  [main-SendThread(127.0.0.1:22090):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22090, session id = 0x300015cb65e0000, negotiated timeout = 30000
2020-03-18 17:38:37,704 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x100015cb57a0002
2020-03-18 17:38:37,705 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:37,705 [myid:127.0.0.1:22088] - INFO  [main-SendThread(127.0.0.1:22088):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22088, session id = 0x100015cb57a0002, negotiated timeout = 30000
2020-03-18 17:38:37,705 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1100
2020-03-18 17:38:37,706 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:37,705 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1300
2020-03-18 17:38:37,707 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1400
2020-03-18 17:38:37,707 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1500
2020-03-18 17:38:37,708 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1600
2020-03-18 17:38:37,708 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1700
2020-03-18 17:38:37,709 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1800
2020-03-18 17:38:37,709 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower1900
2020-03-18 17:38:37,710 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2000
2020-03-18 17:38:37,710 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2100
2020-03-18 17:38:37,711 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2200
2020-03-18 17:38:37,712 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2300
2020-03-18 17:38:37,712 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2400
2020-03-18 17:38:37,712 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2500
2020-03-18 17:38:37,712 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2600
2020-03-18 17:38:37,713 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2700
2020-03-18 17:38:37,713 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2800
2020-03-18 17:38:37,713 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower2900
2020-03-18 17:38:37,713 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3000
2020-03-18 17:38:37,714 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3100
2020-03-18 17:38:37,714 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3200
2020-03-18 17:38:37,715 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3300
2020-03-18 17:38:37,715 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1200
2020-03-18 17:38:37,715 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3400
2020-03-18 17:38:37,715 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1300
2020-03-18 17:38:37,715 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3500
2020-03-18 17:38:37,715 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1400
2020-03-18 17:38:37,716 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3600
2020-03-18 17:38:37,716 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1500
2020-03-18 17:38:37,716 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3700
2020-03-18 17:38:37,716 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1600
2020-03-18 17:38:37,716 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1700
2020-03-18 17:38:37,717 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1800
2020-03-18 17:38:37,717 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3800
2020-03-18 17:38:37,717 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs1900
2020-03-18 17:38:37,717 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower3900
2020-03-18 17:38:37,718 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2000
2020-03-18 17:38:37,718 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2100
2020-03-18 17:38:37,719 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2200
2020-03-18 17:38:37,719 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2300
2020-03-18 17:38:37,719 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2400
2020-03-18 17:38:37,718 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4000
2020-03-18 17:38:37,720 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2500
2020-03-18 17:38:37,720 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2600
2020-03-18 17:38:37,720 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2700
2020-03-18 17:38:37,720 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2800
2020-03-18 17:38:37,720 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4100
2020-03-18 17:38:37,721 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs2900
2020-03-18 17:38:37,721 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3000
2020-03-18 17:38:37,721 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4200
2020-03-18 17:38:37,721 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3100
2020-03-18 17:38:37,721 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3200
2020-03-18 17:38:37,721 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4300
2020-03-18 17:38:37,722 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3300
2020-03-18 17:38:37,722 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4400
2020-03-18 17:38:37,722 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3400
2020-03-18 17:38:37,722 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4500
2020-03-18 17:38:37,723 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4600
2020-03-18 17:38:37,722 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3500
2020-03-18 17:38:37,723 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4700
2020-03-18 17:38:37,723 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3600
2020-03-18 17:38:37,724 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4800
2020-03-18 17:38:37,724 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower4900
2020-03-18 17:38:37,724 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3700
2020-03-18 17:38:37,725 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3800
2020-03-18 17:38:37,725 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs3900
2020-03-18 17:38:37,725 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4000
2020-03-18 17:38:37,726 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4100
2020-03-18 17:38:37,724 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5000
2020-03-18 17:38:37,726 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4200
2020-03-18 17:38:37,726 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5100
2020-03-18 17:38:37,726 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4300
2020-03-18 17:38:37,726 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5200
2020-03-18 17:38:37,727 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4400
2020-03-18 17:38:37,727 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5300
2020-03-18 17:38:37,727 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4500
2020-03-18 17:38:37,727 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5400
2020-03-18 17:38:37,727 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4600
2020-03-18 17:38:37,728 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4700
2020-03-18 17:38:37,728 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5500
2020-03-18 17:38:37,728 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4800
2020-03-18 17:38:37,728 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5600
2020-03-18 17:38:37,728 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs4900
2020-03-18 17:38:37,726 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower0
2020-03-18 17:38:37,729 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5000
2020-03-18 17:38:37,729 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs0
2020-03-18 17:38:37,729 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5100
2020-03-18 17:38:37,729 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5700
2020-03-18 17:38:37,730 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5200
2020-03-18 17:38:37,730 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5800
2020-03-18 17:38:37,730 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5300
2020-03-18 17:38:37,730 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower5900
2020-03-18 17:38:37,731 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5400
2020-03-18 17:38:37,731 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5500
2020-03-18 17:38:37,731 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5600
2020-03-18 17:38:37,732 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5700
2020-03-18 17:38:37,731 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6000
2020-03-18 17:38:37,732 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5800
2020-03-18 17:38:37,732 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6100
2020-03-18 17:38:37,732 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs5900
2020-03-18 17:38:37,733 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6200
2020-03-18 17:38:37,733 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6000
2020-03-18 17:38:37,733 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6300
2020-03-18 17:38:37,733 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6100
2020-03-18 17:38:37,733 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6400
2020-03-18 17:38:37,733 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6200
2020-03-18 17:38:37,734 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6500
2020-03-18 17:38:37,734 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6300
2020-03-18 17:38:37,734 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6600
2020-03-18 17:38:37,734 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6400
2020-03-18 17:38:37,735 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6700
2020-03-18 17:38:37,735 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6500
2020-03-18 17:38:37,735 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6800
2020-03-18 17:38:37,735 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6600
2020-03-18 17:38:37,735 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower6900
2020-03-18 17:38:37,735 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6700
2020-03-18 17:38:37,736 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7000
2020-03-18 17:38:37,736 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6800
2020-03-18 17:38:37,736 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7100
2020-03-18 17:38:37,736 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs6900
2020-03-18 17:38:37,736 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7200
2020-03-18 17:38:37,736 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7000
2020-03-18 17:38:37,737 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7100
2020-03-18 17:38:37,737 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7300
2020-03-18 17:38:37,738 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7400
2020-03-18 17:38:37,738 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7200
2020-03-18 17:38:37,738 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7300
2020-03-18 17:38:37,738 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7500
2020-03-18 17:38:37,738 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7400
2020-03-18 17:38:37,739 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7500
2020-03-18 17:38:37,739 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7600
2020-03-18 17:38:37,739 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7600
2020-03-18 17:38:37,739 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7700
2020-03-18 17:38:37,739 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7700
2020-03-18 17:38:37,739 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7800
2020-03-18 17:38:37,740 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs7900
2020-03-18 17:38:37,740 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8000
2020-03-18 17:38:37,740 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7800
2020-03-18 17:38:37,740 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8100
2020-03-18 17:38:37,740 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8200
2020-03-18 17:38:37,741 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8300
2020-03-18 17:38:37,741 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8400
2020-03-18 17:38:37,741 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8500
2020-03-18 17:38:37,742 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8600
2020-03-18 17:38:37,742 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8700
2020-03-18 17:38:37,740 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower7900
2020-03-18 17:38:37,742 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8000
2020-03-18 17:38:37,743 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8100
2020-03-18 17:38:37,743 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8200
2020-03-18 17:38:37,743 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8300
2020-03-18 17:38:37,742 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8800
2020-03-18 17:38:37,744 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs8900
2020-03-18 17:38:37,744 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8400
2020-03-18 17:38:37,744 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9000
2020-03-18 17:38:37,744 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9100
2020-03-18 17:38:37,744 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8500
2020-03-18 17:38:37,744 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9200
2020-03-18 17:38:37,745 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8600
2020-03-18 17:38:37,745 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8700
2020-03-18 17:38:37,746 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8800
2020-03-18 17:38:37,746 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower8900
2020-03-18 17:38:37,746 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9000
2020-03-18 17:38:37,747 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9100
2020-03-18 17:38:37,747 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9200
2020-03-18 17:38:37,748 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9300
2020-03-18 17:38:37,748 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9400
2020-03-18 17:38:37,748 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9500
2020-03-18 17:38:37,745 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9300
2020-03-18 17:38:37,749 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9600
2020-03-18 17:38:37,749 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9400
2020-03-18 17:38:37,749 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9700
2020-03-18 17:38:37,749 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9500
2020-03-18 17:38:37,749 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9600
2020-03-18 17:38:37,750 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9700
2020-03-18 17:38:37,750 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9800
2020-03-18 17:38:37,749 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9800
2020-03-18 17:38:37,750 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs9900
2020-03-18 17:38:37,750 [myid:] - INFO  [Thread-79:ObserverMasterTest$AsyncWriter@734] - async wrote /obs10000
2020-03-18 17:38:37,750 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower9900
2020-03-18 17:38:37,751 [myid:] - INFO  [Thread-80:ObserverMasterTest$AsyncWriter@734] - async wrote /follower10000
2020-03-18 17:38:38,152 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower100
2020-03-18 17:38:38,158 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower200
2020-03-18 17:38:38,162 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower300
2020-03-18 17:38:38,166 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower400
2020-03-18 17:38:38,335 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs100
2020-03-18 17:38:38,340 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs200
2020-03-18 17:38:38,348 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs300
2020-03-18 17:38:38,357 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs400
2020-03-18 17:38:38,362 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs500
2020-03-18 17:38:38,366 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs600
2020-03-18 17:38:38,373 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs700
2020-03-18 17:38:38,378 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs800
2020-03-18 17:38:38,382 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs900
2020-03-18 17:38:38,387 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1000
2020-03-18 17:38:38,401 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower500
2020-03-18 17:38:38,628 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1100
2020-03-18 17:38:38,638 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1200
2020-03-18 17:38:38,646 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1300
2020-03-18 17:38:38,705 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1400
2020-03-18 17:38:38,735 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1500
2020-03-18 17:38:38,740 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1600
2020-03-18 17:38:38,745 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1700
2020-03-18 17:38:38,753 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower600
2020-03-18 17:38:38,760 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower700
2020-03-18 17:38:38,766 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower800
2020-03-18 17:38:38,770 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower900
2020-03-18 17:38:39,025 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1800
2020-03-18 17:38:39,028 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs1900
2020-03-18 17:38:39,033 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2000
2020-03-18 17:38:39,034 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1000
2020-03-18 17:38:39,038 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2100
2020-03-18 17:38:39,039 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1100
2020-03-18 17:38:39,040 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2200
2020-03-18 17:38:39,043 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2300
2020-03-18 17:38:39,043 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1200
2020-03-18 17:38:39,044 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2400
2020-03-18 17:38:39,049 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1300
2020-03-18 17:38:39,054 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1400
2020-03-18 17:38:39,059 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1500
2020-03-18 17:38:39,064 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1600
2020-03-18 17:38:39,069 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1700
2020-03-18 17:38:39,074 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1800
2020-03-18 17:38:39,079 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower1900
2020-03-18 17:38:39,084 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2000
2020-03-18 17:38:39,089 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2100
2020-03-18 17:38:39,094 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2200
2020-03-18 17:38:39,096 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2300
2020-03-18 17:38:39,098 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2400
2020-03-18 17:38:39,099 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2500
2020-03-18 17:38:39,101 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2600
2020-03-18 17:38:39,414 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2500
2020-03-18 17:38:39,523 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2700
2020-03-18 17:38:39,524 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2600
2020-03-18 17:38:39,526 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2700
2020-03-18 17:38:39,527 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2800
2020-03-18 17:38:39,528 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs2900
2020-03-18 17:38:39,529 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3000
2020-03-18 17:38:39,531 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3100
2020-03-18 17:38:39,532 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3200
2020-03-18 17:38:39,534 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3300
2020-03-18 17:38:39,535 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3400
2020-03-18 17:38:39,536 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3500
2020-03-18 17:38:39,537 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3600
2020-03-18 17:38:39,538 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3700
2020-03-18 17:38:39,539 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3800
2020-03-18 17:38:39,541 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs3900
2020-03-18 17:38:39,542 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4000
2020-03-18 17:38:39,544 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2800
2020-03-18 17:38:39,554 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower2900
2020-03-18 17:38:39,555 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3000
2020-03-18 17:38:39,556 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3100
2020-03-18 17:38:39,558 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3200
2020-03-18 17:38:39,560 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3300
2020-03-18 17:38:39,568 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3400
2020-03-18 17:38:39,575 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3500
2020-03-18 17:38:39,576 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3600
2020-03-18 17:38:39,578 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3700
2020-03-18 17:38:39,581 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3800
2020-03-18 17:38:39,701 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower3900
2020-03-18 17:38:39,702 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4000
2020-03-18 17:38:39,703 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4100
2020-03-18 17:38:40,125 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:40,125 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:40,125 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:40,125 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:40,125 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:40,125 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:40,151 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4100
2020-03-18 17:38:40,152 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4200
2020-03-18 17:38:40,247 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:40,429 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4200
2020-03-18 17:38:40,430 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4300
2020-03-18 17:38:40,431 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4400
2020-03-18 17:38:40,433 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4500
2020-03-18 17:38:40,434 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4600
2020-03-18 17:38:40,435 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4700
2020-03-18 17:38:40,436 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4800
2020-03-18 17:38:40,436 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower4900
2020-03-18 17:38:40,437 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4300
2020-03-18 17:38:40,438 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5000
2020-03-18 17:38:40,438 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4400
2020-03-18 17:38:40,439 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5100
2020-03-18 17:38:40,440 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4500
2020-03-18 17:38:40,441 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4600
2020-03-18 17:38:40,442 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4700
2020-03-18 17:38:40,444 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4800
2020-03-18 17:38:40,445 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs4900
2020-03-18 17:38:40,462 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5000
2020-03-18 17:38:40,468 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5100
2020-03-18 17:38:40,475 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5200
2020-03-18 17:38:40,479 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5300
2020-03-18 17:38:40,484 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5400
2020-03-18 17:38:40,487 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5500
2020-03-18 17:38:40,491 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5600
2020-03-18 17:38:40,494 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5700
2020-03-18 17:38:40,497 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5200
2020-03-18 17:38:40,497 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5800
2020-03-18 17:38:40,516 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs5900
2020-03-18 17:38:40,580 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5300
2020-03-18 17:38:40,584 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5400
2020-03-18 17:38:40,596 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5500
2020-03-18 17:38:40,598 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5600
2020-03-18 17:38:40,600 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5700
2020-03-18 17:38:40,603 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5800
2020-03-18 17:38:40,606 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower5900
2020-03-18 17:38:40,609 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6000
2020-03-18 17:38:40,611 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6100
2020-03-18 17:38:40,614 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6200
2020-03-18 17:38:40,731 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6000
2020-03-18 17:38:40,733 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6100
2020-03-18 17:38:40,736 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6200
2020-03-18 17:38:40,737 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6300
2020-03-18 17:38:40,738 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6400
2020-03-18 17:38:40,741 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6500
2020-03-18 17:38:40,742 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6600
2020-03-18 17:38:40,749 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6300
2020-03-18 17:38:40,756 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6700
2020-03-18 17:38:40,758 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6800
2020-03-18 17:38:40,760 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs6900
2020-03-18 17:38:40,761 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6400
2020-03-18 17:38:40,764 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7000
2020-03-18 17:38:40,767 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7100
2020-03-18 17:38:40,769 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7200
2020-03-18 17:38:40,774 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7300
2020-03-18 17:38:40,776 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7400
2020-03-18 17:38:40,868 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7500
2020-03-18 17:38:40,905 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7600
2020-03-18 17:38:40,908 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7700
2020-03-18 17:38:40,912 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7800
2020-03-18 17:38:40,916 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs7900
2020-03-18 17:38:40,921 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8000
2020-03-18 17:38:40,926 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8100
2020-03-18 17:38:40,932 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8200
2020-03-18 17:38:40,936 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8300
2020-03-18 17:38:40,937 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8400
2020-03-18 17:38:40,939 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8500
2020-03-18 17:38:40,954 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8600
2020-03-18 17:38:40,957 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8700
2020-03-18 17:38:40,969 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8800
2020-03-18 17:38:40,974 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs8900
2020-03-18 17:38:40,980 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9000
2020-03-18 17:38:41,095 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6500
2020-03-18 17:38:41,097 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6600
2020-03-18 17:38:41,101 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6700
2020-03-18 17:38:41,110 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6800
2020-03-18 17:38:41,117 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower6900
2020-03-18 17:38:41,131 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7000
2020-03-18 17:38:41,135 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7100
2020-03-18 17:38:41,137 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7200
2020-03-18 17:38:41,146 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7300
2020-03-18 17:38:41,166 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9100
2020-03-18 17:38:41,218 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7400
2020-03-18 17:38:41,244 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7500
2020-03-18 17:38:41,255 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7600
2020-03-18 17:38:41,258 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7700
2020-03-18 17:38:41,260 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7800
2020-03-18 17:38:41,263 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower7900
2020-03-18 17:38:41,276 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8000
2020-03-18 17:38:41,279 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8100
2020-03-18 17:38:41,286 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8200
2020-03-18 17:38:41,289 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8300
2020-03-18 17:38:41,292 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8400
2020-03-18 17:38:41,294 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8500
2020-03-18 17:38:41,298 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8600
2020-03-18 17:38:41,299 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8700
2020-03-18 17:38:41,300 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8800
2020-03-18 17:38:41,302 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower8900
2020-03-18 17:38:41,305 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9000
2020-03-18 17:38:41,308 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9100
2020-03-18 17:38:41,309 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9200
2020-03-18 17:38:41,312 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9300
2020-03-18 17:38:41,314 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9400
2020-03-18 17:38:41,316 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9500
2020-03-18 17:38:41,317 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9600
2020-03-18 17:38:41,401 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9200
2020-03-18 17:38:41,413 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9300
2020-03-18 17:38:41,416 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9400
2020-03-18 17:38:41,418 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9500
2020-03-18 17:38:41,420 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9600
2020-03-18 17:38:41,421 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9700
2020-03-18 17:38:41,426 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9800
2020-03-18 17:38:41,435 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs9900
2020-03-18 17:38:41,436 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /obs10000
2020-03-18 17:38:41,468 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9700
2020-03-18 17:38:41,469 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9800
2020-03-18 17:38:41,470 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower9900
2020-03-18 17:38:41,491 [myid:] - INFO  [main-EventThread:ObserverMasterTest$AsyncWriter$1@729] - wrote /follower10000
2020-03-18 17:38:41,491 [myid:3] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x300015cb65e0000
2020-03-18 17:38:41,595 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:41,595 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x300015cb65e0000 closed
2020-03-18 17:38:41,595 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x300015cb65e0000
2020-03-18 17:38:41,596 [myid:1] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x100015cb57a0002
2020-03-18 17:38:41,702 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:41,702 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x100015cb57a0002 closed
2020-03-18 17:38:41,703 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:41,702 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x100015cb57a0002
2020-03-18 17:38:41,703 [myid:1] - INFO  [RequestThrottler:QuorumZooKeeperServer@158] - Submitting global closeSession request for session 0x100015cb57a0001
2020-03-18 17:38:41,806 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:41,806 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x100015cb57a0001
2020-03-18 17:38:41,806 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x100015cb57a0001 closed
2020-03-18 17:38:41,806 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled)
2020-03-18 17:38:41,806 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:41,807 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:41,807 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:41,807 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:41,807 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:64544:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:41,807 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22083). Was connected for 4581ms. Sync state: true
2020-03-18 17:38:41,807 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:41,807 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64544:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64544 ********
2020-03-18 17:38:41,807 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:41,807 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:41,808 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:41,808 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:41,808 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:41,808 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:41,808 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:41,808 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:41,859 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:41,859 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:41,860 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:41,860 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:41,860 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:41,860 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:41,860 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22088:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:41,861 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:41,861 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:41,862 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:41,862 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:41,862 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:41,862 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:41,862 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:41,862 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:41,862 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:41,862 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:41,862 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:41,862 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:41,862 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:41,863 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:41,862 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:41,863 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:41,863 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled)
2020-03-18 17:38:41,863 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:41,863 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:41,863 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22088)(secure=disabled) to exit thread
2020-03-18 17:38:41,863 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled)
2020-03-18 17:38:41,864 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:41,864 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:41,864 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22083:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:41,864 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:41,865 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:41,865 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:41,865 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:41,865 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:41,865 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:41,866 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:41,866 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:41,866 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:41,866 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:41,867 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:41,867 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:41,867 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:41,867 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:41,867 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:41,906 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:41,906 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22083). Was connected for 4452ms. Sync state: true
2020-03-18 17:38:41,906 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:41,906 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:41,906 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:41,906 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:41,907 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:41,907 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:41,907 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):ObserverRequestProcessor@152] - Shutting down
2020-03-18 17:38:41,907 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):CommitProcessor@617] - Shutting down
2020-03-18 17:38:41,907 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@120] - ObserverRequestProcessor exited loop!
2020-03-18 17:38:41,907 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:41,907 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:41,912 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64556:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64556 ********
2020-03-18 17:38:41,912 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22089:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:41,912 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:41,913 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:41,913 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:41,913 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:41,914 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:41,914 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:41,914 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:41,914 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:41,919 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:41,919 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:41,919 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:41,919 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 3
2020-03-18 17:38:41,919 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:41,919 [myid:2] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:41,920 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:41,920 [myid:2] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 2
2020-03-18 17:38:41,942 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:41,943 [myid:3] - INFO  [SyncThread:3:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:41,943 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:41,943 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:41,943 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:41,943 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Observer@258] - Waiting for 134 ms before reconnecting with the leader
2020-03-18 17:38:41,943 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled)
2020-03-18 17:38:41,943 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22089)(secure=disabled) to exit thread
2020-03-18 17:38:41,944 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled)
2020-03-18 17:38:41,945 [myid:3] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:41,946 [myid:3] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22090:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:41,946 [myid:3] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:41,947 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):Observer@262] - Interrupted while waiting
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Observer.waitForReconnectDelayHelper(Observer.java:260)
	at org.apache.zookeeper.server.quorum.Observer.waitForObserverElectionDelay(Observer.java:252)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1447)
2020-03-18 17:38:41,947 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:41,948 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:41,948 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled)
2020-03-18 17:38:41,949 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22090)(secure=disabled) to exit thread
2020-03-18 17:38:41,950 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22088
2020-03-18 17:38:41,951 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22089
2020-03-18 17:38:41,951 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22090
2020-03-18 17:38:41,952 [myid:] - INFO  [main:QuorumPeerTestBase@64] - No servers to shutdown!
2020-03-18 17:38:41,952 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testInOrderCommits[1]
2020-03-18 17:38:41,952 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testInOrderCommits[1]
2020-03-18 17:38:41,952 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testRevalidation[1]
2020-03-18 17:38:41,953 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22092 from range 21993 - 24685.
2020-03-18 17:38:41,953 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22093 from range 21993 - 24685.
2020-03-18 17:38:41,953 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22094 from range 21993 - 24685.
2020-03-18 17:38:41,953 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22095 from range 21993 - 24685.
2020-03-18 17:38:41,953 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22096 from range 21993 - 24685.
2020-03-18 17:38:41,954 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22097 from range 21993 - 24685.
2020-03-18 17:38:41,954 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22098 from range 21993 - 24685.
2020-03-18 17:38:41,954 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22099 from range 21993 - 24685.
2020-03-18 17:38:41,954 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22100 from range 21993 - 24685.
2020-03-18 17:38:41,955 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22101 from range 21993 - 24685.
2020-03-18 17:38:41,956 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 1 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2872286882707825552.junit.dir clientPort = 22098 adminServerPort = 8080
2020-03-18 17:38:41,958 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 2 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test1577144175127196126.junit.dir clientPort = 22099 adminServerPort = 8080
2020-03-18 17:38:41,960 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@205] - id = 3 tmpDir = /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8595527452142486548.junit.dir clientPort = 22100 adminServerPort = 8080
2020-03-18 17:38:41,962 [myid:] - INFO  [Thread-81:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2872286882707825552.junit.dir/zoo.cfg
2020-03-18 17:38:41,962 [myid:] - INFO  [Thread-82:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test1577144175127196126.junit.dir/zoo.cfg
2020-03-18 17:38:41,963 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22098
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-81:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22098
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-81:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-81:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-81:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-82:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22099
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-82:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-82:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:41,963 [myid:] - INFO  [Thread-82:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:41,963 [myid:] - WARN  [Thread-81:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:41,964 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22098 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:41,964 [myid:] - WARN  [Thread-82:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:41,964 [myid:1] - INFO  [Thread-81:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:41,964 [myid:1] - INFO  [Thread-81:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:41,964 [myid:1] - INFO  [Thread-81:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:41,964 [myid:1] - INFO  [Thread-81:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:41,964 [myid:2] - INFO  [Thread-82:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:41,964 [myid:2] - INFO  [Thread-82:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:41,964 [myid:2] - INFO  [Thread-82:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:41,964 [myid:2] - INFO  [Thread-82:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:41,964 [myid:1] - ERROR [Thread-81:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:41,964 [myid:2] - ERROR [Thread-82:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:41,964 [myid:1] - WARN  [Thread-81:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:41,965 [myid:1] - INFO  [Thread-81:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:41,964 [myid:2] - WARN  [Thread-82:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:41,965 [myid:2] - INFO  [Thread-82:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:41,965 [myid:1] - INFO  [Thread-81:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@603aad6e
2020-03-18 17:38:41,965 [myid:2] - INFO  [Thread-82:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@4344c9a1
2020-03-18 17:38:41,965 [myid:1] - INFO  [Thread-81:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:41,965 [myid:1] - WARN  [Thread-81:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:41,965 [myid:2] - INFO  [Thread-82:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:41,965 [myid:2] - WARN  [Thread-82:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:41,965 [myid:1] - INFO  [Thread-81:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:41,965 [myid:2] - INFO  [Thread-82:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:41,965 [myid:1] - INFO  [Thread-81:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22098
2020-03-18 17:38:41,965 [myid:2] - INFO  [Thread-82:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22099
2020-03-18 17:38:41,966 [myid:1] - INFO  [Thread-81:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:41,966 [myid:2] - INFO  [Thread-82:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:41,966 [myid:1] - INFO  [Thread-81:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:41,966 [myid:1] - INFO  [Thread-81:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:41,966 [myid:1] - INFO  [Thread-81:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:41,966 [myid:1] - INFO  [Thread-81:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:41,966 [myid:1] - INFO  [Thread-81:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:41,966 [myid:1] - INFO  [Thread-81:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:41,967 [myid:1] - INFO  [Thread-81:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:41,967 [myid:1] - INFO  [Thread-81:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:41,966 [myid:2] - INFO  [Thread-82:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:41,967 [myid:1] - INFO  [Thread-81:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:41,967 [myid:1] - INFO  [Thread-81:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:41,967 [myid:1] - INFO  [Thread-81:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:41,967 [myid:1] - INFO  [Thread-81:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:41,967 [myid:2] - INFO  [Thread-82:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:41,968 [myid:1] - INFO  [Thread-81:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:41,969 [myid:1] - INFO  [Thread-81:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2872286882707825552.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:41,969 [myid:1] - INFO  [Thread-81:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:41,970 [myid:1] - INFO  [Thread-81:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:41,971 [myid:1] - INFO  [Thread-81:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:41,972 [myid:1] - INFO  [Thread-81:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:41,972 [myid:1] - INFO  [Thread-81:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:41,978 [myid:2] - INFO  [Thread-82:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:41,978 [myid:2] - INFO  [Thread-82:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:41,978 [myid:2] - INFO  [Thread-82:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:41,979 [myid:2] - INFO  [Thread-82:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:41,979 [myid:2] - INFO  [Thread-82:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:41,979 [myid:2] - INFO  [Thread-82:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:41,979 [myid:2] - INFO  [Thread-82:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:41,979 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22095:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22095
2020-03-18 17:38:41,979 [myid:2] - INFO  [Thread-82:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:41,979 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:41,980 [myid:2] - INFO  [Thread-82:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test1577144175127196126.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:41,980 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):FastLeaderElection@931] - New election. My id = 1, proposed zxid=0x0
2020-03-18 17:38:41,980 [myid:2] - INFO  [Thread-82:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:41,980 [myid:2] - INFO  [Thread-82:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:41,980 [myid:1] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@716] - Cannot open channel to 2 at election address /127.0.0.1:22096
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:677)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:748)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:644)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:503)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:487)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:41,981 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:41,981 [myid:2] - INFO  [Thread-82:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:41,982 [myid:2] - INFO  [Thread-82:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:41,996 [myid:2] - INFO  [Thread-82:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:41,997 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22096:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22096
2020-03-18 17:38:41,997 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:41,997 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):FastLeaderElection@931] - New election. My id = 2, proposed zxid=0x0
2020-03-18 17:38:41,998 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22095:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64672
2020-03-18 17:38:41,999 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:41,999 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:41,999 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:41,999 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:41,999 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:42,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):QuorumPeer@857] - Peer state changed: leading
2020-03-18 17:38:42,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@857] - Peer state changed: following
2020-03-18 17:38:42,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):QuorumPeer@1465] - LEADING
2020-03-18 17:38:42,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@1453] - FOLLOWING
2020-03-18 17:38:42,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:42,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:42,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:42,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:42,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:42,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:42,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:42,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:42,202 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:42,202 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2872286882707825552.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test2872286882707825552.junit.dir/data/version-2
2020-03-18 17:38:42,203 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test1577144175127196126.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test1577144175127196126.junit.dir/data/version-2
2020-03-18 17:38:42,203 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 224 MS
2020-03-18 17:38:42,204 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):Leader@581] - LEADING - LEADER ELECTION TOOK - 206 MS
2020-03-18 17:38:42,204 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@863] - Peer state changed: following - discovery
2020-03-18 17:38:42,204 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - discovery
2020-03-18 17:38:42,204 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test1577144175127196126.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:42,205 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:42,205 [myid:1] - INFO  [LeaderConnector-/127.0.0.1:22093:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22093
2020-03-18 17:38:42,207 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64674:LearnerHandler@504] - Follower sid: 1 : info : 127.0.0.1:22092:22095:participant;0.0.0.0:22098
2020-03-18 17:38:42,210 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@863] - Peer state changed: following - synchronization
2020-03-18 17:38:42,210 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64674:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:42,210 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64674:LearnerHandler@800] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-03-18 17:38:42,210 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64674:LearnerHandler@845] - Sending DIFF zxid=0x0 for peer sid: 1
2020-03-18 17:38:42,211 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - synchronization
2020-03-18 17:38:42,212 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Learner@509] - Getting a diff from the leader 0x0
2020-03-18 17:38:42,212 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization - diff
2020-03-18 17:38:42,212 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:42,214 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22098
2020-03-18 17:38:42,215 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):Leader@1501] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-03-18 17:38:42,215 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:42,215 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:42,216 [myid:1] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64675
2020-03-18 17:38:42,216 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-03-18 17:38:42,216 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcast
2020-03-18 17:38:42,217 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:42,217 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@868] - Peer state changed: following - synchronization
2020-03-18 17:38:42,217 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:42,217 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:42,218 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast
2020-03-18 17:38:42,469 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22098
2020-03-18 17:38:42,470 [myid:1] - INFO  [NIOWorkerThread-2:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64676
2020-03-18 17:38:42,470 [myid:1] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-03-18 17:38:42,470 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22099
2020-03-18 17:38:42,471 [myid:2] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64677
2020-03-18 17:38:42,471 [myid:2] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:42,472 [myid:] - INFO  [Thread-85:QuorumPeerConfig@173] - Reading configuration from: /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8595527452142486548.junit.dir/zoo.cfg
2020-03-18 17:38:42,472 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22100
2020-03-18 17:38:42,472 [myid:] - INFO  [main:ClientBase@267] - server 127.0.0.1:22100 not up: java.net.ConnectException: Connection refused (Connection refused)
2020-03-18 17:38:42,473 [myid:] - INFO  [Thread-85:QuorumPeerConfig@459] - clientPortAddress is 0.0.0.0:22100
2020-03-18 17:38:42,473 [myid:] - INFO  [Thread-85:QuorumPeerConfig@463] - secureClientPort is not set
2020-03-18 17:38:42,473 [myid:] - INFO  [Thread-85:QuorumPeerConfig@479] - observerMasterPort is not set
2020-03-18 17:38:42,473 [myid:] - INFO  [Thread-85:QuorumPeerConfig@496] - metricsProvider.className is org.apache.zookeeper.metrics.impl.DefaultMetricsProvider
2020-03-18 17:38:42,473 [myid:] - WARN  [Thread-85:QuorumPeerConfig@727] - No server failure will be tolerated. You need at least 3 servers.
2020-03-18 17:38:42,474 [myid:3] - WARN  [Thread-85:QuorumPeerConfig@792] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2020-03-18 17:38:42,474 [myid:3] - INFO  [Thread-85:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2020-03-18 17:38:42,474 [myid:3] - INFO  [Thread-85:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2020-03-18 17:38:42,474 [myid:3] - INFO  [Thread-85:DatadirCleanupManager@101] - Purge task is not scheduled.
2020-03-18 17:38:42,474 [myid:3] - INFO  [Thread-85:ManagedUtil@45] - Log4j found with jmx enabled.
2020-03-18 17:38:42,474 [myid:3] - ERROR [Thread-85:ManagedUtil@111] - Problems while registering log4j jmx beans!
javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:74)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:42,474 [myid:3] - WARN  [Thread-85:QuorumPeerMain@148] - Unable to register log4j JMX control
javax.management.JMException: javax.management.InstanceAlreadyExistsException: log4j:hierarchy=default
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:112)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:146)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:136)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:329)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:42,474 [myid:3] - INFO  [Thread-85:QuorumPeerMain@151] - Starting quorum peer
2020-03-18 17:38:42,474 [myid:3] - INFO  [Thread-85:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.impl.DefaultMetricsProvider@2414f8da
2020-03-18 17:38:42,474 [myid:3] - INFO  [Thread-85:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-03-18 17:38:42,475 [myid:3] - WARN  [Thread-85:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2020-03-18 17:38:42,475 [myid:3] - INFO  [Thread-85:NIOServerCnxnFactory@666] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 8 worker threads, and 64 kB direct buffers.
2020-03-18 17:38:42,475 [myid:3] - INFO  [Thread-85:NIOServerCnxnFactory@674] - binding to port /0.0.0.0:22100
2020-03-18 17:38:42,475 [myid:3] - INFO  [Thread-85:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-03-18 17:38:42,475 [myid:3] - INFO  [Thread-85:QuorumPeer@1680] - Local sessions disabled
2020-03-18 17:38:42,475 [myid:3] - INFO  [Thread-85:QuorumPeer@1691] - Local session upgrading disabled
2020-03-18 17:38:42,475 [myid:3] - INFO  [Thread-85:QuorumPeer@1658] - tickTime set to 4000
2020-03-18 17:38:42,475 [myid:3] - INFO  [Thread-85:QuorumPeer@1702] - minSessionTimeout set to 8000
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@1713] - maxSessionTimeout set to 80000
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@1738] - initLimit set to 10
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@1920] - syncLimit set to 5
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@1935] - connectToLearnerMasterLimit set to 5
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@2001] - Using insecure (non-TLS) quorum communication
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@2007] - Port unification disabled
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@174] - multiAddress.enabled set to false
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@199] - multiAddress.reachabilityCheckEnabled set to true
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@186] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@2461] - QuorumPeer communication is not secured! (SASL auth disabled)
2020-03-18 17:38:42,476 [myid:3] - INFO  [Thread-85:QuorumPeer@2486] - quorum.cnxn.threads.size set to 20
2020-03-18 17:38:42,477 [myid:3] - INFO  [Thread-85:FileTxnSnapLog@251] - Initialize file found, an empty database will not block voting participation
2020-03-18 17:38:42,477 [myid:3] - INFO  [Thread-85:FileTxnSnapLog@470] - Snapshotting: 0x0 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8595527452142486548.junit.dir/data/version-2/snapshot.0
2020-03-18 17:38:42,478 [myid:3] - INFO  [Thread-85:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-03-18 17:38:42,478 [myid:3] - INFO  [Thread-85:QuorumPeer@1102] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:42,479 [myid:3] - INFO  [Thread-85:QuorumPeer@1122] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-03-18 17:38:42,482 [myid:3] - INFO  [Thread-85:QuorumPeer@2503] - Using 20000ms as the quorum cnxn socket timeout
2020-03-18 17:38:42,482 [myid:3] - INFO  [Thread-85:QuorumCnxManager$Listener@906] - Election port bind maximum retries is 3
2020-03-18 17:38:42,483 [myid:3] - INFO  [ListenerHandler-/127.0.0.1:22097:QuorumCnxManager$Listener$ListenerHandler@1047] - My election bind port: /127.0.0.1:22097
2020-03-18 17:38:42,483 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@1371] - LOOKING
2020-03-18 17:38:42,483 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):FastLeaderElection@931] - New election. My id = 3, proposed zxid=0x8000000000000000
2020-03-18 17:38:42,484 [myid:1] - INFO  [ListenerHandler-/127.0.0.1:22095:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64679
2020-03-18 17:38:42,485 [myid:2] - INFO  [ListenerHandler-/127.0.0.1:22096:QuorumCnxManager$Listener$ListenerHandler@1052] - Received connection request /127.0.0.1:64680
2020-03-18 17:38:42,486 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:42,486 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@376] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@857] - Peer state changed: observing
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@1434] - OBSERVING
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ZooKeeperServer@1246] - minSessionTimeout set to 8000
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ZooKeeperServer@1255] - maxSessionTimeout set to 80000
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-03-18 17:38:42,487 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-03-18 17:38:42,488 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ZooKeeperServer@1470] - The max bytes for all large requests are set to 104857600
2020-03-18 17:38:42,488 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ZooKeeperServer@1484] - The large request threshold is set to -1
2020-03-18 17:38:42,488 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ZooKeeperServer@329] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 clientPortListenBacklog -1 datadir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8595527452142486548.junit.dir/data/version-2 snapdir /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8595527452142486548.junit.dir/data/version-2
2020-03-18 17:38:42,488 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2020-03-18 17:38:42,488 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - discovery
2020-03-18 17:38:42,489 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):Observer@162] - Observing new leader sid=2 addr=/127.0.0.1:22093
2020-03-18 17:38:42,490 [myid:3] - INFO  [LeaderConnector-/127.0.0.1:22093:Learner$LeaderConnector@328] - Successfully connected to leader, using address: /127.0.0.1:22093
2020-03-18 17:38:42,492 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64682:LearnerHandler@504] - Follower sid: 3 : info : 127.0.0.1:22094:22097:observer;0.0.0.0:22100
2020-03-18 17:38:42,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - synchronization
2020-03-18 17:38:42,494 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64682:ZKDatabase@345] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-03-18 17:38:42,494 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64682:LearnerHandler@800] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x100000000 peerLastZxid=0x0
2020-03-18 17:38:42,494 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:64682:LearnerHandler@565] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x100000000, send zxid of db as 0x100000000, 1 concurrent snapshot sync, snapshot sync was not exempt from throttle
2020-03-18 17:38:42,494 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization - snap
2020-03-18 17:38:42,495 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):Learner@514] - Getting a snapshot from leader 0x100000000
2020-03-18 17:38:42,495 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:42,495 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-03-18 17:38:42,496 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):Learner@675] - Learner received NEWLEADER message
2020-03-18 17:38:42,499 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):FileTxnSnapLog@470] - Snapshotting: 0x100000000 to /Users/liaosheng/project/apache-zookeeper-3.6.0/zookeeper-server/target/surefire/test8595527452142486548.junit.dir/data/version-2/snapshot.100000000
2020-03-18 17:38:42,500 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ZooKeeperServer@519] - Snapshot taken in 1 ms
2020-03-18 17:38:42,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):Learner@659] - Learner received UPTODATE message
2020-03-18 17:38:42,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@868] - Peer state changed: observing - synchronization
2020-03-18 17:38:42,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-03-18 17:38:42,501 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 4 worker threads.
2020-03-18 17:38:42,502 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):QuorumPeer@863] - Peer state changed: observing - broadcast
2020-03-18 17:38:42,725 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 22100
2020-03-18 17:38:42,727 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@507] - Processing stat command from /127.0.0.1:64685
2020-03-18 17:38:42,727 [myid:3] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-03-18 17:38:42,728 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22102 from range 21993 - 24685.
2020-03-18 17:38:42,729 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 22103 from range 21993 - 24685.
2020-03-18 17:38:42,733 [myid:] - INFO  [main:ZooKeeper@1005] - Initiating client connection, connectString=127.0.0.1:22102,127.0.0.1:22103 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ObserverMasterTest@612679d6
2020-03-18 17:38:42,735 [myid:] - INFO  [main:ClientCnxnSocket@239] - jute.maxbuffer value is 1048575 Bytes
2020-03-18 17:38:42,735 [myid:] - INFO  [main:ClientCnxn@1703] - zookeeper.request.timeout value is 0. feature enabled=false
2020-03-18 17:38:42,736 [myid:] - INFO  [Thread-87:PortForwarder@186] - accepting socket local:22102 to:22099
2020-03-18 17:38:42,750 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22103.
2020-03-18 17:38:42,750 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:42,751 [myid:127.0.0.1:22103] - WARN  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:22103, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:42,856 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22102.
2020-03-18 17:38:42,856 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:42,856 [myid:] - INFO  [Thread-87:PortForwarder@188] - accepted: local:22102 from:64689 to:22099
2020-03-18 17:38:42,856 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64689, server: localhost/127.0.0.1:22102
2020-03-18 17:38:42,857 [myid:] - INFO  [Thread-87:PortForwarder@210] - connected: local:22102 from:64689 to:22099
2020-03-18 17:38:42,857 [myid:] - INFO  [Thread-87:PortForwarder@186] - accepting socket local:22102 to:22099
2020-03-18 17:38:42,860 [myid:2] - INFO  [SyncThread:2:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:42,860 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Follower@170] - Got zxid 0x100000001 expected 0x1
2020-03-18 17:38:42,860 [myid:1] - INFO  [SyncThread:1:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:42,862 [myid:2] - INFO  [CommitProcessor:2:LeaderSessionTracker@104] - Committing global session 0x200015cc8f20000
2020-03-18 17:38:42,863 [myid:1] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200015cc8f20000
2020-03-18 17:38:42,863 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000001
2020-03-18 17:38:42,863 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200015cc8f20000
2020-03-18 17:38:42,864 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22102, session id = 0x200015cc8f20000, negotiated timeout = 30000
2020-03-18 17:38:42,864 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:42,873 [myid:] - INFO  [Thread-88:PortForwarder@186] - accepting socket local:22103 to:22100
2020-03-18 17:38:42,874 [myid:127.0.0.1:22102] - WARN  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1272] - Session 0x200015cc8f20000 for sever localhost/127.0.0.1:22102, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015cc8f20000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:42,874 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=64689,localport=22102]-->Socket[addr=localhost/127.0.0.1,port=22099,localport=64690]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=64689,localport=22102]
2020-03-18 17:38:42,874 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22099,localport=64690]-->Socket[addr=/127.0.0.1,port=64689,localport=22102]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22099,localport=64690]
2020-03-18 17:38:42,875 [myid:2] - WARN  [NIOWorkerThread-8:NIOServerCnxn@364] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:64690, session = 0x200015cc8f20000
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:42,978 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:38:43,452 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:43,452 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:43,452 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:43,457 [myid:2] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@492] - WorkerSender is down
2020-03-18 17:38:43,457 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:43,457 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@458] - WorkerReceiver is down
2020-03-18 17:38:43,856 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22103.
2020-03-18 17:38:43,857 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:43,858 [myid:] - INFO  [Thread-88:PortForwarder@188] - accepted: local:22103 from:64707 to:22100
2020-03-18 17:38:43,858 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:64707, server: localhost/127.0.0.1:22103
2020-03-18 17:38:43,859 [myid:] - INFO  [Thread-88:PortForwarder@210] - connected: local:22103 from:64707 to:22100
2020-03-18 17:38:43,859 [myid:] - INFO  [Thread-88:PortForwarder@186] - accepting socket local:22103 to:22100
2020-03-18 17:38:43,859 [myid:3] - INFO  [NIOWorkerThread-2:Learner@137] - Revalidating client: 0x200015cc8f20000
2020-03-18 17:38:43,861 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:22103, session id = 0x200015cc8f20000, negotiated timeout = 30000
2020-03-18 17:38:43,861 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:SyncConnected type:None path:null
2020-03-18 17:38:43,863 [myid:127.0.0.1:22103] - WARN  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1272] - Session 0x200015cc8f20000 for sever localhost/127.0.0.1:22103, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x200015cc8f20000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:43,863 [myid:] - INFO  [Socket[addr=localhost/127.0.0.1,port=22100,localport=64708]-->Socket[addr=/127.0.0.1,port=64707,localport=22103]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=localhost/127.0.0.1,port=22100,localport=64708]
2020-03-18 17:38:43,863 [myid:] - INFO  [Socket[addr=/127.0.0.1,port=64707,localport=22103]-->Socket[addr=localhost/127.0.0.1,port=22100,localport=64708]:PortForwarder$PortForwardWorker@139] - Shutting down forward for Socket[addr=/127.0.0.1,port=64707,localport=22103]
2020-03-18 17:38:43,863 [myid:3] - WARN  [NIOWorkerThread-6:NIOServerCnxn@364] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:64708, session = 0x200015cc8f20000
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:43,968 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Disconnected type:None path:null
2020-03-18 17:38:44,248 [myid:2] - INFO  [SessionTracker:SessionTrackerImpl@170] - SessionTrackerImpl exited loop!
2020-03-18 17:38:44,552 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22102.
2020-03-18 17:38:44,552 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:44,553 [myid:127.0.0.1:22102] - WARN  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1272] - Session 0x200015cc8f20000 for sever localhost/127.0.0.1:22102, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:45,729 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22103.
2020-03-18 17:38:45,730 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:45,730 [myid:127.0.0.1:22103] - WARN  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1272] - Session 0x200015cc8f20000 for sever localhost/127.0.0.1:22103, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:46,168 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22102.
2020-03-18 17:38:46,168 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:46,168 [myid:127.0.0.1:22102] - WARN  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1272] - Session 0x200015cc8f20000 for sever localhost/127.0.0.1:22102, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:47,562 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22103.
2020-03-18 17:38:47,562 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:47,562 [myid:127.0.0.1:22103] - WARN  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1272] - Session 0x200015cc8f20000 for sever localhost/127.0.0.1:22103, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:48,154 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22102.
2020-03-18 17:38:48,154 [myid:127.0.0.1:22102] - INFO  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:48,155 [myid:127.0.0.1:22102] - WARN  [main-SendThread(127.0.0.1:22102):ClientCnxn$SendThread@1272] - Session 0x200015cc8f20000 for sever localhost/127.0.0.1:22102, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:48,866 [myid:] - INFO  [main:ObserverMasterTest@149] - Shutting down all servers
2020-03-18 17:38:49,429 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:22103.
2020-03-18 17:38:49,429 [myid:127.0.0.1:22103] - INFO  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-03-18 17:38:49,430 [myid:127.0.0.1:22103] - WARN  [main-SendThread(127.0.0.1:22103):ClientCnxn$SendThread@1266] - An exception was thrown while closing send thread for session 0x200015cc8f20000.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:342)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262)
2020-03-18 17:38:49,532 [myid:] - INFO  [main-EventThread:ObserverMasterTest@690] - Latch got event :: WatchedEvent state:Closed type:None path:null
2020-03-18 17:38:49,532 [myid:] - INFO  [main:ZooKeeper@1618] - Session: 0x200015cc8f20000 closed
2020-03-18 17:38:49,532 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@566] - EventThread shut down for session: 0x200015cc8f20000
2020-03-18 17:38:49,532 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled)
2020-03-18 17:38:49,533 [myid:] - INFO  [main:Follower@292] - shutdown Follower
2020-03-18 17:38:49,533 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:49,533 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:49,533 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Follower@129] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1455)
2020-03-18 17:38:49,533 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:64674:LearnerHandler@707] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:643)
2020-03-18 17:38:49,534 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:49,534 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64674:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64674 ********
2020-03-18 17:38:49,534 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Follower@143] - Disconnected from leader (with address: /127.0.0.1:22093). Was connected for 7328ms. Sync state: true
2020-03-18 17:38:49,535 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):Follower@292] - shutdown Follower
2020-03-18 17:38:49,534 [myid:1] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:49,535 [myid:1] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:49,535 [myid:] - INFO  [main:FollowerRequestProcessor@148] - Shutting down
2020-03-18 17:38:49,535 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:49,536 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@112] - FollowerRequestProcessor exited loop!
2020-03-18 17:38:49,536 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:49,536 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:49,537 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:49,537 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:49,537 [myid:1] - INFO  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@863] - Peer state changed: looking
2020-03-18 17:38:49,537 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@1501] - PeerState set to LOOKING
2020-03-18 17:38:49,538 [myid:1] - WARN  [QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled):QuorumPeer@1483] - QuorumPeer main thread exited
2020-03-18 17:38:49,538 [myid:1] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:49,538 [myid:1] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22098:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:49,538 [myid:1] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:49,539 [myid:1] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:49,540 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:49,540 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:49,540 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:49,540 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:49,540 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:49,540 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 2 my id = 1
2020-03-18 17:38:49,541 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:49,540 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:49,541 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:49,541 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 3
2020-03-18 17:38:49,541 [myid:] - INFO  [main:QuorumBase@368] - Shutting down leader election QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled)
2020-03-18 17:38:49,541 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:49,540 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1262] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1425)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:97)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1251)
2020-03-18 17:38:49,540 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1374] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1362)
2020-03-18 17:38:49,542 [myid:1] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1380] - Interrupting SendWorker
2020-03-18 17:38:49,542 [myid:1] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 3 my id = 1
2020-03-18 17:38:49,541 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1274] - Send worker leaving thread id 1 my id = 2
2020-03-18 17:38:49,541 [myid:] - INFO  [main:QuorumBase@373] - Waiting for QuorumPeer[myid=1](plain=[0:0:0:0:0:0:0:0]:22098)(secure=disabled) to exit thread
2020-03-18 17:38:49,542 [myid:] - INFO  [main:QuorumBase@364] - Shutting down quorum peer QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled)
2020-03-18 17:38:49,543 [myid:] - INFO  [main:Leader@792] - Shutting down
2020-03-18 17:38:49,543 [myid:] - INFO  [main:Leader@798] - Shutdown called. For the reason quorum Peer shutdown
2020-03-18 17:38:49,543 [myid:] - INFO  [main:ZooKeeperServer@784] - shutting down
2020-03-18 17:38:49,543 [myid:2] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:22093:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@523] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:510)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:493)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-03-18 17:38:49,543 [myid:] - INFO  [main:RequestThrottler@244] - Shutting down
2020-03-18 17:38:49,544 [myid:2] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:49,544 [myid:2] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
2020-03-18 17:38:49,544 [myid:] - INFO  [main:SessionTrackerImpl@247] - Shutting down
2020-03-18 17:38:49,544 [myid:] - INFO  [main:LeaderRequestProcessor@79] - Shutting down
2020-03-18 17:38:49,544 [myid:] - INFO  [main:PrepRequestProcessor@1047] - Shutting down
2020-03-18 17:38:49,544 [myid:] - INFO  [main:ProposalRequestProcessor@87] - Shutting down
2020-03-18 17:38:49,544 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@159] - PrepRequestProcessor exited loop!
2020-03-18 17:38:49,545 [myid:] - INFO  [main:CommitProcessor@617] - Shutting down
2020-03-18 17:38:49,545 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@406] - CommitProcessor exited loop!
2020-03-18 17:38:49,545 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1106] - Shutting down
2020-03-18 17:38:49,545 [myid:] - INFO  [main:FinalRequestProcessor@662] - shutdown of request processor complete
2020-03-18 17:38:49,545 [myid:] - INFO  [main:SyncRequestProcessor@256] - Shutting down
2020-03-18 17:38:49,545 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@225] - SyncRequestProcessor exited!
2020-03-18 17:38:49,546 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):Observer@126] - Exception when observing the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:182)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:122)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1436)
2020-03-18 17:38:49,547 [myid:2] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@578] - ConnnectionExpirerThread interrupted
2020-03-18 17:38:49,546 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64682:LearnerHandler@730] - ******* GOODBYE /127.0.0.1:64682 ********
2020-03-18 17:38:49,547 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):Observer@138] - Disconnected from leader (with address: /127.0.0.1:22093). Was connected for 7055ms. Sync state: true
2020-03-18 17:38:49,547 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):Observer@243] - shutdown Observer
2020-03-18 17:38:49,547 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-03-18 17:38:49,547 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):ZooKeeperServer@784] - shutting down
2020-03-18 17:38:49,547 [myid:2] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@411] - selector thread exitted run method
2020-03-18 17:38:49,547 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:22100)(secure=disabled):RequestThrottler@244] - Shutting down
2020-03-18 17:38:49,547 [myid:2] - INFO  [NIOServerCxnFactory.AcceptThread:/0.0.0.0:22099:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-03-18 17:38:49,547 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:64682:LearnerHandler@1044] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1042)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:732)
2020-03-18 17:38:49,548 [myid:3] - INFO  [RequestThrottler:RequestThrottler@205] - Draining request throttler queue
2020-03-18 17:38:49,548 [myid:2] - WARN  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):QuorumPeer@1471] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:730)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1468)
2020-03-18 17:38:49,548 [myid:2] - INFO  [QuorumPeer[myid=2](plain=[0:0:0:0:0:0:0:0]:22099)(secure=disabled):Leader@792] - Shutting down
2020-03-18 17:38:49,548 [myid:2] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@961] - Leaving listener
2020-03-18 17:38:49,548 [myid:3] - INFO  [RequestThrottler:RequestThrottler@181] - RequestThrottler shutdown. Dropped 0 requests
